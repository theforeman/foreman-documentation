<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.26">
<title>Managing content</title>
<style>
﻿*,::before,::after{box-sizing:border-box}html{font-size:100%;-webkit-text-size-adjust:100%}body{background:#fff;color:rgba(0,0,0,0.8);padding:0;margin:0;font-family:"Noto Serif", "DejaVu Serif", serif;font-size:inherit;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,p,blockquote,th,td{margin:0;padding:0}a{background:none;color:#2156a5;text-decoration:underline;line-height:inherit}a:active,a:hover{cursor:pointer;outline:0}a:focus{outline:thin dotted}a:hover,a:focus{color:#1d4b8f}abbr{font-size:0.9em}abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}b,strong{font-weight:bold;line-height:inherit}strong strong{font-weight:400}code,kbd,pre{font-family:"Droid Sans Mono", "DejaVu Sans Mono", monospace;font-size:1em}code{font-weight:400;color:rgba(0,0,0,0.9)}pre{color:rgba(0,0,0,0.9);line-height:1.45;text-rendering:optimizeSpeed;white-space:pre-wrap}dfn{font-style:italic}em,i{font-style:italic;line-height:inherit}em em{font-style:normal}hr{border:solid #dddddf;border-width:1px 0 0;clear:both;height:0;margin:1.25em 0 1.1875em}mark{background:#ff0;color:#000}p{line-height:1.6;margin-bottom:1.25rem;text-rendering:optimizeLegibility}q{quotes:"“" "”" "‘" "’"}small{font-size:60%;line-height:inherit}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img,object[type^="image/"],svg{display:inline-block;height:auto;max-width:100%;vertical-align:middle}img{border:0;-ms-interpolation-mode:bicubic}object{max-width:100%}svg:not(:root){overflow:hidden}figure{margin:0}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}.left{float:left !important}.right{float:right !important}.text-left{text-align:left !important}.text-right{text-align:right !important}.text-center{text-align:center !important}.text-justify{text-align:justify !important}.hide{display:none}.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:0.25em}p aside{font-size:.875em;line-height:1.35;font-style:italic}h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans", "DejaVu Sans", sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.2;word-spacing:-0.05em}h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{color:#e99b8f;line-height:0}h1{font-size:2.125em}h2{font-size:1.6875em}h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}h4,h5{font-size:1.125em}h6{font-size:1em}ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}ul,ol{margin-left:1.5em}ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}ul.square{list-style-type:square}ul.circle{list-style-type:circle}ul.disc{list-style-type:disc}ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}dl dt{margin-bottom:.3125em;font-weight:bold}dl dd{margin-bottom:1.25em;margin-left:1.125em}blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,0.85)}@media screen and (min-width: 768px){h1{font-size:2.75em}h2{font-size:2.3125em}h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}h4{font-size:1.4375em}}table{background:#fff;border:1px solid #dedede;border-collapse:collapse;border-spacing:0;margin-bottom:1.25em;word-wrap:normal}table thead,table tfoot{background:#f7f8f7}table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,0.8);text-align:left}table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,0.8)}table tr.even,table tr.alt{background:#f8f8f7}table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:"";display:table}.clearfix::after,.float-group::after{clear:both}:not(pre).nobreak{word-wrap:normal}:not(pre).nowrap{white-space:nowrap}:not(pre).pre-wrap{white-space:pre-wrap}:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal !important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}pre>code{display:block}pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}.keyseq{color:rgba(51,51,51,0.8)}kbd{display:inline-block;color:rgba(0,0,0,0.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,0.2),inset 0 0 0 0.1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}.keyseq kbd:first-child{margin-left:0}.keyseq kbd:last-child{margin-right:0}.menuseq,.menuref{color:#000}.menuseq b:not(.caret),.menuref{font-weight:inherit}.menuseq{word-spacing:-0.02em}.menuseq b.caret{font-size:1.25em;line-height:0.8}.menuseq i.caret{font-weight:bold;text-align:center;width:0.45em}b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}b.button::before{content:"[";padding:0 3px 0 2px}b.button::after{content:"]";padding:0 2px 0 3px}p a>code:hover{color:rgba(0,0,0,0.9)}body>div[id]{margin:0 auto;max-width:62.5em;position:relative;padding-left:.9375em;padding-right:0.9375em}body>div[id]::before,body>div[id]::after,#content #footnotes::before{content:"";display:table;clear:both}#content{margin-top:1.25em;margin-bottom:0.625em}#content::before{content:none}#header>h1:first-child{color:rgba(0,0,0,0.85);margin-top:2.25rem;margin-bottom:0}#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,0.6);display:flex;flex-flow:row wrap}#header .details span:first-child{margin-left:-0.125em}#header .details span.email a{color:rgba(0,0,0,0.85)}#header .details br{display:none}#header .details br+span::before{content:" – "}#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,0.85)}#header .details br+span#revremark::before{content:" | "}#header #revnumber{text-transform:capitalize}#header #revnumber::after{content:" "}#content>h1:first-child:not([class]){color:rgba(0,0,0,0.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}#toc{border-bottom:1px solid #e7e7e9;padding-bottom:0.5em}#toc>ul{margin-left:0.125em}#toc ul.sectlevel0>li>a{font-style:italic}#toc ul.sectlevel0 ul.sectlevel1{margin:0.5em 0}#toc ul{font-family:"Open Sans", "DejaVu Sans", sans-serif;list-style-type:none}#toc li{line-height:1.3334;margin-top:0.3334em}#toc a{text-decoration:none}#toc a:active{text-decoration:underline}#toctitle{color:#7a2518;font-size:1.2em}@media screen and (min-width: 768px){#toctitle{font-size:1.375em}body.toc2{padding-left:15em;padding-right:0}#toc.toc2{margin-top:0 !important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0 !important;border-bottom-width:0 !important;z-index:1000;padding:1.25em 1em;height:calc(100% - (70px + 2.5em));overflow:auto}#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}#toc.toc2>ul{font-size:.9em;margin-bottom:0}#toc.toc2 ul ul{margin-left:0;padding-left:1em}#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:0.5em}body.toc2.toc-right{padding-left:0;padding-right:15em}body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}@media screen and (min-width: 1280px){body.toc2{padding-left:20em;padding-right:0}#toc.toc2{width:20em}#toc.toc2 #toctitle{font-size:1.375em}#toc.toc2>ul{font-size:0.95em}#toc.toc2 ul ul{padding-left:1.25em}body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}#content #toc>:first-child{margin-top:0}#content #toc>:last-child{margin-bottom:0}#footer{max-width:none;background:#025d8c;padding:1.25em;margin-left:2em}#footer-text{color:rgba(255,255,255,0.8);line-height:1.44}h1:before,h2:before,h3:before,h4:before,h5:before,h6:before,div.title:before{display:block;content:" ";height:90px;margin-top:-90px;visibility:hidden}.sect1{padding-bottom:0.625em}@media screen and (min-width: 768px){#content{margin-bottom:1.25em}.sect1{padding-bottom:1.25em}}.sect1:last-child{padding-bottom:0}.sect1+.sect1{border-top:1px solid #e7e7e9}#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none !important;visibility:hidden;text-align:center;font-weight:400}#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:0.1em}#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}details{margin-left:1.25rem}details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}details>summary::-webkit-details-marker{display:none}details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif", "DejaVu Serif", serif;font-size:1rem;font-style:italic}table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,0.85)}.admonitionblock>table{border-collapse:separate;border:1;background:none;width:100%}.admonitionblock>table td.icon{text-align:center;width:80px}.admonitionblock>table td.icon img{max-width:none}.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans", "DejaVu Sans", sans-serif;text-transform:uppercase}.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,0.6);word-wrap:anywhere}.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}.exampleblock>.content{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#fffef7;border-radius:4px;box-shadow:0 1px 4px #e0e0dc}.exampleblock>.content>:first-child{margin-top:0}.exampleblock>.content>:last-child{margin-bottom:0}.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}.sidebarblock>:first-child{margin-top:0}.sidebarblock>:last-child{margin-bottom:0}.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:0.8125em}@media screen and (min-width: 768px){.literalblock pre,.listingblock>.content>pre{font-size:0.90625em}}@media screen and (min-width: 1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,0.9)}.listingblock>.content{position:relative}.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:0.5}.listingblock:hover code[data-lang]::before{display:block}.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:0.5}.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}.listingblock pre.highlightjs{padding:0}.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}.listingblock pre.prettyprint{border-width:0}.prettyprint{background:#f7f7f8}pre.prettyprint .linenums{line-height:1.45;margin-left:2em}pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}pre.prettyprint li code[data-lang]::before{opacity:1}pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}table.linenotable td.code{padding-left:0.75em}table.linenotable td.linenos{width:0.01%}table.linenotable td.linenos,pre.pygments .linenos,pre.rouge .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}pre.pygments span.linenos,pre.rouge span.linenos{display:inline-block;margin-right:0.75em}.quoteblock{margin:0 1em 1.25em 1.5em;display:table}.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:0.75em}.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,0.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}.quoteblock blockquote{margin:0;padding:0;border:0}.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,0.1)}.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}.verseblock{margin:0 1em 1.25em}.verseblock pre{font-family:"Open Sans", "DejaVu Sans", sans-serif;font-size:1.15rem;color:rgba(0,0,0,0.85);font-weight:300;text-rendering:optimizeLegibility}.verseblock pre strong{font-weight:400}.verseblock .attribution{margin-top:1.25rem;margin-left:0.5ex}.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}.quoteblock .attribution br,.verseblock .attribution br{display:none}.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,0.6)}.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}.quoteblock.abstract{margin:0 1em 1.25em;display:block}.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:0.25em solid #dddddf}.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}p.tableblock:last-child{margin-bottom:0}td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}td.tableblock>.content>:last-child{margin-bottom:-1.25em}table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}table.grid-all>*>tr>*{border-width:1px}table.grid-cols>*>tr>*{border-width:0 1px}table.grid-rows>*>tr>*{border-width:1px 0}table.frame-all{border-width:1px}table.frame-ends{border-width:1px 0}table.frame-sides{border-width:0 1px}table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}th.halign-left,td.halign-left{text-align:left}th.halign-right,td.halign-right{text-align:right}th.halign-center,td.halign-center{text-align:center}th.valign-top,td.valign-top{vertical-align:top}th.valign-bottom,td.valign-bottom{vertical-align:bottom}th.valign-middle,td.valign-middle{vertical-align:middle}table thead th,table tfoot th{font-weight:bold}tbody tr th{background:#f7f8f7}tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,0.8);font-weight:bold}p.tableblock>code:only-child{background:none;padding:0}p.tableblock{font-size:1em}ol{margin-left:1.75em}ul li ol{margin-left:1.5em}dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:0.625em}ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:0.625em}ul.unstyled,ol.unstyled{margin-left:0}li>p:empty:only-child::before{content:"";display:inline-block}ul.checklist>li>p:first-child{margin-left:-1em}ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:0.125em}ul.checklist>li>p:first-child>input[type=checkbox]:first-child{font:inherit;margin:0 .25em 0 0;padding:0}ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 0.625em -1.25em}ul.inline>li{margin-left:1.25em}.unstyled dl dt{font-weight:400;font-style:normal}ol.arabic{list-style-type:decimal}ol.decimal{list-style-type:decimal-leading-zero}ol.loweralpha{list-style-type:lower-alpha}ol.upperalpha{list-style-type:upper-alpha}ol.lowerroman{list-style-type:lower-roman}ol.upperroman{list-style-type:upper-roman}ol.lowergreek{list-style-type:lower-greek}.hdlist>table,.colist>table{border:0;background:none}.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}td.hdlist1,td.hdlist2{vertical-align:top;padding:0 0.625em}td.hdlist1{font-weight:bold;padding-bottom:1.25em}td.hdlist2{word-wrap:anywhere}.literalblock+.colist,.listingblock+.colist{margin-top:-0.5em}.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}.colist td:not([class]):first-child img{max-width:none}.colist td:not([class]):last-child{padding:0.25em 0}.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}.imageblock.left{margin:0.25em 0.625em 1.25em 0}.imageblock.right{margin:0.25em 0 1.25em 0.625em}.imageblock>.title{margin-bottom:0}.imageblock.thumb,.imageblock.th{border-width:6px}.imageblock.thumb>.title,.imageblock.th>.title{padding:0 0.125em}.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}.image.left{margin-right:0.625em}.image.right{margin-left:0.625em}a.image{text-decoration:none;display:inline-block}a.image object{pointer-events:none}sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}sup.footnote a,sup.footnoteref a{text-decoration:none}sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:0.625em}#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:0.2em}#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}#footnotes .footnote:last-of-type{margin-bottom:0}#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:0.75em 0}div.page-break{display:none}div.unbreakable{page-break-inside:avoid}.big{font-size:larger}.small{font-size:smaller}.underline{text-decoration:underline}.overline{text-decoration:overline}.line-through{text-decoration:line-through}.aqua{color:#00bfbf}.aqua-background{background:#00fafa}.black{color:#000}.black-background{background:#000}.blue{color:#0000bf}.blue-background{background:#0000fa}.fuchsia{color:#bf00bf}.fuchsia-background{background:#fa00fa}.gray{color:#606060}.gray-background{background:#7d7d7d}.green{color:#006000}.green-background{background:#007d00}.lime{color:#00bf00}.lime-background{background:#00fa00}.maroon{color:#600000}.maroon-background{background:#7d0000}.navy{color:#000060}.navy-background{background:#00007d}.olive{color:#606000}.olive-background{background:#7d7d00}.purple{color:#600060}.purple-background{background:#7d007d}.red{color:#bf0000}.red-background{background:#fa0000}.silver{color:#909090}.silver-background{background:#bcbcbc}.teal{color:#006060}.teal-background{background:#007d7d}.white{color:#bfbfbf}.white-background{background:#fafafa}.yellow{color:#bfbf00}.yellow-background{background:#fafa00}span.icon>.fa{cursor:default}a span.icon>.fa{cursor:inherit}.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,0.5);cursor:default}.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,0.8);color:#111}.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}.conum[data-value]{display:inline-block;color:#fff !important;background:rgba(0,0,0,0.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans", "DejaVu Sans", sans-serif;font-style:normal;font-weight:bold}.conum[data-value] *{color:#fff !important}.conum[data-value]+b{display:none}.conum[data-value]::after{content:attr(data-value)}pre .conum[data-value]{position:relative;top:-0.125em}b.conum *{color:inherit !important}.conum:not([data-value]):empty{display:none}dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}h1,h2,p,td.content,span.alt,summary{letter-spacing:-0.01em}p strong,td.content strong,div.footnote strong{letter-spacing:-0.005em}p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}.print-only{display:none !important}@page{margin:1.25cm 0.75cm}@media print{*{box-shadow:none !important;text-shadow:none !important}html{font-size:80%}a{color:inherit !important;text-decoration:underline !important}a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none !important}a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:0.25em}abbr[title]{border-bottom:1px dotted}abbr[title]::after{content:" (" attr(title) ")"}pre,blockquote,tr,img,object,svg{page-break-inside:avoid}thead{display:table-header-group}p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}body>div[id]{max-width:none}#toc,.sidebarblock,.exampleblock>.content{background:none !important}#toc{border-bottom:1px solid #dddddf !important;padding-bottom:0 !important}body.book #header{text-align:center}body.book #header>h1:first-child{border:0 !important;margin:2.5em 0 1em}body.book #header .details{border:0 !important;display:block;padding:0 !important}body.book #header .details span:first-child{margin-left:0 !important}body.book #header .details br{display:block}body.book #header .details br+span::before{content:none !important}body.book #toc{border:0 !important;text-align:left !important;padding:0 !important;margin:0 !important}body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}.listingblock code[data-lang]::before{display:block}div.page-break{display:block;page-break-after:always}#footer{padding:0 0.9375em}.hide-on-print{display:none !important}.print-only{display:block !important}.hide-for-print{display:none !important}.show-for-print{display:inherit !important}}@media amzn-kf8, print{#header>h1:first-child{margin-top:1.25rem}.sect1{padding:0 !important}.sect1+.sect1{border:0}#footer{background:none}#footer-text{color:rgba(0,0,0,0.6);font-size:0.9em}}@media amzn-kf8{body>div[id]{padding:0}}body{padding:0;margin:0;margin-top:70px !important}.container{position:relative;z-index:1;padding-top:50px;min-height:100%}.container p{font-family:sans-serif;font-size:1.2em}nav{position:fixed;z-index:9999;left:0;right:0;top:0;height:70px;padding:0 1.5em;background-color:#025d8c;font-family:sans-serif;line-height:70px}nav .logo{width:50px;vertical-align:middle}nav .nav-menu{position:absolute;right:0.3em;top:0;padding:0;margin:0;list-style:none}nav .nav-item{display:inline-block}nav .nav-item>a{display:inline-block;padding:0 2.5em;line-height:70px;color:#fff;text-decoration:none}nav .dropdown{position:relative}nav .dropdown a::after{content:"";display:inline-block;margin-left:0.5em;vertical-align:middle;border-top:0.3em solid #fff;border-right:0.3em solid transparent;border-left:0.3em solid transparent}nav .dropdown.show a::after{transform:rotate(180deg)}nav .dropdown-menu{display:none;position:absolute;left:0;right:0;top:100%;padding:0.5em 0;margin-top:-0.5em;border:1px solid rgba(0,0,0,0.3);border-radius:0.5em;background-color:#fff;width:max-content;max-height:80vh;overflow:scroll}nav .dropdown-menu-left{left:auto;right:0}nav .dropdown.show .dropdown-menu{display:block}nav .dropdown-div{display:block;padding:0.4em 0;line-height:4em}nav .dropdown-div a::after{content:none;margin-left:0;border-top:0;border-right:0;border-left:0}nav .dropdown-item{display:block;padding:0 1.5em;font-size:0.875em;color:#000;line-height:1.6em;text-decoration:none}nav .btn-hamburger{display:none;position:absolute;right:1.5em;top:50%;background-color:transparent;border:0;cursor:pointer;outline:none;transform:translateY(-50%)}nav .btn-hamburger span{display:block;width:30px;height:4px;background-color:#fff;margin:6px;border-radius:2px;transition:0.3s ease-in-out}nav .btn-hamburger span:nth-child(4),nav .btn-hamburger span:nth-child(5){position:absolute;top:10px;opacity:0.5}nav .btn-hamburger span:nth-child(4){transform:rotate(45deg) scale(0)}nav .btn-hamburger span:nth-child(5){transform:rotate(-45deg) scale(0)}nav.opened .btn-hamburger span:nth-child(4){opacity:1;transform:rotate(45deg) scale(1)}nav.opened .btn-hamburger span:nth-child(5){opacity:1;transform:rotate(-45deg) scale(1)}nav.opened .btn-hamburger span:nth-child(1),nav.opened .btn-hamburger span:nth-child(2),nav.opened .btn-hamburger span:nth-child(3){opacity:0}@media screen and (max-width: 768px){nav .nav-menu{position:fixed;left:0;right:0;top:70px;bottom:100%;display:flex;flex-direction:column;justify-content:start;background-color:#363d4e;transition:bottom 0.5s ease-in-out;overflow:hidden}nav.opened .nav-menu{bottom:0}nav .nav-item>a{display:block}nav .dropdown-menu{position:relative;top:0;margin:0 1.5em}nav .btn-hamburger{display:block}}/*!
* "Fork me on GitHub" CSS ribbon v0.2.3 | MIT License
* https://github.com/simonwhitaker/github-fork-ribbon-css

The MIT License (MIT)

Copyright (c) 2013 Simon Whitaker

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/.github-fork-ribbon,.release-ribbon,.issue-ribbon{width:12.1em;height:12.1em;position:absolute;overflow:hidden;top:70px;right:0;z-index:9998;pointer-events:none;font-size:13px;text-decoration:none;text-indent:-999999px}.github-fork-ribbon.fixed,.fixed.release-ribbon,.fixed.issue-ribbon{position:fixed}.github-fork-ribbon:hover,.release-ribbon:hover,.issue-ribbon:hover,.github-fork-ribbon:active,.release-ribbon:active,.issue-ribbon:active{background-color:transparent}.github-fork-ribbon:before,.release-ribbon:before,.issue-ribbon:before,.github-fork-ribbon:after,.release-ribbon:after,.issue-ribbon:after{position:absolute;display:block;width:15.38em;height:1.54em;top:3.23em;right:-3.23em;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.github-fork-ribbon:before,.release-ribbon:before,.issue-ribbon:before{content:"";padding:.38em 0;background-color:#a00;background-image:-webkit-gradient(linear, left top, left bottom, from(transparent), to(rgba(0,0,0,0.15)));background-image:-webkit-linear-gradient(top, transparent, rgba(0,0,0,0.15));background-image:-moz-linear-gradient(top, transparent, rgba(0,0,0,0.15));background-image:-ms-linear-gradient(top, transparent, rgba(0,0,0,0.15));background-image:-o-linear-gradient(top, transparent, rgba(0,0,0,0.15));background-image:linear-gradient(to bottom, transparent, rgba(0,0,0,0.15));-webkit-box-shadow:0 0.15em 0.23em 0 rgba(0,0,0,0.5);-moz-box-shadow:0 0.15em 0.23em 0 rgba(0,0,0,0.5);box-shadow:0 0.15em 0.23em 0 rgba(0,0,0,0.5);pointer-events:auto}.github-fork-ribbon:after,.release-ribbon:after,.issue-ribbon:after{content:attr(data-ribbon);color:#fff;font:700 1em "Helvetica Neue", Helvetica, Arial, sans-serif;line-height:1.54em;text-decoration:none;text-shadow:0 -0.08em rgba(0,0,0,0.5);text-align:center;text-indent:0;padding:.15em 0;margin:.15em 0;border-width:.08em 0;border-style:dotted;border-color:#fff;border-color:rgba(255,255,255,0.7)}.github-fork-ribbon.left-top,.left-top.release-ribbon,.left-top.issue-ribbon,.github-fork-ribbon.left-bottom,.left-bottom.release-ribbon,.left-bottom.issue-ribbon{right:auto;left:0}.github-fork-ribbon.left-bottom,.left-bottom.release-ribbon,.left-bottom.issue-ribbon,.github-fork-ribbon.right-bottom,.right-bottom.release-ribbon,.right-bottom.issue-ribbon{top:auto;bottom:0}.github-fork-ribbon.left-top:before,.left-top.release-ribbon:before,.left-top.issue-ribbon:before,.github-fork-ribbon.left-top:after,.left-top.release-ribbon:after,.left-top.issue-ribbon:after,.github-fork-ribbon.left-bottom:before,.left-bottom.release-ribbon:before,.left-bottom.issue-ribbon:before,.github-fork-ribbon.left-bottom:after,.left-bottom.release-ribbon:after,.left-bottom.issue-ribbon:after{right:auto;left:-3.23em}.github-fork-ribbon.left-bottom:before,.left-bottom.release-ribbon:before,.left-bottom.issue-ribbon:before,.github-fork-ribbon.left-bottom:after,.left-bottom.release-ribbon:after,.left-bottom.issue-ribbon:after,.github-fork-ribbon.right-bottom:before,.right-bottom.release-ribbon:before,.right-bottom.issue-ribbon:before,.github-fork-ribbon.right-bottom:after,.right-bottom.release-ribbon:after,.right-bottom.issue-ribbon:after{top:auto;bottom:3.23em}.github-fork-ribbon.left-top:before,.left-top.release-ribbon:before,.left-top.issue-ribbon:before,.github-fork-ribbon.left-top:after,.left-top.release-ribbon:after,.left-top.issue-ribbon:after,.github-fork-ribbon.right-bottom:before,.right-bottom.release-ribbon:before,.right-bottom.issue-ribbon:before,.github-fork-ribbon.right-bottom:after,.right-bottom.release-ribbon:after,.right-bottom.issue-ribbon:after{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg)}.release-ribbon:before{background-color:#a00}.issue-ribbon:before{background-color:#025d8c}@media screen{div.narrow{max-width:1080px;margin:0 auto !important;margin-top:70px auto !important;float:none !important}#toc.toc2{margin-top:70px !important}}._abstract{border-left:4px solid #025d8c;border-radius:4px;padding-left:1.25em}

</style>
<!-- Generate a nice TOC -->
<script src="/js/jquery-1.11.3.min.js"></script>
<script src="/js/jquery-ui.min.js"></script>
<script src="/js/jquery.tocify.min.js"></script>
<!-- We do not need the tocify CSS because the asciidoc CSS already provides most of what we need -->

<style>
.tocify-header {
    /* font-style: italic; */
}

.tocify-subheader {
    font-style: normal;
    font-size: 95%;
}

.tocify ul {
    margin: 0;
 }

.tocify-focus {
    /* background-color: rgba(0, 0, 0, 0.05);*/
}

.tocify-focus > a {
    color: #ba3925;
}
</style>

<script type="text/javascript">
    $(function () {
        // Add a new container for the tocify toc into the existing toc so we can re-use its
        // styling
        $("#toc").append("<div id='generated-toc'></div>");
        $("#generated-toc").tocify({
            extendPage: true,
            context: "#content",
            highlightOnScroll: true,
            hideEffect: "slideUp",
            // Use the IDs that asciidoc already provides so that TOC links and intra-document
            // links are the same. Anything else might confuse users when they create bookmarks.
            hashGenerator: function(text, element) {
                return $(element).attr("id");
            },
            // Smooth scrolling doesn't work properly if we use the asciidoc IDs
            smoothScroll: false,
            // Set to 'none' to use the tocify classes
            theme: "none",
            // Handle book (may contain h1) and article (only h2 deeper)
            selectors: $( "#content" ).has( "h1" ).size() > 0 ? "h1,h2,h3,h4,h5" : "h2,h3,h4,h5",
            ignoreSelector: ".discrete"
        });

        // Switch between static asciidoc toc and dynamic tocify toc based on browser size
        // This is set to match the media selectors in the asciidoc CSS
        // Without this, we keep the dynamic toc even if it is moved from the side to preamble
        // position which will cause odd scrolling behavior
        var handleTocOnResize = function() {
            if ($(document).width() < 768) {
                $("#generated-toc").hide();
                $(".sectlevel0").show();
                $(".sectlevel1").show();
            }
            else {
                $("#generated-toc").show();
                $(".sectlevel0").hide();
                $(".sectlevel1").hide();
            }
        }

        $(window).resize(handleTocOnResize);
        handleTocOnResize();
    });
</script>
<style>
/*! Asciidoctor Tabs | Copyright (c) 2018-present Dan Allen | MIT License */
.tabs {
  margin-bottom: 1.25em;
}

.tablist > ul {
  display: flex;
  flex-wrap: wrap;
  list-style: none;
  margin: 0;
  padding: 0;
}

.tablist > ul li {
  align-items: center;
  background-color: #fff;
  cursor: pointer;
  display: flex;
  font-weight: bold;
  line-height: 1.5;
  padding: 0.25em 1em;
  position: relative;
}

.tablist > ul li:focus-visible {
  outline: none;
}

.tablist.ulist,
.tablist.ulist > ul li {
  margin: 0;
}

.tablist.ulist > ul li + li {
  margin-left: 0.25em;
}

.tabs .tablist li::after {
  content: "";
  display: block;
  height: 1px;
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
}

.tabs.is-loading .tablist li:not(:first-child),
.tabs:not(.is-loading) .tablist li:not(.is-selected) {
  background-color: #f5f5f5;
}

.tabs.is-loading .tablist li:first-child::after,
.tabs:not(.is-loading) .tablist li.is-selected::after {
  background-color: #fff;
}

/*
.tabs:not(.is-loading) .tablist li,
.tabs:not(.is-loading) .tablist li::after {
  transition: background-color 200ms ease-in-out;
}
*/

.tablist > ul p {
  line-height: inherit;
  margin: 0;
}

.tabpanel {
  background-color: #fff;
  padding: 1.25em;
}

.tablist > ul li,
.tabpanel {
  border: 1px solid #dcdcdc;
}

.tablist > ul li {
  border-bottom: 0;
}

.tabs.is-loading .tabpanel + .tabpanel,
.tabs:not(.is-loading) .tabpanel.is-hidden {
  display: none;
}

.tabpanel > :first-child {
  margin-top: 0;
}

/* #content is a signature of the Asciidoctor standalone HTML output */
#content .tabpanel > :last-child,
#content .tabpanel > :last-child > :last-child,
#content .tabpanel > :last-child > :last-child > li:last-child > :last-child {
  margin-bottom: 0;
}

.tablecontainer {
  overflow-x: auto;
}

#content .tablecontainer {
  margin-bottom: 1.25em;
}

#content .tablecontainer > table.tableblock {
  margin-bottom: 0;
}
</style>
</head>
<body class="book toc2 toc-left">
    <div id="wrap">
      <script src="/js/versions.js"></script>
      <script src="/js/nav.js"></script>
      <script>
        document.open();
        document.write(buildNavigation());
        addNavbarListeners();
        document.close();
      </script>
    </div>
<div id="header">
<h1>Managing content</h1>
<div class="details">
<span id="revnumber">version Nightly,</span>
<span id="revdate">published Dec 2025</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#Introduction_to_Content_Management_content-management">1. Introduction to content management</a>
<ul class="sectlevel2">
<li><a href="#Content_Types_in_Foreman_content-management">1.1. Content types in Foreman</a></li>
</ul>
</li>
<li><a href="#Basic_Content_Management_Workflow_content-management">2. Basic content management workflow</a>
<ul class="sectlevel2">
<li><a href="#Creating_Repositories_to_Synchronize_content-management">2.1. Creating repositories to synchronize</a></li>
<li><a href="#Synchronizing_Content_from_an_Upstream_Repository_content-management">2.2. Synchronizing content from an upstream repository</a></li>
<li><a href="#Creating_an_Activation_Key_short_content-management">2.3. Creating an activation key</a></li>
<li><a href="#Registering_a_CentOS_Stream_Host_content-management">2.4. Registering a CentOS Stream host to Foreman</a></li>
<li><a href="#Using_Content_Views_content-management">2.5. Using content views</a></li>
<li><a href="#Creating_a_Content_View_short_content-management">2.6. Creating a content view</a></li>
<li><a href="#Adding_Repositories_content-management">2.7. Adding repositories</a></li>
<li><a href="#Publishing_the_Content_View_content-management">2.8. Publishing the content view</a></li>
<li><a href="#Creating_an_Activation_Key_to_Consume_the_Content_View_content-management">2.9. Creating an activation key to consume the content view</a></li>
<li><a href="#Registering_a_CentOS_Stream_host_to_consume_content_from_a_published_content_view_content-management">2.10. Registering a CentOS Stream host to consume content from a published content view</a></li>
<li><a href="#Managing_the_Lifecycle_of_the_Content_View_content-management">2.11. Managing the lifecycle of the content view</a></li>
<li><a href="#Promoting_your_Content_View_to_the_New_Lifecycle_Environment_content-management">2.12. Promoting your content view to the new lifecycle environment</a></li>
<li><a href="#Registering_a_CentOS_Stream_host_to_consume_content_from_a_promoted_Content_View_in_the_production_environment_content-management">2.13. Registering a CentOS Stream host to consume content from a promoted content view in the production environment</a></li>
</ul>
</li>
<li><a href="#Managing_Red_Hat_Subscriptions_content-management">3. Managing Red Hat subscriptions</a>
<ul class="sectlevel2">
<li><a href="#tracking-subscription-usage-by-using-the-subscriptions-service">3.1. Tracking subscription usage by using the Subscriptions service</a></li>
<li><a href="#Importing_a_Red_Hat_Subscription_Manifest_into_Server_content-management">3.2. Importing a Red&#160;Hat subscription manifest into Foreman&#160;server</a>
<ul class="sectlevel3">
<li><a href="#importing-red-hat-subscription-manifest-by-using-web-ui">3.2.1. Importing Red Hat subscription manifest by using Foreman web UI</a></li>
<li><a href="#importing-red-hat-subscription-manifest-by-using-cli">3.2.2. Importing Red Hat subscription manifest by using Hammer CLI</a></li>
</ul>
</li>
<li><a href="#Locating_a_Red_Hat_Subscription_content-management">3.3. Locating a Red Hat subscription</a></li>
<li><a href="#Adding_Red_Hat_Subscriptions_to_Subscription_Manifests_content-management">3.4. Adding Red Hat subscriptions to subscription manifests</a></li>
<li><a href="#Removing_Red_Hat_Subscriptions_from_Subscription_Manifests_content-management">3.5. Removing Red Hat subscriptions from subscription manifests</a></li>
<li><a href="#Updating_and_Refreshing_Red_Hat_Subscription_Manifests_content-management">3.6. Updating and refreshing Red Hat subscription manifests</a></li>
<li><a href="#Content_Delivery_Network_Structure_content-management">3.7. Content Delivery Network structure</a></li>
</ul>
</li>
<li><a href="#managing-alternate-content-sources">4. Managing alternate content sources</a>
<ul class="sectlevel2">
<li><a href="#creating-custom-alternate-content-sources-by-using-web-ui">4.1. Creating custom alternate content sources by using Foreman web UI</a></li>
<li><a href="#creating-custom-alternate-content-sources-by-using-cli">4.2. Creating custom alternate content sources by using Hammer CLI</a></li>
<li><a href="#creating-simplified-alternate-content-sources-by-using-web-ui">4.3. Creating simplified alternate content sources by using Foreman web UI</a></li>
<li><a href="#creating-simplified-alternate-content-sources-by-using-cli">4.4. Creating simplified alternate content sources by using Hammer CLI</a></li>
<li><a href="#creating-rhui-alternate-content-sources-by-using-web-ui">4.5. Creating RHUI alternate content sources by using Foreman web UI</a></li>
<li><a href="#creating-rhui-alternate-content-sources-by-using-cli">4.6. Creating RHUI alternate content sources by using Hammer CLI</a></li>
<li><a href="#permissions-required-to-manage-alternate-content-sources">4.7. Permissions required to manage alternate content sources</a></li>
</ul>
</li>
<li><a href="#Importing_Content_content-management">5. Importing content</a>
<ul class="sectlevel2">
<li><a href="#Products_and_Repositories_content-management">5.1. Products and repositories in Foreman</a></li>
<li><a href="#best-practices-for-products-and-repositories_content-management">5.2. Best practices for products and repositories</a></li>
<li><a href="#importing-custom-ssl-certificates-by-using-web-ui">5.3. Importing SSL certificates by using Foreman web UI</a></li>
<li><a href="#importing-custom-ssl-certificates-by-using-cli">5.4. Importing SSL certificates by using Hammer CLI</a></li>
<li><a href="#creating-a-custom-product-by-using-web-ui">5.5. Creating a product by using Foreman web UI</a></li>
<li><a href="#creating-a-custom-product-by-using-cli">5.6. Creating a product by using Hammer CLI</a></li>
<li><a href="#adding-custom-rpm-repositories-by-using-web-ui">5.7. Adding RPM repositories by using Foreman web UI</a></li>
<li><a href="#adding-custom-rpm-repositories-by-using-cli">5.8. Adding RPM repositories by using Hammer CLI</a></li>
<li><a href="#default-operating-system-repositories">5.9. Default operating system repositories</a></li>
<li><a href="#uln-repositories">5.10. ULN repositories</a>
<ul class="sectlevel3">
<li><a href="#uln-repositories-for-oracle-linux-10">5.10.1. ULN repositories for Oracle Linux 10</a></li>
<li><a href="#uln-repositories-for-oracle-linux-9">5.10.2. ULN repositories for Oracle Linux 9</a></li>
<li><a href="#uln-repositories-for-oracle-linux-8">5.10.3. ULN repositories for Oracle Linux 8</a></li>
</ul>
</li>
<li><a href="#Extracting_GPG_Public_Key_Fingerprints_from_Release_Files_content-management">5.11. Extracting GPG public key fingerprints from Release files</a></li>
<li><a href="#adding-deb-repositories-by-using-web-ui">5.12. Adding Deb repositories by using Foreman web UI</a></li>
<li><a href="#adding-deb-repositories-by-using-cli">5.13. Adding Deb repositories by using Hammer CLI</a></li>
<li><a href="#Synchronizing-Ubuntu-Expanded-Security-Maintenance-content_content-management">5.14. Synchronizing Ubuntu Expanded Security Maintenance content</a></li>
<li><a href="#Changing_the_Repository_Sets_Status_for-a-Host-in_foreman_content-management">5.15. Changing the repository sets status for a host in Foreman</a></li>
<li><a href="#enabling-red-hat-repositories-by-using-web-ui">5.16. Enabling Red&#160;Hat repositories by using Foreman web UI</a></li>
<li><a href="#enabling-red-hat-repositories-by-using-cli">5.17. Enabling Red&#160;Hat repositories by using Hammer CLI</a></li>
<li><a href="#repository-synchronization">5.18. Repository synchronization</a>
<ul class="sectlevel3">
<li><a href="#synchronizing-repositories-by-using-web-ui">5.18.1. Synchronizing repositories by using Foreman web UI</a></li>
<li><a href="#synchronizing-repositories-by-using-cli">5.18.2. Synchronizing repositories by using Hammer CLI</a></li>
<li><a href="#Synchronizing_All_Repositories_in_an_Organization_content-management">5.18.3. Synchronizing all repositories in an organization</a></li>
</ul>
</li>
<li><a href="#Download_Policies_Overview_content-management">5.19. Download policies overview</a></li>
<li><a href="#changing-the-default-download-policy-by-using-web-ui">5.20. Changing the default download policy by using Foreman web UI</a></li>
<li><a href="#changing-the-default-download-policy-by-using-cli">5.21. Changing the default download policy by using Hammer CLI</a></li>
<li><a href="#changing-the-download-policy-for-a-repository-by-using-web-ui">5.22. Changing the download policy for a repository by using Foreman web UI</a></li>
<li><a href="#changing-the-download-policy-for-a-repository-by-using-cli">5.23. Changing the download policy for a repository by using Hammer CLI</a></li>
<li><a href="#Mirroring_Policies_Overview_content-management">5.24. Mirroring policies overview</a></li>
<li><a href="#changing-the-default-mirroring-policy-by-using-web-ui">5.25. Changing the default mirroring policy by using Foreman web UI</a></li>
<li><a href="#changing-the-default-mirroring-policy-by-using-cli">5.26. Changing the default mirroring policy by using Hammer CLI</a></li>
<li><a href="#changing-the-mirroring-policy-for-a-repository-by-using-web-ui">5.27. Changing the mirroring policy for a repository by using Foreman web UI</a></li>
<li><a href="#changing-the-mirroring-policy-for-a-repository-by-using-cli">5.28. Changing the mirroring policy for a repository by using Hammer CLI</a></li>
<li><a href="#uploading-content-to-custom-rpm-repositories-by-using-web-ui">5.29. Uploading content to RPM repositories by using Foreman web UI</a></li>
<li><a href="#uploading-content-to-custom-rpm-repositories-by-using-cli">5.30. Uploading content to RPM repositories by using Hammer CLI</a></li>
<li><a href="#Refreshing_Content_Counts_on_Smart_Proxy_content-management">5.31. Refreshing content counts on Smart&#160;Proxy</a></li>
<li><a href="#configuring-selinux-to-permit-content-synchronization-on-custom-ports_content-management">5.32. Configuring SELinux to permit content synchronization on custom ports</a></li>
<li><a href="#advanced-synchronization-for-repository-recovery">5.33. Advanced synchronization for repository recovery</a>
<ul class="sectlevel3">
<li><a href="#recovering-a-corrupted-repository-by-using-web-ui">5.33.1. Recovering a corrupted repository by using Foreman web UI</a></li>
<li><a href="#recovering-a-corrupted-repository-by-using-cli">5.33.2. Recovering a corrupted repository by using Hammer CLI</a></li>
</ul>
</li>
<li><a href="#recovering-corrupted-content-on-a-smart-proxy-server-by-using-web-ui">5.34. Recovering corrupted content on a Smart&#160;Proxy&#160;server by using Foreman web UI</a></li>
<li><a href="#recovering-corrupted-content-on-a-smart-proxy-server-by-using-cli">5.35. Recovering corrupted content on a Smart&#160;Proxy&#160;server by using CLI</a></li>
<li><a href="#republishing-repository-metadata-by-using-web-ui">5.36. Republishing repository metadata by using Foreman web UI</a></li>
<li><a href="#republishing-repository-metadata-by-using-cli">5.37. Republishing repository metadata by using CLI</a></li>
<li><a href="#republishing-content-view-metadata-by-using-web-ui">5.38. Republishing content view metadata by using Foreman web UI</a></li>
<li><a href="#republishing-content-view-metadata-by-using-cli">5.39. Republishing content view metadata by using CLI</a></li>
<li><a href="#adding-an-http-proxy-by-using-web-ui">5.40. Adding an HTTP proxy by using Foreman web UI</a></li>
<li><a href="#adding-an-http-proxy-by-using-cli">5.41. Adding an HTTP proxy by using Hammer CLI</a></li>
<li><a href="#Changing_the_HTTP_Proxy_Policy_for_a_Product_content-management">5.42. Changing the HTTP proxy policy for a product</a></li>
<li><a href="#changing-the-http-proxy-policy-for-a-repository-by-using-web-ui">5.43. Changing the HTTP proxy policy for a repository by using Foreman web UI</a></li>
<li><a href="#changing-the-http-proxy-policy-for-a-repository-by-using-cli">5.44. Changing the HTTP proxy policy for a repository by using Hammer CLI</a></li>
<li><a href="#creating-a-sync-plan-by-using-web-ui">5.45. Creating a sync plan by using Foreman web UI</a></li>
<li><a href="#creating-a-sync-plan-by-using-cli">5.46. Creating a sync plan by using Hammer CLI</a></li>
<li><a href="#assigning-a-sync-plan-to-a-product-by-using-web-ui">5.47. Assigning a sync plan to a product by using Foreman web UI</a></li>
<li><a href="#assigning-a-sync-plan-to-a-product-by-using-cli">5.48. Assigning a sync plan to a product by using Hammer CLI</a></li>
<li><a href="#Assigning_a_Sync_Plan_to_Multiple_Products_content-management">5.49. Assigning a sync plan to multiple products</a></li>
<li><a href="#best-practices-for-sync-plans_content-management">5.50. Best practices for sync plans</a></li>
<li><a href="#Limiting_Synchronization_Concurrency_content-management">5.51. Limiting synchronization concurrency</a></li>
<li><a href="#importing-a-custom-gpg-key-by-using-web-ui">5.52. Importing a GPG key by using Foreman web UI</a></li>
<li><a href="#importing-a-custom-gpg-key-by-using-cli">5.53. Importing a GPG key by using Hammer CLI</a></li>
<li><a href="#Restricting_a_Repository_to_a_Specific_operating_system_Version_or_Architecture_in_Project_content-management">5.54. Restricting a repository to a specific operating system or architecture in Foreman</a></li>
</ul>
</li>
<li><a href="#content-access-control-for-hosts">6. Content access control for Foreman hosts</a>
<ul class="sectlevel2">
<li><a href="#content-access-strategies">6.1. Content access strategies</a></li>
<li><a href="#conditions-for-content-availability">6.2. Conditions for content availability</a></li>
<li><a href="#activation-keys-and-content-access">6.3. Activation keys and content access</a></li>
</ul>
</li>
<li><a href="#Managing_Application_Lifecycles_content-management">7. Managing application lifecycles</a>
<ul class="sectlevel2">
<li><a href="#introduction_to_application_lifecycle_content-management">7.1. Introduction to application lifecycle</a></li>
<li><a href="#Content_Promotion_across_the_Application_Lifecycle_content-management">7.2. Content promotion across the application lifecycle</a></li>
<li><a href="#best-practices-for-lifecycle-environments_content-management">7.3. Best practices for lifecycle environments</a></li>
<li><a href="#Creating_a_Lifecycle_Environment_Path_content-management">7.4. Creating a lifecycle environment path</a></li>
<li><a href="#Adding_Lifecycle_Environments_content-management">7.5. Adding lifecycle environments to Smart&#160;Proxy&#160;servers</a></li>
<li><a href="#Removing_Lifecycle_Environments_from_Server_content-management">7.6. Removing lifecycle environments from Foreman&#160;server</a></li>
<li><a href="#Removing_Lifecycle_Environments_from_Smart_Proxy_content-management">7.7. Removing lifecycle environments from Smart&#160;Proxy&#160;server</a></li>
</ul>
</li>
<li><a href="#Managing_Content_Views_content-management">8. Managing content views</a>
<ul class="sectlevel2">
<li><a href="#Content-Views-in-Foreman_content-management">8.1. Content views in Foreman</a></li>
<li><a href="#best-practices-for-content-views_content-management">8.2. Best practices for content views</a></li>
<li><a href="#best-practices-for-patching-content-hosts_content-management">8.3. Best practices for patching content hosts</a></li>
<li><a href="#Creating_a_Content_View_content-management">8.4. Creating a content view</a></li>
<li><a href="#Copying_a_Content_View_content-management">8.5. Copying a content view</a></li>
<li><a href="#synchronizing-a-content-view-to-a-smart-proxy-server">8.6. Synchronizing a content view to a Smart&#160;Proxy&#160;server</a></li>
<li><a href="#Viewing_Module_Streams_content-management">8.7. Viewing module streams</a></li>
<li><a href="#Promoting_a_Content_View_content-management">8.8. Promoting a content view</a></li>
<li><a href="#rolling-content-views">8.9. Rolling content views</a></li>
<li><a href="#creating-a-rolling-content-view">8.10. Creating a rolling content view</a></li>
<li><a href="#assigning-a-rolling-content-view-to-lifecycle-environments">8.11. Assigning a rolling content view to lifecycle environments</a></li>
<li><a href="#Composite_Content_Views_Overview_content-management">8.12. Composite content views overview</a></li>
<li><a href="#Creating_a_Composite_Content_View_content-management">8.13. Creating a composite content view</a></li>
<li><a href="#Content_Filter_Overview_content-management">8.14. Content filter overview</a></li>
<li><a href="#Resolving_Package_Dependencies_content-management">8.15. Resolving package dependencies</a></li>
<li><a href="#enabling-dependency-solving-for-a-content-view_content-management">8.16. Enabling dependency solving for a content view</a></li>
<li><a href="#Content_Filter_Examples_content-management">8.17. Content filter examples</a></li>
<li><a href="#creating-a-content-view-filter-by-using-web-ui">8.18. Creating a content view filter by using Foreman web UI</a></li>
<li><a href="#creating-a-content-view-filter-by-using-cli">8.19. Creating a content view filter by using CLI</a></li>
<li><a href="#Deleting_Multiple_Content_View_Versions_content-management">8.20. Deleting multiple content view versions</a></li>
<li><a href="#Clearing_the_Search_Filter_content-management">8.21. Clearing the search filter</a></li>
<li><a href="#Standardizing_Content_View_Empty_States_content-management">8.22. Standardizing content view empty states</a></li>
<li><a href="#Comparing_Content_View_Versions_content-management">8.23. Comparing content view versions</a></li>
<li><a href="#Distributing_Archived_Content_View_Versions_content-management">8.24. Distributing archived content view versions</a></li>
</ul>
</li>
<li><a href="#managing-content-view-environments">9. Managing content view environments</a>
<ul class="sectlevel2">
<li><a href="#content-view-environments-overview">9.1. Content view environments overview</a></li>
<li><a href="#content-view-environment-categories">9.2. Content view environment categories</a></li>
<li><a href="#content-view-environment-ordering-and-priority">9.3. Content view environment ordering and priority</a></li>
<li><a href="#assigning-content-view-environments-to-hosts">9.4. Assigning content view environments to hosts</a></li>
<li><a href="#assigning-content-view-environments-to-hosts-by-using-subscription-manager">9.5. Assigning content view environments to hosts by using Subscription Manager</a></li>
<li><a href="#comparison-of-content-view-environments-and-composite-content-views">9.6. Comparison of content view environments and composite content views</a></li>
</ul>
</li>
<li><a href="#Synchronizing_Content_Between_Servers_content-management">10. Synchronizing content between Foreman&#160;servers</a>
<ul class="sectlevel2">
<li><a href="#content-synchronization-by-using-export-and-import_content-management">10.1. Content synchronization by using export and import</a>
<ul class="sectlevel3">
<li><a href="#Using_Upstream_Server_as_a_Content_Store_content-management">10.1.1. Using an upstream Foreman&#160;server as a content store</a></li>
<li><a href="#Using_Upstream_Server_to_Synchronize_Content_View_Versions_content-management">10.1.2. Using an upstream Foreman&#160;server to synchronize content view versions</a></li>
<li><a href="#synchronizing-a-single-repository_content-management">10.1.3. Synchronizing a single repository</a></li>
</ul>
</li>
<li><a href="#Synchronizing_a_Custom_Repository_content-management">10.2. Synchronizing a custom repository</a></li>
<li><a href="#Exporting_the_Library_Environment_content-management">10.3. Exporting the Library environment</a></li>
<li><a href="#Exporting_the_Library_Environment_in_a_Syncable_Format_content-management">10.4. Exporting the library environment in a syncable format</a></li>
<li><a href="#Importing_Syncable_Exports_content-management">10.5. Importing syncable exports</a></li>
<li><a href="#exporting-the-library-environment-incrementally_content-management">10.6. Exporting the Library environment incrementally</a></li>
<li><a href="#Exporting_a_Content_View_Version_content-management">10.7. Exporting a content view version</a></li>
<li><a href="#Exporting_a_Content_View_Version_in_a_Syncable_Format_content-management">10.8. Exporting a content view version in a syncable format</a></li>
<li><a href="#Exporting_a_Content_View_Version_Incrementally_content-management">10.9. Exporting a content view version incrementally</a></li>
<li><a href="#Exporting_a_Repository_content-management">10.10. Exporting a repository</a></li>
<li><a href="#Exporting_a_Repository_in_a_Syncable_Format_content-management">10.11. Exporting a repository in a syncable format</a></li>
<li><a href="#exporting-a-repository-incrementally">10.12. Exporting a repository incrementally</a></li>
<li><a href="#Exporting_a_Repository_Incrementally_in_a_Syncable_Format_content-management">10.13. Exporting a repository incrementally in a syncable format</a></li>
<li><a href="#Keeping_Track_of_Your_Exports_content-management">10.14. Keeping track of your exports</a></li>
<li><a href="#Importing_into_the_Library_Environment_content-management">10.15. Importing into the Library environment</a></li>
<li><a href="#Importing_into_the_Library_Environment_from_a_web_server_content-management">10.16. Importing into the Library environment from a web server</a></li>
<li><a href="#Importing_a_Content_View_Version_content-management">10.17. Importing a content view version</a></li>
<li><a href="#Importing_a_Content_View_Version_from_a_web_servercontent-management">10.18. Importing a content view version from a web server</a></li>
<li><a href="#Importing_a_Repository_content-management">10.19. Importing a repository</a></li>
<li><a href="#Importing_a_Repository_from_a_web_server_content-management">10.20. Importing a repository from a web server</a></li>
<li><a href="#Exporting_and_Importing_Content_Using_Hammer_CLI_Cheat_Sheet_content-management">10.21. Exporting and importing content using Hammer CLI cheat sheet</a></li>
</ul>
</li>
<li><a href="#Managing_Activation_Keys_content-management">11. Managing activation keys</a>
<ul class="sectlevel2">
<li><a href="#best-practices-for-activation-keys_content-management">11.1. Best practices for activation keys</a></li>
<li><a href="#Creating_an_Activation_Key_content-management">11.2. Creating an activation key</a></li>
<li><a href="#Using_Activation_Keys_for_Host_Registration_content-management">11.3. Using activation keys for host registration</a></li>
<li><a href="#Setting_the_Service_Level_content-management">11.4. Setting the service level</a></li>
<li><a href="#enabling-and-disabling-repositories-on-activation-key_content-management">11.5. Enabling and disabling repositories on activation key</a></li>
<li><a href="#multiple-activation-keys-and-content-view-environments">11.6. Multiple activation keys and content view environments</a></li>
<li><a href="#assigning-content-view-environments-to-activation-keys">11.7. Assigning content view environments to activation keys</a></li>
<li><a href="#removing-all-content-view-environments-from-an-activation-key">11.8. Removing all content view environments from an activation key</a></li>
</ul>
</li>
<li><a href="#Managing_SUSE_Content_content-management">12. Managing SUSE content</a>
<ul class="sectlevel2">
<li><a href="#Preparing_SUSE_Installation_Media_content-management">12.1. Preparing SUSE installation media</a></li>
<li><a href="#Creating_a_SUSE_Operating_System_content-management">12.2. Creating a SUSE operating system</a></li>
<li><a href="#Installing_the_SCC_Manager_plugin_content-management">12.3. Installing the SCC Manager plugin</a></li>
<li><a href="#adding-an-scc-account-to-foreman-by-using-web-ui">12.4. Adding an SCC account to Foreman by using Foreman web UI</a></li>
<li><a href="#adding-an-scc-account-to-foreman-by-using-cli">12.5. Adding an SCC account to Foreman by using Hammer CLI</a></li>
<li><a href="#Switching_SCC_Accounts_content-management">12.6. Switching SCC accounts</a></li>
<li><a href="#Updating_an_SCC_Account_content-management">12.7. Updating an SCC account</a></li>
<li><a href="#Importing_SUSE_Products_content-management">12.8. Importing SUSE products</a></li>
<li><a href="#Synchronizing_SUSE_Content_content-management">12.9. Synchronizing SUSE content</a></li>
<li><a href="#Removing_an_SCC_Account_from_foreman_content-management">12.10. Removing an SCC account from Foreman</a></li>
</ul>
</li>
<li><a href="#Managing_Errata_content-management">13. Managing errata</a>
<ul class="sectlevel2">
<li><a href="#best-practices-for-errata_content-management">13.1. Best practices for errata</a></li>
<li><a href="#Inspecting_Available_Errata_content-management">13.2. Inspecting available errata</a></li>
<li><a href="#Parameters_Available_for_Errata_Search_content-management">13.3. Parameters available for errata search</a></li>
<li><a href="#running-custom-code-while-applying-errata_content-management">13.4. Running custom code while applying errata</a></li>
<li><a href="#Subscribing_to_Errata_Notifications_content-management">13.5. Subscribing to errata notifications</a></li>
<li><a href="#Limitations_to_Repository_Dependency_Resolution_content-management">13.6. Limitations to repository dependency resolution</a></li>
<li><a href="#creating-a-content-view-filter-for-errata-by-using-web-ui">13.7. Creating a content view filter for errata by using Foreman web UI</a></li>
<li><a href="#creating-a-content-view-filter-for-errata-by-using-cli">13.8. Creating a content view filter for errata by using CLI</a></li>
<li><a href="#Adding_Errata_To_An_Incremental_Content_View_content-management">13.9. Adding errata to an incremental content view</a></li>
<li><a href="#creating-an-incremental-content-view-version-by-adding-deb-packages">13.10. Creating an incremental content view version by adding Deb packages</a></li>
<li><a href="#applying-errata-to-hosts">13.11. Applying errata to hosts</a></li>
<li><a href="#applying-errata-to-hosts-by-using-web-ui">13.12. Applying errata to hosts by using Foreman web UI</a></li>
<li><a href="#applying-errata-to-hosts-by-using-cli">13.13. Applying errata to hosts by using CLI</a></li>
</ul>
</li>
<li><a href="#managing-ostree-content">14. Managing OSTree content</a>
<ul class="sectlevel2">
<li><a href="#enabling-ostree-content">14.1. Enabling OSTree content</a></li>
<li><a href="#importing-ostree-content_content-management">14.2. Importing OSTree content</a></li>
<li><a href="#uploading-ostree-content-by-using-cli">14.3. Uploading OSTree content by using Hammer CLI</a></li>
<li><a href="#managing-ostree-content-with-content-views_content-management">14.4. Managing OSTree content with content views</a></li>
<li><a href="#Installing_OSTree_Content_from_foreman_Server_content-management">14.5. Installing OSTree content from Foreman&#160;server on hosts</a></li>
</ul>
</li>
<li><a href="#Managing_Container_Images_content-management">15. Managing container images</a>
<ul class="sectlevel2">
<li><a href="#Importing_Container_Images_content-management">15.1. Importing container images</a></li>
<li><a href="#Managing_Container_Name_Patterns_content-management">15.2. Managing container name patterns</a></li>
<li><a href="#Managing_Container_Registry_Authentication_content-management">15.3. Managing container registry authentication</a></li>
<li><a href="#Configuring_podman_to_trust_the_CA_content-management">15.4. Configuring Podman and Docker to trust the certificate authority</a></li>
<li><a href="#Using_Container_Registries_content-management">15.5. Using container registries</a></li>
</ul>
</li>
<li><a href="#managing-flatpak-repositories-in-project">16. Managing Flatpak repositories in Foreman</a>
<ul class="sectlevel2">
<li><a href="#creating-a-flatpak-remote-by-using-web-ui">16.1. Creating a Flatpak remote by using Foreman web UI</a></li>
<li><a href="#creating-a-flatpak-remote-by-using-cli">16.2. Creating a Flatpak remote by using Hammer CLI</a></li>
<li><a href="#scanning-a-flatpak-remote-by-using-web-ui">16.3. Scanning a Flatpak remote by using Foreman web UI</a></li>
<li><a href="#scanning-a-flatpak-remote-by-using-cli">16.4. Scanning a Flatpak remote by using Hammer CLI</a></li>
<li><a href="#viewing-flatpak-remote-details-by-using-web-ui">16.5. Viewing Flatpak remote details by using Foreman web UI</a></li>
<li><a href="#viewing-flatpak-remote-details-by-using-cli">16.6. Viewing Flatpak remote details by using Hammer CLI</a></li>
<li><a href="#mirroring-remote-flatpak-repositories-to-foreman-products-by-using-web-ui">16.7. Mirroring remote Flatpak repositories to Foreman products by using Foreman web UI</a></li>
<li><a href="#mirroring-remote-flatpak-repositories-to-foreman-products-by-using-cli">16.8. Mirroring remote Flatpak repositories to Foreman products by using Hammer CLI</a></li>
<li><a href="#enabling-the-flatpak-remote-by-using-cli">16.9. Enabling the Flatpak remote by using Hammer CLI</a></li>
<li><a href="#installing-flatpak-applications-on-foreman-hosts">16.10. Installing Flatpak applications on Foreman hosts</a></li>
<li><a href="#setting-up-flatpak-remote-for-smart-proxy">16.11. Setting up Flatpak remote for Smart&#160;Proxy</a></li>
<li><a href="#importing-and-exporting-content-to-foreman-server-for-flatpak">16.12. Importing and exporting content to Foreman&#160;server for Flatpak</a></li>
</ul>
</li>
<li><a href="#Managing_ISO_Images_content-management">17. Managing ISO images</a>
<ul class="sectlevel2">
<li><a href="#Importing_ISO_Images_from_Red_Hat_content-management">17.1. Importing ISO images from Red Hat</a></li>
<li><a href="#Importing_Individual_ISO_Images_and_Files_content-management">17.2. Importing individual ISO images and files</a></li>
</ul>
</li>
<li><a href="#Managing_Ansible_Content_content-management">18. Managing Ansible content</a>
<ul class="sectlevel2">
<li><a href="#synchronizing-ansible-collections_content-management">18.1. Synchronizing Ansible Collections</a></li>
</ul>
</li>
<li><a href="#Managing_Custom_File_Type_Content_content-management">19. Managing file type content</a>
<ul class="sectlevel2">
<li><a href="#Creating_a_Local_Source_for_a_Custom_File_Type_Repository_content-management">19.1. Creating a local source for a file type repository</a></li>
<li><a href="#Creating_a_Remote_Source_for_a_Custom_File_Type_Repository_content-management">19.2. Creating a remote source for a file type repository</a></li>
<li><a href="#Creating_a_Custom_File_Type_Repository_content-management">19.3. Creating a file type repository</a></li>
<li><a href="#Uploading_Files_To_a_Custom_File_Type_Repository_content-management">19.4. Uploading files to a file type repository</a></li>
<li><a href="#Downloading_Files_to_a_Host_from_a_Custom_File_Type_Repository_content-management">19.5. Downloading files to a host from a file type repository</a></li>
</ul>
</li>
<li><a href="#Managing_Python_Type_Content_content-management">20. Managing Python type content</a>
<ul class="sectlevel2">
<li><a href="#Synchronizing_Python_Repositories_content-management">20.1. Synchronizing Python repositories</a></li>
<li><a href="#Uploading_Files_To_a_Python_Type_Repository_content-management">20.2. Uploading files to a Python type repository</a></li>
<li><a href="#Installing_Python_Packages_from_foreman_Server_content-management">20.3. Installing Python packages from Foreman&#160;server</a></li>
<li><a href="#Downloading_Files_to_a_Host_from_a_Python_Type_Repository_content-management">20.4. Downloading files to a host from a Python type repository</a></li>
</ul>
</li>
<li><a href="#required-red-hat-repositories">Appendix A: Required Red Hat repositories</a></li>
<li><a href="#troubleshooting-synchronization-errors">Appendix B: Troubleshooting synchronization errors</a></li>
<li><a href="#Using_an_NFS_Share_for_Content_Storage_content-management">Appendix C: Using an NFS share for content storage</a></li>
<li><a href="#Configuring-ISS_content-management">Appendix D: Configuring Inter-Server Synchronization (ISS)</a>
<ul class="sectlevel2">
<li><a href="#configuring-projectserver-to-synchronize-content-by-using-exports_content-management">D.1. Configuring Foreman&#160;server to synchronize content by using exports</a></li>
<li><a href="#configuring-server-to-synchronize-content-over-a-network_content-management">D.2. Configuring Foreman&#160;server to synchronize content over a network</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="Introduction_to_Content_Management_content-management"><a class="anchor" href="#Introduction_to_Content_Management_content-management"></a>1. Introduction to content management</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>In the context of Foreman, <em>content</em> is defined as the software installed on systems.
This includes, but is not limited to, the base operating system, middleware services, and end-user applications.
With Foreman, you can manage the various types of content at every stage of the software lifecycle.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
The Katello plugin provides content management features to Foreman.
You can only use this guide if you have the Katello plugin installed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Foreman manages the following content:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Red Hat Subscription management</dt>
<dd>
<p>This provides organizations with a method to store Red Hat content and organize it in various ways.</p>
</dd>
<dt class="hdlist1">SUSE Subscription management</dt>
<dd>
<p>This provides organizations with a method to store SUSE content and organize it in various ways.
Note that this requires the SCC Manager plugin.
For more information, see <a href="#Managing_SUSE_Content_content-management">Managing SUSE content</a>.</p>
</dd>
<dt class="hdlist1">Content management</dt>
<dd>
<p>This provides organizations with a method to store Deb and Yum content and organize it in various ways.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="Content_Types_in_Foreman_content-management"><a class="anchor" href="#Content_Types_in_Foreman_content-management"></a>1.1. Content types in Foreman</h3>
<div class="paragraph _abstract">
<p>With Foreman, you can import and manage many content types.
You can use any custom content and content from Red&#160;Hat, Canonical, Oracle, and SUSE.</p>
</div>
<div class="paragraph">
<p>For example, Foreman supports the following content types:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">RPM packages</dt>
<dd>
<p>Import RPM packages from any repository, for example from Amazon, Oracle, Red&#160;Hat, SUSE, and custom repositories.
Foreman&#160;server downloads the RPM packages and stores them locally.
You can use these repositories and their RPM packages in content views.</p>
</dd>
<dt class="hdlist1">Deb packages</dt>
<dd>
<p>Import Deb packages from repositories, for example, for Debian or Ubuntu.
You can also import single Deb packages or synchronize custom repositories.
You can use these repositories and their Deb files in content views.</p>
</dd>
<dt class="hdlist1">Kickstart trees</dt>
<dd>
<p>Import the Kickstart trees to provision a host.
New systems access these Kickstart trees over a network to use as base content for their installation.
Foreman contains predefined Kickstart templates.
You can also create your own Kickstart templates.</p>
</dd>
<dt class="hdlist1">Provisioning templates</dt>
<dd>
<p>Templates to provision hosts running EL based on synchronized content and Debian, Ubuntu, or SUSE Linux Enterprise Server based on local installation media.
Foreman contains predefined AutoYaST, Kickstart, and Preseed templates as well as the ability to create your own, which are used to provision systems and customize the installation.</p>
</dd>
<dt class="hdlist1">ISO and KVM images</dt>
<dd>
<p>Download and manage media for installation and provisioning.
For example, Foreman downloads, stores, and manages ISO images and guest images for specific Red&#160;Hat Enterprise Linux and non-Red&#160;Hat operating systems.</p>
</dd>
<dt class="hdlist1">OSTree</dt>
<dd>
<p>Import OSTree branches and publish this content to an HTTP location for consumption by OSTree clients.</p>
</dd>
<dt class="hdlist1">Custom file type</dt>
<dd>
<p>Manage content for any type of file you require, such as SSL certificates, ISO images, and OVAL files.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Basic_Content_Management_Workflow_content-management"><a class="anchor" href="#Basic_Content_Management_Workflow_content-management"></a>2. Basic content management workflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is a quick overview of the tasks involved in the basic content management workflow in Foreman.
If you have installed Foreman with Katello and want to synchronize and manage Enterprise Linux content on your hosts, follow the steps in this chapter.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create repository to mirror content from CentOS Stream.</p>
</li>
<li>
<p>Synchronize the Content.</p>
</li>
<li>
<p>Create <code>Activation Keys</code>.</p>
</li>
<li>
<p>Register Hosts to consume this content.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="Creating_Repositories_to_Synchronize_content-management"><a class="anchor" href="#Creating_Repositories_to_Synchronize_content-management"></a>2.1. Creating repositories to synchronize</h3>
<div class="paragraph">
<p>Use this procedure to discover available repositories in the CentOS Stream, then select the repositories to mirror into a product.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Click <strong>Repo Discovery</strong>.</p>
</li>
<li>
<p>In the <strong>Repository Type</strong> field, select <strong>Yum Repositories</strong>.</p>
</li>
<li>
<p>In the <strong>URL to Discover</strong> field, enter the CentOS Stream URL <code><a href="https://mirror.stream.centos.org/9-stream/" class="bare">https://mirror.stream.centos.org/9-stream/</a></code>.</p>
</li>
<li>
<p>Click <strong>Discover</strong>.</p>
</li>
<li>
<p>Select <code>/AppStream/x86_64/os/</code> and <code>/BaseOS/x86_64/os/</code> repositories.</p>
</li>
<li>
<p>Click <strong>Create Selected</strong>.</p>
</li>
<li>
<p>In the <strong>Product</strong> field select <strong>New Product</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field enter <strong>CentOS Stream</strong> or desired product name.</p>
</li>
<li>
<p>Click <strong>Run Repository Creation</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To view your newly created product, navigate to <strong>Content</strong> &gt; <strong>Products</strong>, and select the name of the new product.</p>
</div>
</div>
<div class="sect2">
<h3 id="Synchronizing_Content_from_an_Upstream_Repository_content-management"><a class="anchor" href="#Synchronizing_Content_from_an_Upstream_Repository_content-management"></a>2.2. Synchronizing content from an upstream repository</h3>
<div class="paragraph">
<p>Use the following procedure to mirror the contents of the upstream CentOS repositories.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong></p>
</li>
<li>
<p>Select your new <strong>CentOS Stream</strong> product from the previous procedure.</p>
</li>
<li>
<p>Locate the <strong>AppStream x86_64 os</strong> and <strong>BaseOS x86_64 os</strong> repositories.</p>
</li>
<li>
<p>Select both repositories</p>
</li>
<li>
<p>Click <strong>Sync Now</strong></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Creating_an_Activation_Key_short_content-management"><a class="anchor" href="#Creating_an_Activation_Key_short_content-management"></a>2.3. Creating an activation key</h3>
<div class="paragraph">
<p>Use the following procedure to create an activation key that you can use to subscribe your hosts to content managed by Foreman.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Activation Keys</strong>.</p>
</li>
<li>
<p>Click <strong>Create Activation Key</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter the name of the activation key.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, enter a description for the activation key.</p>
</li>
<li>
<p>From the <strong>Environment</strong> list, select the <strong>Library</strong>.</p>
</li>
<li>
<p>From the <strong>Content View</strong> list, select <strong>Default Organization View</strong>.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>Click on the <strong>Subscriptions</strong> tab on the Activation Key&#8217;s details page.</p>
</li>
<li>
<p>Click on the <strong>Add</strong> tab.</p>
</li>
<li>
<p>Select all the product subscriptions in the table.</p>
</li>
<li>
<p>Click <strong>Add Selected</strong> to save.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Registering_a_CentOS_Stream_Host_content-management"><a class="anchor" href="#Registering_a_CentOS_Stream_Host_content-management"></a>2.4. Registering a CentOS Stream host to Foreman</h3>
<div class="paragraph">
<p>Use the following procedure to register an existing CentOS Stream host to Foreman.</p>
</div>
<div class="paragraph">
<p>You can register hosts with Foreman using the host registration feature in the Foreman web UI, Hammer CLI, or the Foreman API.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#registering-hosts-and-setting-up-host-integration_managing-hosts">Registering hosts and setting up host integration</a> in <em>Managing hosts</em>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts</strong> &gt; <strong>Register Host</strong>.</p>
</li>
<li>
<p>From the <strong>Activation Keys</strong> list, select the activation keys to assign to your host.</p>
</li>
<li>
<p>Click <strong>Generate</strong> to create the registration command.</p>
</li>
<li>
<p>Click on the <em>files</em> icon to copy the command to your clipboard.</p>
</li>
<li>
<p>Connect to your host using SSH and run the registration command.</p>
</li>
<li>
<p>Ensure that the appropriate repositories have been enabled:</p>
<div class="ulist">
<ul>
<li>
<p>On Enterprise Linux: Check the <code>/etc/yum.repos.d/redhat.repo</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
<li>
<p>On Debian: Check the <code>/etc/apt/sources.list</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Generate the host registration command using the Hammer CLI:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer host-registration generate-command \
--activation-keys "<em>My_Activation_Key</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>If your hosts do not trust the SSL certificate of Foreman&#160;server, you can disable SSL validation by adding the <code>--insecure</code> flag to the registration command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer host-registration generate-command \
--activation-keys "<em>My_Activation_Key</em>" \
--insecure true</pre>
</div>
</div>
</li>
<li>
<p>Connect to your host using SSH and run the registration command.</p>
</li>
<li>
<p>Ensure that the appropriate repositories have been enabled:</p>
<div class="ulist">
<ul>
<li>
<p>On Enterprise Linux: Check the <code>/etc/yum.repos.d/redhat.repo</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
<li>
<p>On Debian: Check the <code>/etc/apt/sources.list</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">API procedure</div>
<ol class="arabic">
<li>
<p>Generate the host registration command using the Foreman API:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl -X POST https://foreman.example.com/api/registration_commands \
--user "<em>My_User_Name</em>" \
-H 'Content-Type: application/json' \
-d '{ "registration_command": { "activation_keys": ["<em>My_Activation_Key_1</em>, <em>My_Activation_Key_2</em>"] }}'</pre>
</div>
</div>
<div class="paragraph">
<p>If your hosts do not trust the SSL certificate of Foreman&#160;server, you can disable SSL validation by adding the <code>--insecure</code> flag to the registration command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl -X POST https://foreman.example.com/api/registration_commands \
--user "<em>My_User_Name</em>" \
-H 'Content-Type: application/json' \
-d '{ "registration_command": { "activation_keys": ["<em>My_Activation_Key_1</em>, <em>My_Activation_Key_2</em>"], "insecure": true }}'</pre>
</div>
</div>
<div class="paragraph">
<p>Use an activation key to simplify specifying the environments.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#Managing_Activation_Keys_content-management">Managing Activation Keys</a> in <em>Managing content</em>.</p>
</div>
<div class="paragraph">
<p>To enter a password as a command line argument, use <code>username:password</code> syntax.
Keep in mind this can save the password in the shell history.
Alternatively, you can use a temporary personal access token instead of a password.
To generate a token in the Foreman web UI, navigate to <strong>My Account</strong> &gt; <strong>Personal Access Tokens</strong>.</p>
</div>
</li>
<li>
<p>Connect to your host using SSH and run the registration command.</p>
</li>
<li>
<p>Ensure that the appropriate repositories have been enabled:</p>
<div class="ulist">
<ul>
<li>
<p>On Enterprise Linux: Check the <code>/etc/yum.repos.d/redhat.repo</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
<li>
<p>On Debian: Check the <code>/etc/apt/sources.list</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Using_Content_Views_content-management"><a class="anchor" href="#Using_Content_Views_content-management"></a>2.5. Using content views</h3>
<div class="paragraph">
<p>Foreman uses the concept of content views to create snapshots of a set of repositories and make them available to hosts registered to it.
For example, if you want a group of hosts to have access to a specific version of a set of repositories, add those repositories to a content view, publish and promote to a lifecycle environment.
You can then register hosts to this content view.
These hosts have access only to repositories at the version specified in the content view.
This means that you can continue to update repositories on your server while your hosts still consume only the versions of the repositories that they are registered to.
If you do not use content views and lifecycle environments, all your hosts consume content from the Default content view and Library environment, which is a snapshot of the latest version of the content on your server.
For more information about content management using content views and application lifecycles, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Managing_Content_Views_content-management">Managing content views</a></p>
</li>
<li>
<p><a href="#Managing_Application_Lifecycles_content-management">Managing application lifecycles</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Creating_a_Content_View_short_content-management"><a class="anchor" href="#Creating_a_Content_View_short_content-management"></a>2.6. Creating a content view</h3>
<div class="paragraph">
<p>Use the following procedure to create a content view.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Click <strong>Create content view</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter <code>CentOS Content View</code>.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, enter a description for the content view.</p>
</li>
<li>
<p>Select <strong>Content view</strong> or <strong>Composite content view</strong> as the <strong>Type</strong>.</p>
</li>
<li>
<p>Click <strong>Create content view</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Adding_Repositories_content-management"><a class="anchor" href="#Adding_Repositories_content-management"></a>2.7. Adding repositories</h3>
<div class="paragraph">
<p>Use the following procedure to add the upstream CentOS repositories to your Content view.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Click <strong>CentOS Content View</strong>.</p>
</li>
<li>
<p>Click the <strong>Repositories</strong> tab.</p>
</li>
<li>
<p>Select repositories that you want to add.</p>
</li>
<li>
<p>Click <strong>Add Repositories</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Publishing_the_Content_View_content-management"><a class="anchor" href="#Publishing_the_Content_View_content-management"></a>2.8. Publishing the content view</h3>
<div class="paragraph">
<p>Use the following procedure to publish the content view.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select the content view.</p>
</li>
<li>
<p>Click <strong>Publish New Version</strong> on the top right of the page.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Creating_an_Activation_Key_to_Consume_the_Content_View_content-management"><a class="anchor" href="#Creating_an_Activation_Key_to_Consume_the_Content_View_content-management"></a>2.9. Creating an activation key to consume the content view</h3>
<div class="paragraph">
<p>Create another activation key to assign hosts to the content view you created in <a href="#Creating_a_Content_View_content-management">Creating a content view</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Activation Keys</strong>.</p>
</li>
<li>
<p>Click <strong>Create Activation Key</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter <strong>CentOS</strong> or the name of your new activation key.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, enter a description for the activation key.</p>
</li>
<li>
<p>From the <strong>Environment</strong> list, select the <strong>Library</strong>.</p>
</li>
<li>
<p>From the <strong>Content View</strong> list, select <strong>Centos Content View</strong>.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Use your activation key to register a host to the content view.
For more information on registering a host, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#Registering_Hosts_by_Using_Global_Registration_managing-hosts">Registering hosts by using global registration</a> in <em>Managing hosts</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="Registering_a_CentOS_Stream_host_to_consume_content_from_a_published_content_view_content-management"><a class="anchor" href="#Registering_a_CentOS_Stream_host_to_consume_content_from_a_published_content_view_content-management"></a>2.10. Registering a CentOS Stream host to consume content from a published content view</h3>
<div class="paragraph">
<p>You can also register the host to the published content view without an activation key using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager register \
--environment="Library/CentOS_Content_View"
--org="<em>My_Organization</em>" \</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Managing_the_Lifecycle_of_the_Content_View_content-management"><a class="anchor" href="#Managing_the_Lifecycle_of_the_Content_View_content-management"></a>2.11. Managing the lifecycle of the content view</h3>
<div class="paragraph">
<p>The default location of any new content view is in the Library environment.
Optionally, you can add a new environment and promote your content view to it.
Use the following procedure to create a lifecycle environment.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Lifecycle Environments</strong>.</p>
</li>
<li>
<p>Click <strong>Create Environment Path</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter <strong>Production</strong> or the name of your new environment to add to the end of Library environment.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, add an optional description for your new lifecycle environment.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Promoting_your_Content_View_to_the_New_Lifecycle_Environment_content-management"><a class="anchor" href="#Promoting_your_Content_View_to_the_New_Lifecycle_Environment_content-management"></a>2.12. Promoting your content view to the new lifecycle environment</h3>
<div class="paragraph">
<p>You can now promote your new content view to the <strong>Production</strong> environment using the following procedure.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select the content view.</p>
</li>
<li>
<p>On the <strong>Versions</strong> tab, click <strong>Promote</strong> for desired version under the Actions column.</p>
</li>
<li>
<p>Select <strong>Production</strong> lifecycle environment from the available promotion paths.</p>
</li>
<li>
<p>Add an optional <strong>Description</strong>.</p>
</li>
<li>
<p>Click <strong>Promote Version</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Registering_a_CentOS_Stream_host_to_consume_content_from_a_promoted_Content_View_in_the_production_environment_content-management"><a class="anchor" href="#Registering_a_CentOS_Stream_host_to_consume_content_from_a_promoted_Content_View_in_the_production_environment_content-management"></a>2.13. Registering a CentOS Stream host to consume content from a promoted content view in the production environment</h3>
<div class="paragraph">
<p>To register a host to consume content from the content view in the Production lifecycle environment, enter the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager register \
--environment="Production/CentOS_Content_View" \
--org="<em>My_Organization</em>"</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_Red_Hat_Subscriptions_content-management"><a class="anchor" href="#Managing_Red_Hat_Subscriptions_content-management"></a>3. Managing Red Hat subscriptions</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Foreman can import content from the Red&#160;Hat Content Delivery Network (CDN).
Foreman requires a Red&#160;Hat subscription manifest to find, access, and download content from the corresponding repositories.
You must have a Red&#160;Hat subscription manifest containing a subscription allocation for each organization on Foreman&#160;server.
All subscription information is available on the Red&#160;Hat Hybrid Cloud Console.</p>
</div>
<div class="paragraph">
<p>Use this chapter to import a Red&#160;Hat subscription manifest and manage the manifest within the Foreman web UI.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Subscription allocations and organizations</dt>
<dd>
<p>You can manage more than one organization if you have more than one subscription allocation.
Foreman requires a single allocation for each organization configured in Foreman&#160;server.
The advantage of this is that each organization maintains separate subscriptions so that you can support multiple organizations, each with their own Red&#160;Hat accounts.</p>
</dd>
<dt class="hdlist1">Future-dated subscriptions</dt>
<dd>
<p>You can use future-dated subscriptions in a subscription manifest.
When you add future-dated subscriptions to your manifest before the expiry date of the existing subscriptions, you can have uninterrupted access to repositories.</p>
</dd>
<dt class="hdlist1">Subscriptions service</dt>
<dd>
<p>The Subscriptions service on the Red&#160;Hat Hybrid Cloud Console helps you track and manage Red&#160;Hat subscription usage across connected and disconnected systems.
It collects usage data, displays trends in a centralized dashboard, and supports historical analysis for planning and compliance.
For more information, see <a href="#tracking-subscription-usage-by-using-the-subscriptions-service">Tracking subscription usage by using the Subscriptions service</a>.</p>
</dd>
</dl>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.theforeman.org/nightly/Installing_Server/index-foremanctl-katello.html#configuring-foreman-server-to-consume-content-from-a-custom-cdn_foreman">Configuring Foreman&#160;server to consume content from a custom CDN in <em>Installing Foreman&#160;Server with Katello nightly plugin (containerized) on Enterprise Linux</em></a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="tracking-subscription-usage-by-using-the-subscriptions-service"><a class="anchor" href="#tracking-subscription-usage-by-using-the-subscriptions-service"></a>3.1. Tracking subscription usage by using the Subscriptions service</h3>
<div class="paragraph _abstract">
<p>You can configure your Foreman&#160;server to report usage data to the Red&#160;Hat Hybrid Cloud Console by using the <code>foreman_rh_cloud</code> plugin.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Enable the <code>foreman_rh_cloud</code> plugin:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-installer --enable-foreman-plugin-rh-cloud</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Connected Foreman</dt>
<dd>
<p>In the Foreman web UI, navigate to <strong>Insights</strong> &gt; <strong>Inventory Upload</strong> to configure the <code>foreman_rh_cloud</code> plugin and share inventory information with the Red&#160;Hat Hybrid Cloud Console.
Ensure that the <strong>Automatic Inventory Upload</strong> setting is enabled.
The plugin enables the subscriptions service to track usage information across connected systems.</p>
<div class="paragraph">
<p>You can configure the plugin to omit data that is not needed for subscription tracking, such as host names and IP addresses.</p>
</div>
</dd>
<dt class="hdlist1">Disconnected Foreman</dt>
<dd>
<p>Export usage data in one of the following ways:</p>
<div class="ulist">
<ul>
<li>
<p>Use the <code>foreman_rh_cloud</code> plugin to generate a report locally.
You can download the report from the Foreman web UI.
The report is in JSON format and is easily integrated for automated scripts or machine processing.
You can generate this report by using CLI:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-rake rh_cloud_inventory:report:generate</pre>
</div>
</div>
</li>
<li>
<p>View product usage by running the <strong>Host - Installed Products</strong> report.</p>
<div class="paragraph">
<p>Navigate to <strong>Monitor</strong> &gt; <strong>Reports</strong> &gt; <strong>Report Templates</strong>.
You can select the format that you want for the report.
YAML, JSON, HTML, and CSV formats are supported.</p>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Importing_a_Red_Hat_Subscription_Manifest_into_Server_content-management"><a class="anchor" href="#Importing_a_Red_Hat_Subscription_Manifest_into_Server_content-management"></a>3.2. Importing a Red&#160;Hat subscription manifest into Foreman&#160;server</h3>
<div class="paragraph _abstract">
<p>Import a Red&#160;Hat subscription manifest into Foreman&#160;server so that you can enable and synchronize Red&#160;Hat repositories.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Simple Content Access (SCA) is set on the organization, not the manifest.
Importing a manifest does not change your organization&#8217;s Simple Content Access status.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Simple Content Access simplifies the subscription experience for administrators.
For more information, see the <a href="https://access.redhat.com/subscription_mgmt_guide_for_RHEL">Subscription Management Administration Guide for Red Hat Enterprise Linux</a> on the Red Hat Customer Portal.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Ensure you have a Red&#160;Hat subscription manifest.</p>
<div class="ulist">
<ul>
<li>
<p>If your Foreman is connected, use the Red&#160;Hat Hybrid Cloud Console to create and export the manifest.
For more information, see <a href="https://docs.redhat.com/en/documentation/subscription_central/1-latest/html-single/creating_and_managing_manifests_for_a_connected_satellite_server/index">Creating and managing manifests for a connected Satellite Server</a> in <em>Subscription Central</em>.</p>
</li>
<li>
<p>If your Foreman is disconnected, use the Red Hat Customer Portal to create and export the manifest.
For more information, see <a href="https://docs.redhat.com/en/documentation/subscription_central/1-latest/html-single/creating_and_managing_manifests_for_a_disconnected_satellite_server/index">Creating and managing manifests for a disconnected Satellite Server</a> in <em>Subscription Central</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="importing-red-hat-subscription-manifest-by-using-web-ui"><a class="anchor" href="#importing-red-hat-subscription-manifest-by-using-web-ui"></a>3.2.1. Importing Red Hat subscription manifest by using Foreman web UI</h4>
<div class="paragraph _abstract">
<p>You can import a Red&#160;Hat subscription manifest into Foreman&#160;server by using Foreman web UI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must have a Red&#160;Hat subscription manifest file.
For more information, see <a href="#Importing_a_Red_Hat_Subscription_Manifest_into_Server_content-management">Importing a Red&#160;Hat subscription manifest into Foreman&#160;server</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, ensure the context is set to the organization you want to use.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Subscriptions</strong>.</p>
</li>
<li>
<p>Click <strong>Manage Manifest</strong>.</p>
</li>
<li>
<p>In the <strong>Manage Manifest</strong> window, click <strong>Choose File</strong>.</p>
</li>
<li>
<p>Navigate to the location that contains the Red&#160;Hat subscription manifest file, then click <strong>Open</strong>.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>You can now enable and synchronize Red&#160;Hat repositories.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#Importing_Content_content-management">Importing content</a> in <em>Managing content</em>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="importing-red-hat-subscription-manifest-by-using-cli"><a class="anchor" href="#importing-red-hat-subscription-manifest-by-using-cli"></a>3.2.2. Importing Red Hat subscription manifest by using Hammer CLI</h4>
<div class="paragraph _abstract">
<p>You can import a Red&#160;Hat subscription manifest into Foreman&#160;server by using Hammer CLI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must have a Red&#160;Hat subscription manifest file.
For more information, see <a href="#Importing_a_Red_Hat_Subscription_Manifest_into_Server_content-management">Importing a Red&#160;Hat subscription manifest into Foreman&#160;server</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Copy the Red&#160;Hat subscription manifest file from your local machine to Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre>$ scp ~/<em>manifest_file</em>.zip root@<em>foreman.example.com</em>:~/.</pre>
</div>
</div>
</li>
<li>
<p>Log in to Foreman&#160;server over SSH as the <code>root</code> user.</p>
</li>
<li>
<p>Import the Red&#160;Hat subscription manifest file:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer subscription upload \
--file ~/<em>manifest_file</em>.zip \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>You can now enable and synchronize Red&#160;Hat repositories.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#Importing_Content_content-management">Importing content</a> in <em>Managing content</em>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Locating_a_Red_Hat_Subscription_content-management"><a class="anchor" href="#Locating_a_Red_Hat_Subscription_content-management"></a>3.3. Locating a Red Hat subscription</h3>
<div class="paragraph _abstract">
<p>When you import a Red&#160;Hat subscription manifest into Foreman&#160;server, the subscriptions from your manifest are listed in the Subscriptions window.
If you have a high volume of subscriptions, you can filter the results to find a specific subscription.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must have a Red&#160;Hat subscription manifest file imported to Foreman&#160;server.
For more information, see <a href="#Importing_a_Red_Hat_Subscription_Manifest_into_Server_content-management">Importing a Red&#160;Hat subscription manifest into Foreman&#160;server</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, ensure the context is set to the organization you want to use.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Subscriptions</strong>.</p>
</li>
<li>
<p>In the Subscriptions window, click the <strong>Search</strong> field to view the list of search criteria for building your search query.</p>
</li>
<li>
<p>Select search criteria to display further options.</p>
</li>
<li>
<p>When you have built your search query, click the search icon.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.theforeman.org/nightly/Administering_Project/index-foremanctl-katello.html#Searching_and_Bookmarking_admin">Searching and bookmarking in <em>Administering Foreman</em></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Adding_Red_Hat_Subscriptions_to_Subscription_Manifests_content-management"><a class="anchor" href="#Adding_Red_Hat_Subscriptions_to_Subscription_Manifests_content-management"></a>3.4. Adding Red Hat subscriptions to subscription manifests</h3>
<div class="paragraph _abstract">
<p>Use the following procedure to add Red Hat subscriptions to a subscription manifest in the Foreman web UI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must have a Red&#160;Hat subscription manifest file imported to Foreman&#160;server.
For more information, see <a href="#Importing_a_Red_Hat_Subscription_Manifest_into_Server_content-management">Importing a Red&#160;Hat subscription manifest into Foreman&#160;server</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, ensure the context is set to the organization you want to use.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Subscriptions</strong>.</p>
</li>
<li>
<p>In the Subscriptions window, click <strong>Add Subscriptions</strong>.</p>
</li>
<li>
<p>On the row of each subscription you want to add, enter the quantity in the <strong>Quantity to Allocate</strong> column.</p>
</li>
<li>
<p>Click <strong>Submit</strong></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Removing_Red_Hat_Subscriptions_from_Subscription_Manifests_content-management"><a class="anchor" href="#Removing_Red_Hat_Subscriptions_from_Subscription_Manifests_content-management"></a>3.5. Removing Red Hat subscriptions from subscription manifests</h3>
<div class="paragraph _abstract">
<p>Use the following procedure to remove Red Hat subscriptions from a subscription manifest in the Foreman web UI.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Manifests must not be deleted.
If you delete the manifest from the Red Hat Customer Portal or in the Foreman web UI, all of the entitlements for all of your content hosts will be removed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must have a Red&#160;Hat subscription manifest file imported to Foreman&#160;server.
For more information, see <a href="#Importing_a_Red_Hat_Subscription_Manifest_into_Server_content-management">Importing a Red&#160;Hat subscription manifest into Foreman&#160;server</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, ensure the context is set to the organization you want to use.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Subscriptions</strong>.</p>
</li>
<li>
<p>On the row of each subscription you want to remove, select the corresponding checkbox.</p>
</li>
<li>
<p>Click <strong>Delete</strong>, and then confirm deletion.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Updating_and_Refreshing_Red_Hat_Subscription_Manifests_content-management"><a class="anchor" href="#Updating_and_Refreshing_Red_Hat_Subscription_Manifests_content-management"></a>3.6. Updating and refreshing Red Hat subscription manifests</h3>
<div class="paragraph _abstract">
<p>Every time that you change a subscription allocation, you must refresh the manifest to reflect these changes.
For example, you must refresh the manifest if you take any of the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Renewing a subscription</p>
</li>
<li>
<p>Adjusting subscription quantities</p>
</li>
<li>
<p>Purchasing additional subscriptions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can refresh the manifest directly in the Foreman web UI.
Alternatively, you can import an updated manifest that contains the changes.</p>
</div>
<div class="paragraph">
<p>The Foreman web UI provides a notification before the subscription manifest expires.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, ensure the context is set to the organization you want to use.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Subscriptions</strong>.</p>
</li>
<li>
<p>In the Subscriptions window, click <strong>Manage Manifest</strong>.</p>
</li>
<li>
<p>In the Manage Manifest window, click <strong>Refresh</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Content_Delivery_Network_Structure_content-management"><a class="anchor" href="#Content_Delivery_Network_Structure_content-management"></a>3.7. Content Delivery Network structure</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Information in this section only applies if you consume Red&#160;Hat content by using a Red&#160;Hat manifest.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph _abstract">
<p>Red&#160;Hat Content Delivery Network (CDN), located at <code>cdn.redhat.com</code>, is a geographically distributed series of static webservers which include content and errata designed to be used by systems.
This content can be accessed directly through a system registered by using Subscription Manager or through the Foreman web UI.
The accessible subset of the CDN is configured through content available to a system by using <a href="https://access.redhat.com/management/">Red&#160;Hat Subscription Management</a> or by using Foreman&#160;server.</p>
</div>
<div class="paragraph">
<p>Red&#160;Hat Content Delivery network is protected by X.509 certificate authentication to ensure that only valid users can access it.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Directory structure of the Red&#160;Hat CDN</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>$ tree -d -L 11
└── content
    ├── beta
    │   └── rhel
    │       └── server
    │           └── 7
    │               └── x86_64
    │                   └── sat-tools
    └── dist
        └── rhel
            └── server
                └── 7
                ├── 7.2
                │   └── x86_64
                │       └── kickstart
                └── 7Server
                    └── x86_64
                        └── os</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>content</code> &#8211; Root directory for the content.</p>
</li>
<li>
<p><code>beta</code> &#8211; Directory responsible for the lifecycle of the content.
Common directories include <code>beta</code> (for Beta code), <code>dist</code> (for Production) and <code>eus</code> (For Extended Update Support) directories.</p>
</li>
<li>
<p><code>rhel</code> &#8211; Directory responsible for the product name.
Usually <code>rhel</code> for Red&#160;Hat Enterprise Linux.</p>
</li>
<li>
<p><code>server</code> &#8211; Directory responsible for the type of the product.
For Red&#160;Hat Enterprise Linux this might include <code>server</code>, <code>workstation</code>, and <code>computenode</code> directories.</p>
</li>
<li>
<p><code>7</code> &#8211; Directory responsible for the release version, such as <code>7</code>, <code>7.2</code> or <code>7Server</code>.</p>
</li>
<li>
<p><code>x86_64</code> &#8211; Directory responsible for the base architecture, such as <code>i386</code> or <code>x86_64</code>.</p>
</li>
<li>
<p><code>sat-tools</code> &#8211; Directory responsible for the repository name, such as <code>sat-tools</code>, <code>kickstart</code>, <code>rhscl</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some components have additional subdirectories which might vary.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>This directory structure is also used in Red&#160;Hat subscription manifests.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing-alternate-content-sources"><a class="anchor" href="#managing-alternate-content-sources"></a>4. Managing alternate content sources</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Alternate content sources (ACS) define alternate paths to download content during synchronization.
The content itself is downloaded from the alternate content source, while the metadata is downloaded from the Foreman&#160;server or the upstream URL, depending on the configuration.
You can use alternate content sources to speed up synchronization if the content is located on the local filesystem or on a nearby network.
You can set up alternate content sources for Foreman&#160;server and Smart&#160;Proxy&#160;servers.</p>
</div>
<div class="paragraph">
<p>You must refresh the alternate content source after creation or after making any changes.
A weekly cron job refreshes all alternate content sources.
You can also refresh the alternate content sources manually by using the Foreman web UI or Hammer CLI.
Alternate content sources associated with your Foreman&#160;server, or Smart&#160;Proxy&#160;servers attached to multiple organizations, affect all organizations.</p>
</div>
<div class="paragraph">
<p>There are three types of alternate content sources:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Custom</dt>
<dd>
<p>Custom alternate content sources download the content from any upstream repository on the network or filesystem.</p>
</dd>
<dt class="hdlist1">Simplified</dt>
<dd>
<p>Simplified alternate content sources copy the upstream repository information from your Foreman&#160;server for the selected products.
Simplified alternate content sources are ideal for situations where the connection from your Smart&#160;Proxy&#160;server to the upstream repository is faster than to your Foreman&#160;server.</p>
</dd>
<dt class="hdlist1">RHUI</dt>
<dd>
<p>RHUI alternate content sources download content from a Red&#160;Hat Update Infrastructure (RHUI) server.
Foreman web UI provides examples to help you find the network paths and to import authentication credentials.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="creating-custom-alternate-content-sources-by-using-web-ui"><a class="anchor" href="#creating-custom-alternate-content-sources-by-using-web-ui"></a>4.1. Creating custom alternate content sources by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can create custom alternate content sources (ACS) to define alternate paths to download content during synchronization.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>If the repository requires SSL authentication, import the SSL certificate and key into Foreman.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#Importing_Custom_SSL_Certificates_content-management">Importing SSL certificates</a> in <em>Managing content</em>.</p>
</li>
<li>
<p>You have the base URL and subpaths of your alternate content source.
For example, if your base URL is <code>https://server.example.com</code> and your subpaths are <code>rhel10/</code> and <code>rhel9/</code>, then Foreman will search <code>https://server.example.com/rhel10/</code> and <code>https://server.example.com/rhel9/</code>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Alternate Content Sources</strong>.</p>
</li>
<li>
<p>Click <strong>Add source</strong>.</p>
</li>
<li>
<p>Set the <strong>Source type</strong> to <strong>Custom</strong>.</p>
</li>
<li>
<p>Select the <strong>Content type</strong> from the drop-down list.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for your custom ACS.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, provide a description for the ACS.</p>
</li>
<li>
<p>Select Smart&#160;Proxies to which you want to synchronize content from your alternate content source.</p>
</li>
<li>
<p>If you require synchronizing content through the HTTP proxy of your Smart&#160;Proxies, select <strong>Use HTTP proxies</strong>.</p>
</li>
<li>
<p>In the <strong>Base URL</strong> field, enter the base URL of the alternate content source.</p>
</li>
<li>
<p>In the <strong>Subpaths</strong> field, provide a comma-separated list of subpaths.</p>
</li>
<li>
<p>If your alternate content source requires authentication, select the <strong>Manual authentication</strong> or <strong>Content credentials</strong>.</p>
</li>
<li>
<p>If SSL verification is required, enable <strong>Verify SSL</strong> and select the SSL CA certificate.</p>
</li>
<li>
<p>Click <strong>Add</strong>.</p>
</li>
<li>
<p>Navigate to <strong>Content</strong> &gt; <strong>Alternate Content Sources</strong>.</p>
</li>
<li>
<p>Click the vertical ellipsis next to the newly created alternate content source and click <strong>Refresh</strong>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Monitor</strong> &gt; <strong>Foreman Tasks</strong> &gt; <strong>Tasks</strong>.</p>
</li>
<li>
<p>Search for <code>Refresh Alternate Content Source</code>.</p>
</li>
<li>
<p>Verify that the task finished successfully.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-custom-alternate-content-sources-by-using-cli"><a class="anchor" href="#creating-custom-alternate-content-sources-by-using-cli"></a>4.2. Creating custom alternate content sources by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can create custom alternate content sources (ACS) to define alternate paths to download content during synchronization.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>If the repository requires SSL authentication, import the SSL certificate and key into Foreman.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#importing-custom-ssl-certificates-by-using-cli">Importing custom SSL certificates by using Hammer CLI</a> in <em>Managing content</em>.</p>
</li>
<li>
<p>You have the base URL and subpaths of your alternate content source.
For example, if your base URL is <code>https://server.example.com</code> and your subpaths are <code>rhel10/</code> and <code>rhel9/</code>, then Foreman will search <code>https://server.example.com/rhel10/</code> and <code>https://server.example.com/rhel9/</code>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a custom alternate content source:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer alternate-content-source create \
--alternate-content-source-type custom \
--base-url "<em>https://local-repo.example.com:port</em>" \
--name "<em>My_ACS_Name</em>" \
--smart-proxy-ids <em>My_Smart_Proxy_ID_1</em>,<em>My_Smart_Proxy_ID_2</em> \
--verify-ssl <em>true</em></pre>
</div>
</div>
</li>
<li>
<p>Refresh your alternate content source:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer alternate-content-source refresh --name "<em>My_ACS_Name</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Verify that the task ran successfully:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer task list --search "Refresh Alternate Content Source"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="creating-simplified-alternate-content-sources-by-using-web-ui"><a class="anchor" href="#creating-simplified-alternate-content-sources-by-using-web-ui"></a>4.3. Creating simplified alternate content sources by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can create simplified alternate content sources (ACS) to reuse the upstream source to download content during synchronization on Smart&#160;Proxy&#160;servers.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Alternate Content Sources</strong>.</p>
</li>
<li>
<p>Click <strong>Add source</strong>.</p>
</li>
<li>
<p>Set the <strong>Source type</strong> to <strong>Simplified</strong>.</p>
</li>
<li>
<p>Select the <strong>Content type</strong> from the drop-down list.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for your simplified ACS.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, provide a description for the ACS.</p>
</li>
<li>
<p>Select Smart&#160;Proxies to which you want to synchronize content from your alternate content source.</p>
</li>
<li>
<p>If you require synchronizing content through the HTTP proxy of your Smart&#160;Proxies, select <strong>Use HTTP proxies</strong>.</p>
</li>
<li>
<p>Select the products that should use the alternate content source.</p>
</li>
<li>
<p>Click <strong>Add</strong>.</p>
</li>
<li>
<p>Navigate to <strong>Content</strong> &gt; <strong>Alternate Content Sources</strong>.</p>
</li>
<li>
<p>Click the vertical ellipsis next to the newly created alternate content source and click <strong>Refresh</strong>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Monitor</strong> &gt; <strong>Foreman Tasks</strong> &gt; <strong>Tasks</strong>.</p>
</li>
<li>
<p>Search for <code>Refresh Alternate Content Source</code>.</p>
</li>
<li>
<p>Verify that the task finished successfully.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-simplified-alternate-content-sources-by-using-cli"><a class="anchor" href="#creating-simplified-alternate-content-sources-by-using-cli"></a>4.4. Creating simplified alternate content sources by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can create simplified alternate content sources (ACS) to reuse the upstream source to download content during synchronization on Smart&#160;Proxy&#160;servers.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a simplified alternate content source:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer alternate-content-source create \
--alternate-content-source-type simplified \
--name "<em>My_ACS_Name</em>" \
--product-ids <em>My_Product_ID_1</em>,<em>My_Product_ID_2</em> \
--smart-proxy-ids <em>My_Smart_Proxy_ID_1</em>,<em>My_Smart_Proxy_ID_2</em></pre>
</div>
</div>
</li>
<li>
<p>Refresh your alternate content source:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer alternate-content-source refresh --name "<em>My_ACS_Name</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Verify that the task ran successfully:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer task list --search "Refresh Alternate Content Source"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="creating-rhui-alternate-content-sources-by-using-web-ui"><a class="anchor" href="#creating-rhui-alternate-content-sources-by-using-web-ui"></a>4.5. Creating RHUI alternate content sources by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can use RHUI alternate content sources to configure your Smart&#160;Proxy to sync content from a Red&#160;Hat Update Infrastructure server.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Generate the client entitlement certificates for the required repos on the RHUA node as described in <a href="https://docs.redhat.com/en/documentation/red_hat_update_infrastructure/4/html/configuring_and_managing_red_hat_update_infrastructure/assembly_cmg-creating-client-ent-cert-config-rpm_configuring-and-managing-red-hat-update-infrastructure#proc_cmg-creating-client-entitlement-certificate_assembly_cmg-creating-client-ent-cert-config-rpm">Creating a client entitlement certificate with the Red Hat Update Infrastructure Management Tool</a> in <em>Configuring and Managing Red Hat Update Infrastructure</em>.</p>
</li>
<li>
<p>Import the client entitlement certificates into Foreman.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#Importing_Custom_SSL_Certificates_content-management">Importing SSL certificates</a> in <em>Managing content</em>.</p>
</li>
<li>
<p>Obtain a list of the subpaths for the required repositories.
Execute the following command on your RHUA server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># rhui-manager repo info --repo_id <em>My_Repo_ID</em></pre>
</div>
</div>
</li>
<li>
<p>You have the base URL and subpaths of your alternate content source.
For example, if your base URL is <code>https://server.example.com</code> and your subpaths are <code>rhel10/</code> and <code>rhel9/</code>, then Foreman will search <code>https://server.example.com/rhel10/</code> and <code>https://server.example.com/rhel9/</code>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Alternate Content Sources</strong>.</p>
</li>
<li>
<p>Click <strong>Add source</strong>.</p>
</li>
<li>
<p>Set the <strong>Source type</strong> to <strong>RHUI</strong>.</p>
</li>
<li>
<p>Generate RHUI certificates using the command provided in the Foreman web UI.
Ensure that you pass the repo labels of the desired repositories.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for your RHUI ACS.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, provide a description for the ACS.</p>
</li>
<li>
<p>Select Smart&#160;Proxies to which you want to synchronize content from your alternate content source.</p>
</li>
<li>
<p>If you require synchronizing content through the HTTP proxy of your Smart&#160;Proxies, select <strong>Use HTTP proxies</strong>.</p>
</li>
<li>
<p>In the <strong>Base URL</strong> field, enter the base URL of the Red&#160;Hat Update Infrastructure CDS node.</p>
</li>
<li>
<p>In the <strong>Subpaths</strong> field, provide a comma-separated list of subpaths.</p>
</li>
<li>
<p>If your alternate content source requires authentication, provide the <strong>SSL client certificate</strong> and <strong>SSL client key</strong>.</p>
</li>
<li>
<p>If SSL verification is required, enable <strong>Verify SSL</strong> and select the SSL CA certificate.</p>
</li>
<li>
<p>Click <strong>Add</strong>.</p>
</li>
<li>
<p>Navigate to <strong>Content</strong> &gt; <strong>Alternate Content Sources</strong>.</p>
</li>
<li>
<p>Click the vertical ellipsis next to the newly created alternate content source and click <strong>Refresh</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-rhui-alternate-content-sources-by-using-cli"><a class="anchor" href="#creating-rhui-alternate-content-sources-by-using-cli"></a>4.6. Creating RHUI alternate content sources by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can use RHUI alternate content sources to configure your Smart&#160;Proxy to sync content from a Red&#160;Hat Update Infrastructure server.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Generate the client entitlement certificates for the required repos on the RHUA node as described in <a href="https://docs.redhat.com/en/documentation/red_hat_update_infrastructure/4/html/configuring_and_managing_red_hat_update_infrastructure/assembly_cmg-creating-client-ent-cert-config-rpm_configuring-and-managing-red-hat-update-infrastructure#proc_cmg-creating-client-entitlement-certificate_assembly_cmg-creating-client-ent-cert-config-rpm">Creating a client entitlement certificate with the Red Hat Update Infrastructure Management Tool</a> in <em>Configuring and Managing Red Hat Update Infrastructure</em>.</p>
</li>
<li>
<p>Import the client entitlement certificates into Foreman.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#importing-custom-ssl-certificates-by-using-cli">Importing custom SSL certificates by using Hammer CLI</a> in <em>Managing content</em>.</p>
</li>
<li>
<p>Obtain a list of the subpaths for the required repositories.
Execute the following command on your RHUA server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># rhui-manager repo info --repo_id <em>My_Repo_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Note that the alternate content source paths consist of a base URL appended with the subpaths that you provide.
For example, if your base URL is <code>https://server.example.com</code> and your subpaths are <code>rhel7/</code> and <code>rhel8/</code>, then both <code>https://server.example.com/rhel7/</code> and <code>https://server.example.com/rhel8/</code> will be searched.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a RHUI alternate content source:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer alternate-content-source create \
--alternate-content-source-type rhui \
--base-url "<em>https://rhui-cds-node.example.com/pulp/content</em>" \
--name "<em>My_ACS_Name</em>" \
--smart-proxy-ids <em>My_Smart_Proxy_ID_1</em>,<em>My_Smart_Proxy_ID_2</em> \
--ssl-client-cert-id <em>My_SSL_Client_Certificate_ID</em> \
--ssl-client-key-id <em>My_SSL_Client_Key_ID</em> \
--subpaths <em>path/to/repo/1/,path/to/repo/2/</em> \
--verify-ssl <em>true</em></pre>
</div>
</div>
</li>
<li>
<p>Refresh the alternate content source:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer alternate-content-source refresh --name "<em>My_ACS_Name</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="permissions-required-to-manage-alternate-content-sources"><a class="anchor" href="#permissions-required-to-manage-alternate-content-sources"></a>4.7. Permissions required to manage alternate content sources</h3>
<div class="paragraph _abstract">
<p>You need permissions to manage alternate content sources (ACS) on Foreman.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Permissions to view ACS</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>view_content_credentials</code></p>
</li>
<li>
<p><code>view_organizations</code></p>
</li>
<li>
<p><code>view_products</code></p>
</li>
<li>
<p><code>view_smart_proxies</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Permissions to manage ACS</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>create_alternate_content_sources</code></p>
</li>
<li>
<p><code>destroy_alternate_content_sources</code></p>
</li>
<li>
<p><code>edit_alternate_content_sources</code></p>
</li>
<li>
<p><code>view_alternate_content_sources</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Importing_Content_content-management"><a class="anchor" href="#Importing_Content_content-management"></a>5. Importing content</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>This chapter outlines how you can import different types of content to Foreman.
For example, you can use the following chapters for information on specific types of content but the underlying procedures are the same:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Managing_ISO_Images_content-management">Managing ISO images</a></p>
</li>
<li>
<p><a href="#Managing_Custom_File_Type_Content_content-management">Managing file type content</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="Products_and_Repositories_content-management"><a class="anchor" href="#Products_and_Repositories_content-management"></a>5.1. Products and repositories in Foreman</h3>
<div class="paragraph _abstract">
<p>Content in Foreman is organized into products and repositories.
A repository is a collection of content, such as packages, container images, or files.
A collection of repositories forms a product.</p>
</div>
<div class="paragraph">
<p>Content from upstream as well as from Canonical, Oracle, Red Hat, SUSE, and custom content in Foreman have similarities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The relationship between a product and its repositories is the same and the repositories still require synchronization.</p>
</li>
<li>
<p>Products require a subscription for hosts to access, similar to subscriptions to Red Hat products.
Foreman creates a subscription for each product you create.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Red Hat content is already organized into products.
For example, Red&#160;Hat Enterprise Linux Server is a <em>product</em> in Foreman.
The repositories for that product consist of different versions, architectures, and add-ons.
For Red&#160;Hat repositories, products are created automatically after enabling the repository.
For more information, see <a href="#enabling-red-hat-repositories-by-using-web-ui">Enabling Red&#160;Hat repositories by using Foreman web UI</a>.</p>
</div>
<div class="paragraph">
<p>Other content can be organized into products however you want.
For example, you might create an EPEL (Extra Packages for Enterprise Linux) Product and add an "EPEL 7 x86_64" repository to it.</p>
</div>
</div>
<div class="sect2">
<h3 id="best-practices-for-products-and-repositories_content-management"><a class="anchor" href="#best-practices-for-products-and-repositories_content-management"></a>5.2. Best practices for products and repositories</h3>
<div class="paragraph _abstract">
<p>Foreman community recommends following best practices for products and repositories in Foreman.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use one content type per product and content view, for example, yum content only.</p>
</li>
<li>
<p>Make file repositories available over HTTP.
If you set <strong>Protected</strong> to true, you can only download content using a global debugging certificate.</p>
</li>
<li>
<p>Automate the creation of multiple products and repositories by using a Hammer script or an <a href="https://theforeman.github.io/foreman-ansible-modules/develop/index.html">Ansible Playbook</a>.</p>
</li>
<li>
<p>For Red Hat content, import your Red Hat manifest into Foreman.
For more information, see <a href="#Managing_Red_Hat_Subscriptions_content-management">Managing Red Hat subscriptions</a>.</p>
</li>
<li>
<p>For SUSE content, use the SCC Manager plugin.
For more information, see <a href="#Managing_SUSE_Content_content-management">Managing SUSE content</a>.</p>
</li>
<li>
<p>Avoid uploading content to repositories with an <strong>Upstream URL</strong>.
Instead, create a repository to synchronize content and upload content to without setting an <strong>Upstream URL</strong>.</p>
<div class="paragraph">
<p>If you upload content to a repository that already synchronizes another repository, the content might be overwritten, depending on the mirroring policy and content type.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="importing-custom-ssl-certificates-by-using-web-ui"><a class="anchor" href="#importing-custom-ssl-certificates-by-using-web-ui"></a>5.3. Importing SSL certificates by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>Before you synchronize content from an external source, you might need to import SSL certificates into your Foreman.
This might include client certs and keys or CA certificates for the upstream repositories you want to synchronize.</p>
</div>
<div class="paragraph">
<p>If you require SSL certificates and keys to download packages, you can add them to Foreman.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Content Credentials</strong>.
In the Content Credentials window, click <strong>Create Content Credential</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for your SSL certificate.</p>
</li>
<li>
<p>From the <strong>Type</strong> list, select <strong>SSL Certificate</strong>.</p>
</li>
<li>
<p>In the <strong>Content Credentials Content</strong> field, paste your SSL certificate, or click <strong>Browse</strong> to upload your SSL certificate.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="importing-custom-ssl-certificates-by-using-cli"><a class="anchor" href="#importing-custom-ssl-certificates-by-using-cli"></a>5.4. Importing SSL certificates by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>Before you synchronize content from an external source, you might need to import SSL certificates into your Foreman.
This might include client certs and keys or CA certificates for the upstream repositories you want to synchronize.</p>
</div>
<div class="paragraph">
<p>If you require SSL certificates and keys to download packages, you can add them to Foreman.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Copy the SSL certificate to your Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ scp <em>My_SSL_Certificate</em> root@foreman.example.com:~/.</pre>
</div>
</div>
<div class="paragraph">
<p>Or download the SSL certificate to your Foreman&#160;server from an online source:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ wget -P ~ http://<em>upstream-foreman.example.com</em>/pub/katello-server-ca.crt</pre>
</div>
</div>
</li>
<li>
<p>Upload the SSL Certificate to Foreman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-credential create \
--content-type cert \
--name "<em>My_SSL_Certificate</em>" \
--organization "<em>My_Organization</em>" \
--path ~/<em>My_SSL_Certificate</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-custom-product-by-using-web-ui"><a class="anchor" href="#creating-a-custom-product-by-using-web-ui"></a>5.5. Creating a product by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>Create a product so that you can add repositories to the product.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>, click <strong>Create Product</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the product.
Foreman automatically completes the <strong>Label</strong> field based on what you have entered for <strong>Name</strong>.</p>
</li>
<li>
<p>Optional: From the <strong>GPG Key</strong> list, select the GPG key for the product.</p>
</li>
<li>
<p>Optional: From the <strong>SSL CA Cert</strong> list, select the SSL CA certificate for the product.</p>
</li>
<li>
<p>Optional: From the <strong>SSL Client Cert</strong> list, select the SSL client certificate for the product.</p>
</li>
<li>
<p>Optional: From the <strong>SSL Client Key</strong> list, select the SSL client key for the product.</p>
</li>
<li>
<p>Optional: From the <strong>Sync Plan</strong> list, select an existing sync plan or click <strong>Create Sync Plan</strong> and create a sync plan for your product requirements.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, enter a description of the product.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-custom-product-by-using-cli"><a class="anchor" href="#creating-a-custom-product-by-using-cli"></a>5.6. Creating a product by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>Create a product so that you can add repositories to the product.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Create a product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer product create \
--name "<em>My_Name</em>" \
--organization-id <em>My_Organization_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adding-custom-rpm-repositories-by-using-web-ui"><a class="anchor" href="#adding-custom-rpm-repositories-by-using-web-ui"></a>5.7. Adding RPM repositories by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can add RPM repositories to Foreman by using the Foreman web UI.</p>
</div>
<div class="paragraph">
<p>The <strong>Products</strong> window in the Foreman web UI also provides a <strong>Repo Discovery</strong> function that finds all repositories from a URL and you can select which ones to add to your product.
For example, you can use the <strong>Repo Discovery</strong> to search <code><a href="https://download.postgresql.org/pub/repos/yum/16/redhat/" class="bare">https://download.postgresql.org/pub/repos/yum/16/redhat/</a></code> and list all repositories for different Enterprise Linux versions and architectures.
This helps users save time importing multiple repositories from a single source.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have imported the GPG key that you want to use to verify signatures of the RPM packages.
For more information, see <a href="#importing-a-custom-gpg-key-by-using-web-ui">Importing a GPG key by using Foreman web UI</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong> and select the product that you want to use, and then click <strong>New Repository</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the repository.
Foreman automatically completes the <strong>Label</strong> field based on what you have entered for <strong>Name</strong>.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description for the repository.</p>
</li>
<li>
<p>From the <strong>Type</strong> list, select <code>yum</code> as type of repository.</p>
</li>
<li>
<p>Optional: From the <strong>Restrict to Architecture</strong> list, select an architecture.
If you want to make the repository available to all hosts regardless of the architecture, ensure to select <strong>No restriction</strong>.</p>
</li>
<li>
<p>Optional: From the <strong>Restrict to OS Version</strong> list, select the operating system version.
If you want to make the repository available to all hosts regardless of the operating system version, ensure to select <strong>No restriction</strong>.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream URL</strong> field, enter the URL of the external repository to use as a source.
Foreman supports three protocols: <code>http://</code>, <code>https://</code>, and <code>file://</code>.
If you are using a <code>file://</code> repository, you have to place it under <code>/var/lib/pulp/sync_imports/</code> directory.</p>
<div class="paragraph">
<p>If you do not enter an upstream URL, you can manually upload packages.</p>
</div>
</li>
<li>
<p>Optional: Check the <strong>Ignore SRPMs</strong> checkbox to exclude source RPM packages from being synchronized to Foreman.</p>
</li>
<li>
<p>Optional: Check the <strong>Ignore treeinfo</strong> checkbox if you receive the error <code>Treeinfo file should have INI format</code>.
All files related to Kickstart will be missing from the repository if <code>treeinfo</code> files are skipped.</p>
</li>
<li>
<p>Select the <strong>Verify SSL</strong> checkbox if you want to verify that the upstream repository&#8217;s SSL certificates are signed by a trusted CA.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Username</strong> field, enter the user name for the upstream repository if required for authentication.
Clear this field if the repository does not require authentication.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Password</strong> field, enter the corresponding password for the upstream repository.
Clear this field if the repository does not require authentication.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Authentication Token</strong> field, provide the token of the upstream repository user for authentication.
Leave this field empty if the repository does not require authentication.</p>
</li>
<li>
<p>From the <strong>Download Policy</strong> list, select the type of synchronization Foreman&#160;server performs.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
<li>
<p>From the <strong>Mirroring Policy</strong> list, select the type of content synchronization Foreman&#160;server performs.
For more information, see <a href="#Mirroring_Policies_Overview_content-management">Mirroring policies overview</a>.</p>
</li>
<li>
<p>Optional: In the <strong>Retain package versions</strong> field, enter the number of versions you want to retain per package.</p>
</li>
<li>
<p>Optional: In the <strong>HTTP Proxy Policy</strong> field, select an HTTP proxy.</p>
</li>
<li>
<p>From the <strong>Checksum</strong> list, select the checksum type for the repository.</p>
</li>
<li>
<p>Optional: You can clear the <strong>Unprotected</strong> checkbox to require a subscription entitlement certificate for accessing this repository.
By default, the repository is published through HTTP.</p>
</li>
<li>
<p>Optional: From the <strong>GPG Key</strong> list, select the GPG key for the product.</p>
</li>
<li>
<p>Optional: In the <strong>SSL CA Cert</strong> field, select the SSL CA Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client cert</strong> field, select the SSL Client Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client Key</strong> field, select the SSL Client Key for the repository.</p>
</li>
<li>
<p>Click <strong>Save</strong> to create the repository.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p><a href="#repository-synchronization">Repository synchronization</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adding-custom-rpm-repositories-by-using-cli"><a class="anchor" href="#adding-custom-rpm-repositories-by-using-cli"></a>5.8. Adding RPM repositories by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can add RPM repositories to Foreman by using Hammer CLI.</p>
</div>
<div class="paragraph">
<p>The <strong>Products</strong> window in the Foreman web UI also provides a <strong>Repo Discovery</strong> function that finds all repositories from a URL and you can select which ones to add to your product.
For example, you can use the <strong>Repo Discovery</strong> to search <code><a href="https://download.postgresql.org/pub/repos/yum/16/redhat/" class="bare">https://download.postgresql.org/pub/repos/yum/16/redhat/</a></code> and list all repositories for different Enterprise Linux versions and architectures.
This helps users save time importing multiple repositories from a single source.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have imported the GPG key that you want to use to verify signatures of the RPM packages.
For more information, see <a href="#importing-a-custom-gpg-key-by-using-cli">Importing a GPG key by using Hammer CLI</a>.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Create a Yum repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository create \
--arch "<em>My_Architecture</em>" \
--content-type "yum" \
--gpg-key-id <em>My_GPG_Key_ID</em> \
--name "<em>My_Repository</em>" \
--organization "<em>My_Organization</em>" \
--os-version "<em>My_Operating_System_Version</em>" \
--product "<em>My_Product</em>" \
--publish-via-http true \
--url <em>My_Upstream_URL</em></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p><a href="#repository-synchronization">Repository synchronization</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="default-operating-system-repositories"><a class="anchor" href="#default-operating-system-repositories"></a>5.9. Default operating system repositories</h3>
<div class="paragraph _abstract">
<p>The following tables list default operating system repositories of various supported Client operating systems.
Each table corresponds to a product name and each row corresponds to a repository name.</p>
</div>
<table id="almalinux-10" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. AlmaLinux 10</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 10 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://repo.almalinux.org/almalinux/10/BaseOS/x86_64/os/" class="bare">https://repo.almalinux.org/almalinux/10/BaseOS/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 10 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://repo.almalinux.org/almalinux/10/AppStream/x86_64/os/" class="bare">https://repo.almalinux.org/almalinux/10/AppStream/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 10 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://repo.almalinux.org/almalinux/10/extras/x86_64/os/" class="bare">https://repo.almalinux.org/almalinux/10/extras/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 10 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el10/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el10/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://repo.almalinux.org/almalinux/RPM-GPG-KEY-AlmaLinux-10" class="bare">https://repo.almalinux.org/almalinux/RPM-GPG-KEY-AlmaLinux-10</a></p>
</div>
<table id="almalinux-9" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. AlmaLinux 9</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 9 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://repo.almalinux.org/almalinux/9/BaseOS/x86_64/os/" class="bare">https://repo.almalinux.org/almalinux/9/BaseOS/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 9 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://repo.almalinux.org/almalinux/9/AppStream/x86_64/os/" class="bare">https://repo.almalinux.org/almalinux/9/AppStream/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 9 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://repo.almalinux.org/almalinux/9/extras/x86_64/os/" class="bare">https://repo.almalinux.org/almalinux/9/extras/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 9 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el9/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el9/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://repo.almalinux.org/almalinux/RPM-GPG-KEY-AlmaLinux-9" class="bare">https://repo.almalinux.org/almalinux/RPM-GPG-KEY-AlmaLinux-9</a></p>
</div>
<table id="almalinux-8" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. AlmaLinux 8</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 8 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://repo.almalinux.org/almalinux/8/BaseOS/x86_64/os/" class="bare">https://repo.almalinux.org/almalinux/8/BaseOS/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 8 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://repo.almalinux.org/almalinux/8/AppStream/x86_64/os/" class="bare">https://repo.almalinux.org/almalinux/8/AppStream/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 8 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://repo.almalinux.org/almalinux/8/extras/x86_64/os/" class="bare">https://repo.almalinux.org/almalinux/8/extras/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlmaLinux 8 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el8/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el8/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://repo.almalinux.org/almalinux/RPM-GPG-KEY-AlmaLinux-8" class="bare">https://repo.almalinux.org/almalinux/RPM-GPG-KEY-AlmaLinux-8</a></p>
</div>
<table id="centos-stream-10" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. CentOS Stream 10</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CentOS Stream 10 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://mirror.stream.centos.org/10-stream/BaseOS/x86_64/os/" class="bare">https://mirror.stream.centos.org/10-stream/BaseOS/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CentOS Stream 10 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://mirror.stream.centos.org/10-stream/AppStream/x86_64/os/" class="bare">https://mirror.stream.centos.org/10-stream/AppStream/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CentOS Stream 10 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://mirror.stream.centos.org/SIGs/10-stream/extras/x86_64/extras-common/" class="bare">https://mirror.stream.centos.org/SIGs/10-stream/extras/x86_64/extras-common/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CentOS Stream 10 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el10/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el10/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://www.centos.org/keys/RPM-GPG-KEY-CentOS-Official" class="bare">https://www.centos.org/keys/RPM-GPG-KEY-CentOS-Official</a></p>
</div>
<table id="centos-stream-9" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. CentOS Stream 9</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CentOS Stream 9 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://mirror.stream.centos.org/9-stream/BaseOS/x86_64/os/" class="bare">https://mirror.stream.centos.org/9-stream/BaseOS/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CentOS Stream 9 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://mirror.stream.centos.org/9-stream/AppStream/x86_64/os/" class="bare">https://mirror.stream.centos.org/9-stream/AppStream/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CentOS Stream 9 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://mirror.stream.centos.org/SIGs/9-stream/extras/x86_64/extras-common/" class="bare">https://mirror.stream.centos.org/SIGs/9-stream/extras/x86_64/extras-common/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CentOS Stream 9 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el9/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el9/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://www.centos.org/keys/RPM-GPG-KEY-CentOS-Official" class="bare">https://www.centos.org/keys/RPM-GPG-KEY-CentOS-Official</a></p>
</div>
<table id="debian-13" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Debian 13</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 34%;">
<col style="width: 22%;">
<col style="width: 12%;">
<col style="width: 12%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
<th class="tableblock halign-left valign-top">Releases/Distributions</th>
<th class="tableblock halign-left valign-top">Components</th>
<th class="tableblock halign-left valign-top">Architectures</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 13 main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://deb.debian.org/debian/" class="bare">https://deb.debian.org/debian/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trixie</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 13 updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://deb.debian.org/debian/" class="bare">https://deb.debian.org/debian/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trixie-updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 13 security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://deb.debian.org/debian-security/" class="bare">https://deb.debian.org/debian-security/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trixie-security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 13 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://oss.atix.de/Debian13/" class="bare">https://oss.atix.de/Debian13/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
</tbody>
</table>
<table id="debian-12" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Debian 12</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 34%;">
<col style="width: 22%;">
<col style="width: 12%;">
<col style="width: 12%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
<th class="tableblock halign-left valign-top">Releases/Distributions</th>
<th class="tableblock halign-left valign-top">Components</th>
<th class="tableblock halign-left valign-top">Architectures</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 12 main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://deb.debian.org/debian/" class="bare">https://deb.debian.org/debian/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bookworm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 12 updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://deb.debian.org/debian/" class="bare">https://deb.debian.org/debian/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bookworm-updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 12 security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://deb.debian.org/debian-security/" class="bare">https://deb.debian.org/debian-security/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bookworm-security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 12 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://oss.atix.de/Debian12/" class="bare">https://oss.atix.de/Debian12/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
</tbody>
</table>
<table id="debian-11" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Debian 11</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 34%;">
<col style="width: 22%;">
<col style="width: 12%;">
<col style="width: 12%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
<th class="tableblock halign-left valign-top">Releases/Distributions</th>
<th class="tableblock halign-left valign-top">Components</th>
<th class="tableblock halign-left valign-top">Architectures</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 11 main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://deb.debian.org/debian/" class="bare">https://deb.debian.org/debian/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bullseye</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 11 updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://deb.debian.org/debian/" class="bare">https://deb.debian.org/debian/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bullseye-updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 11 security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://deb.debian.org/debian-security/" class="bare">https://deb.debian.org/debian-security/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bullseye-security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Debian 11 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://oss.atix.de/Debian11/" class="bare">https://oss.atix.de/Debian11/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
</tbody>
</table>
<table id="oracle-linux-10" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Oracle Linux 10</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 10 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.oracle.com/repo/OracleLinux/OL10/baseos/latest/x86_64/" class="bare">https://yum.oracle.com/repo/OracleLinux/OL10/baseos/latest/x86_64/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 10 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.oracle.com/repo/OracleLinux/OL10/appstream/x86_64/" class="bare">https://yum.oracle.com/repo/OracleLinux/OL10/appstream/x86_64/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 10 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.oracle.com/repo/OracleLinux/OL10/addons/x86_64/" class="bare">https://yum.oracle.com/repo/OracleLinux/OL10/addons/x86_64/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 10 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el10/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el10/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://yum.oracle.com/RPM-GPG-KEY-oracle-ol9" class="bare">https://yum.oracle.com/RPM-GPG-KEY-oracle-ol9</a></p>
</div>
<table id="oracle-linux-9" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Oracle Linux 9</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 9 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.oracle.com/repo/OracleLinux/OL9/baseos/latest/x86_64/" class="bare">https://yum.oracle.com/repo/OracleLinux/OL9/baseos/latest/x86_64/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 9 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.oracle.com/repo/OracleLinux/OL9/appstream/x86_64/" class="bare">https://yum.oracle.com/repo/OracleLinux/OL9/appstream/x86_64/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 9 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.oracle.com/repo/OracleLinux/OL9/addons/x86_64/" class="bare">https://yum.oracle.com/repo/OracleLinux/OL9/addons/x86_64/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 9 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el9/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el9/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://yum.oracle.com/RPM-GPG-KEY-oracle-ol9" class="bare">https://yum.oracle.com/RPM-GPG-KEY-oracle-ol9</a></p>
</div>
<table id="oracle-linux-8" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Oracle Linux 8</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 8 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.oracle.com/repo/OracleLinux/OL8/baseos/latest/x86_64/" class="bare">https://yum.oracle.com/repo/OracleLinux/OL8/baseos/latest/x86_64/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 8 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.oracle.com/repo/OracleLinux/OL8/appstream/x86_64/" class="bare">https://yum.oracle.com/repo/OracleLinux/OL8/appstream/x86_64/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 8 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.oracle.com/repo/OracleLinux/OL8/addons/x86_64/" class="bare">https://yum.oracle.com/repo/OracleLinux/OL8/addons/x86_64/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Oracle Linux 8 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el8/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el8/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://yum.oracle.com/RPM-GPG-KEY-oracle-ol8" class="bare">https://yum.oracle.com/RPM-GPG-KEY-oracle-ol8</a></p>
</div>
<table id="rocky-linux-10" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Rocky Linux 10</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 10 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://dl.rockylinux.org/pub/rocky/10/BaseOS/x86_64/os/" class="bare">https://dl.rockylinux.org/pub/rocky/10/BaseOS/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 10 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://dl.rockylinux.org/pub/rocky/10/AppStream/x86_64/os/" class="bare">https://dl.rockylinux.org/pub/rocky/10/AppStream/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 10 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://dl.rockylinux.org/pub/rocky/10/extras/x86_64/os/" class="bare">https://dl.rockylinux.org/pub/rocky/10/extras/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 10 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el10/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el10/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://dl.rockylinux.org/pub/rocky/RPM-GPG-KEY-rockyofficial" class="bare">https://dl.rockylinux.org/pub/rocky/RPM-GPG-KEY-rockyofficial</a></p>
</div>
<table id="rocky-linux-9" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. Rocky Linux 9</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 9 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://dl.rockylinux.org/pub/rocky/9/BaseOS/x86_64/os/" class="bare">https://dl.rockylinux.org/pub/rocky/9/BaseOS/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 9 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://dl.rockylinux.org/pub/rocky/9/AppStream/x86_64/os/" class="bare">https://dl.rockylinux.org/pub/rocky/9/AppStream/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 9 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://dl.rockylinux.org/pub/rocky/9/extras/x86_64/os/" class="bare">https://dl.rockylinux.org/pub/rocky/9/extras/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 9 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el9/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el9/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://dl.rockylinux.org/pub/rocky/RPM-GPG-KEY-rockyofficial" class="bare">https://dl.rockylinux.org/pub/rocky/RPM-GPG-KEY-rockyofficial</a></p>
</div>
<table id="rocky-linux-8" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. Rocky Linux 8</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 8 BaseOS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://dl.rockylinux.org/pub/rocky/8/BaseOS/x86_64/os/" class="bare">https://dl.rockylinux.org/pub/rocky/8/BaseOS/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 8 AppStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://dl.rockylinux.org/pub/rocky/8/AppStream/x86_64/os/" class="bare">https://dl.rockylinux.org/pub/rocky/8/AppStream/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 8 extras</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://dl.rockylinux.org/pub/rocky/8/extras/x86_64/os/" class="bare">https://dl.rockylinux.org/pub/rocky/8/extras/x86_64/os/</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rocky Linux 8 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://yum.theforeman.org/client/nightly/el8/x86_64/" class="bare">https://yum.theforeman.org/client/nightly/el8/x86_64/</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPG key: <a href="https://dl.rockylinux.org/pub/rocky/RPM-GPG-KEY-rockyofficial" class="bare">https://dl.rockylinux.org/pub/rocky/RPM-GPG-KEY-rockyofficial</a></p>
</div>
<table id="ubuntu-24-04" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. Ubuntu 24.04</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 34%;">
<col style="width: 22%;">
<col style="width: 12%;">
<col style="width: 12%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
<th class="tableblock halign-left valign-top">Releases/Distributions</th>
<th class="tableblock halign-left valign-top">Components</th>
<th class="tableblock halign-left valign-top">Architectures</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 24.04 main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://archive.ubuntu.com/ubuntu/" class="bare">https://archive.ubuntu.com/ubuntu/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noble</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 24.04 updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://archive.ubuntu.com/ubuntu/" class="bare">https://archive.ubuntu.com/ubuntu/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noble-updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 24.04 security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://security.ubuntu.com/ubuntu/" class="bare">https://security.ubuntu.com/ubuntu/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noble-security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 24.04 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://oss.atix.de/Ubuntu24LTS/" class="bare">https://oss.atix.de/Ubuntu24LTS/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
</tbody>
</table>
<table id="ubuntu-22-04" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 16. Ubuntu 22.04</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 34%;">
<col style="width: 22%;">
<col style="width: 12%;">
<col style="width: 12%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
<th class="tableblock halign-left valign-top">Releases/Distributions</th>
<th class="tableblock halign-left valign-top">Components</th>
<th class="tableblock halign-left valign-top">Architectures</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 22.04 main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://archive.ubuntu.com/ubuntu/" class="bare">https://archive.ubuntu.com/ubuntu/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jammy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 22.04 updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://archive.ubuntu.com/ubuntu/" class="bare">https://archive.ubuntu.com/ubuntu/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jammy-updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 22.04 security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://security.ubuntu.com/ubuntu/" class="bare">https://security.ubuntu.com/ubuntu/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jammy-security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 22.04 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://oss.atix.de/Ubuntu22LTS/" class="bare">https://oss.atix.de/Ubuntu22LTS/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
</tbody>
</table>
<table id="ubuntu-20-04" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 17. Ubuntu 20.04</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 34%;">
<col style="width: 22%;">
<col style="width: 12%;">
<col style="width: 12%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Upstream URL</th>
<th class="tableblock halign-left valign-top">Releases/Distributions</th>
<th class="tableblock halign-left valign-top">Components</th>
<th class="tableblock halign-left valign-top">Architectures</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 20.04 main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://archive.ubuntu.com/ubuntu/" class="bare">https://archive.ubuntu.com/ubuntu/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>focal</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 20.04 updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://archive.ubuntu.com/ubuntu/" class="bare">https://archive.ubuntu.com/ubuntu/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>focal-updates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 20.04 security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://security.ubuntu.com/ubuntu/" class="bare">https://security.ubuntu.com/ubuntu/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>focal-security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ubuntu 20.04 Client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://oss.atix.de/Ubuntu20LTS/" class="bare">https://oss.atix.de/Ubuntu20LTS/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>main</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>amd64</code></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#creating-a-custom-product-by-using-web-ui">Creating a product by using Foreman web UI</a></p>
</li>
<li>
<p><a href="#adding-deb-repositories-by-using-web-ui">Adding Deb repositories by using Foreman web UI</a></p>
</li>
<li>
<p><a href="#adding-custom-rpm-repositories-by-using-web-ui">Adding RPM repositories by using Foreman web UI</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="uln-repositories"><a class="anchor" href="#uln-repositories"></a>5.10. ULN repositories</h3>
<div class="paragraph _abstract">
<p>You can synchronize content from Oracle Unbreakable Linux Network (ULN) to Foreman.</p>
</div>
<div class="paragraph">
<p>There are two main differences compared to generic Yum content:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <strong>Upstream URL</strong> field consists of a protocol prefix <code>uln://</code> and an <code>ULN Channel Label</code>, for example, <code>ol7_x86_64_MySQL80_community</code>.
Combined, <code>uln://ol7_x86_64_MySQL80_community</code> is a valid upstream URL for a Yum repository.</p>
</li>
<li>
<p>Authentication against the repository through an <strong>Upstream Username</strong> and <strong>Upstream Password</strong> is mandatory.
Use your single sign-on user name and token of your Oracle account to authenticate from Foreman.</p>
<div class="paragraph">
<p>For more information, see <a href="https://docs.oracle.com/en/operating-systems/oracle-linux/uln/uln-GeneratingAuthToken.html">Generating an Authentication Token</a> in <em>Unbreakable Linux Network User&#8217;s Guide</em>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>To obtain a list of available ULN channel labels, log in to <a href="https://linux.oracle.com/">Oracle Unbreakable Linux Network</a>.
Navigate to the <strong>channels</strong> tab and select an operating system release version and architecture.
Copy the required <strong>ULN Channel Label</strong> from the list of available content.</p>
</div>
<div class="paragraph">
<p>Adding ULN repositories is different compared to Yum repositories for Enterprise Linux, for example, <code>https://yum.oracle.com/oracle-linux-9.html</code>, which you can add as Yum-type content.
For more information, see <a href="#adding-custom-rpm-repositories-by-using-web-ui">Adding RPM repositories</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Foreman community recommends that you set the <code>retain_package_versions</code> to <code>1</code> for ULN content to avoid synchronization failures.
For this setting to appear in the Foreman web UI, you also need to set the mirroring policy to <code>additive</code>.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can use Hammer CLI to configure your ULN repository on Foreman:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository update \
--id <em>My_ULN_Repository_ID</em> \
--mirroring-policy additive \
--retain-package-versions-count 1</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="uln-repositories-for-oracle-linux-10"><a class="anchor" href="#uln-repositories-for-oracle-linux-10"></a>5.10.1. ULN repositories for Oracle Linux 10</h4>
<div class="paragraph _abstract">
<p>You can synchronize content from Oracle Unbreakable Linux Network (ULN) to Foreman for Oracle Linux 10.</p>
</div>
<div class="paragraph">
<p>The following ULN repositories are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Addons ULN: <code>uln://ol10_x86_64_addons</code></p>
</li>
<li>
<p>AppStream ULN: <code>uln://ol10_x86_64_appstream</code></p>
</li>
<li>
<p>BaseOS latest ULN: <code>uln://ol10_x86_64_baseos_latest</code></p>
</li>
<li>
<p>Unbreakable Enterprise Kernel Release 8: <code>uln://ol10_x86_64_UEKR8</code></p>
</li>
<li>
<p>kSplice: <code>uln://ol10_x86_64_ksplice</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="uln-repositories-for-oracle-linux-9"><a class="anchor" href="#uln-repositories-for-oracle-linux-9"></a>5.10.2. ULN repositories for Oracle Linux 9</h4>
<div class="paragraph _abstract">
<p>You can synchronize content from Oracle Unbreakable Linux Network (ULN) to Foreman for Oracle Linux 9.</p>
</div>
<div class="paragraph">
<p>The following ULN repositories are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Addons ULN: <code>uln://ol9_x86_64_addons</code></p>
</li>
<li>
<p>AppStream ULN: <code>uln://ol9_x86_64_appstream</code></p>
</li>
<li>
<p>BaseOS latest ULN: <code>uln://ol9_x86_64_baseos_latest</code></p>
</li>
<li>
<p>Unbreakable Enterprise Kernel Release 7: <code>uln://ol9_x86_64_UEKR7</code></p>
</li>
<li>
<p>kSplice: <code>uln://ol9_x86_64_ksplice</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="uln-repositories-for-oracle-linux-8"><a class="anchor" href="#uln-repositories-for-oracle-linux-8"></a>5.10.3. ULN repositories for Oracle Linux 8</h4>
<div class="paragraph _abstract">
<p>You can synchronize content from Oracle Unbreakable Linux Network (ULN) to Foreman for Oracle Linux 8.</p>
</div>
<div class="paragraph">
<p>The following ULN repositories are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Addons ULN: <code>uln://ol8_x86_64_addons</code></p>
</li>
<li>
<p>AppStream ULN: <code>uln://ol8_x86_64_appstream</code></p>
</li>
<li>
<p>BaseOS latest ULN: <code>uln://ol8_x86_64_baseos_latest</code></p>
</li>
<li>
<p>Unbreakable Enterprise Kernel Release 6: <code>uln://ol8_x86_64_UEKR6</code></p>
</li>
<li>
<p>kSplice: <code>uln://ol8_x86_64_ksplice</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Extracting_GPG_Public_Key_Fingerprints_from_Release_Files_content-management"><a class="anchor" href="#Extracting_GPG_Public_Key_Fingerprints_from_Release_Files_content-management"></a>5.11. Extracting GPG public key fingerprints from Release files</h3>
<div class="paragraph _abstract">
<p>You can use GPG public keys to verify the authenticity of Deb repositories by verifying the signature of the <code>Release</code> file.
This example verifies the signature for the <code>Release</code> file from Debian 11.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the <code>Release</code> and <code>Release.gpg</code> files:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ wget https://deb.debian.org/debian/dists/bullseye/Release
$ wget https://deb.debian.org/debian/dists/bullseye/Release.gpg</pre>
</div>
</div>
</li>
<li>
<p>Verify the signature:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ gpg --verify Release.gpg Release</pre>
</div>
</div>
<div class="paragraph">
<p>Note the GPG key fingerprint for any missing public GPG keys above the <code>Can&#8217;t check signature: No public key</code> message.
These fingerprints will be used in the next step.</p>
</div>
</li>
<li>
<p>If you cannot verify the signature, import the missing GPG public keys based on their fingerprint:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ gpg --keyserver hkps://keyserver.ubuntu.com --recv-keys A7236886F3CCCAAD148A27F80E98404D386FA1D9
$ gpg --keyserver hkps://keyserver.ubuntu.com --recv-keys 4CB50190207B4758A3F73A796ED0E7B82643E131
$ gpg --keyserver hkps://keyserver.ubuntu.com --recv-keys A4285295FC7B1A81600062A9605C66F00D6C9793</pre>
</div>
</div>
</li>
<li>
<p>Optional: Verify the signature again:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ gpg --verify Release.gpg Release</pre>
</div>
</div>
</li>
<li>
<p>Export the <em>ASCII-armored</em> GPG public keys to a file:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ gpg --armor --export A7236886F3CCCAAD148A27F80E98404D386FA1D9 4CB50190207B4758A3F73A796ED0E7B82643E131 A4285295FC7B1A81600062A9605C66F00D6C9793 &gt; debian_11.txt</pre>
</div>
</div>
<div class="paragraph">
<p>Ensure that <code>gpg</code> returns a <code>Good signature</code> message for each signature.</p>
</div>
<div class="paragraph">
<p>Upload the .txt file to Foreman.
For more information, see <a href="#importing-a-custom-gpg-key-by-using-web-ui">Importing a GPG key by using Foreman web UI</a> into Foreman.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="adding-deb-repositories-by-using-web-ui"><a class="anchor" href="#adding-deb-repositories-by-using-web-ui"></a>5.12. Adding Deb repositories by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can add Deb repositories to Foreman by using the Foreman web UI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have extracted and imported the GPG key that you want to use to verify signatures of the <code>Release</code> files.
For more information, see <a href="#Extracting_GPG_Public_Key_Fingerprints_from_Release_Files_content-management">Extracting GPG public key fingerprints from Release files</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong> and select the product that you want to use, and then click <strong>New Repository</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the repository.
Foreman automatically completes the <strong>Label</strong> field based on what you have entered for <strong>Name</strong>.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description for the repository.</p>
</li>
<li>
<p>From the <strong>Type</strong> list, select <code>deb</code> as type of repository.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream URL</strong> field, enter the URL of the external repository to use as a source.
You can find the upstream URLs on Debian-based systems in <code>/etc/apt/sources.list</code>.</p>
<div class="paragraph">
<p>If you do not enter an upstream URL, you can manually upload packages.</p>
</div>
</li>
<li>
<p>In the <strong>Releases/Distributions</strong> field, set one or multiple releases separated by whitespace.
The distributions specify the path from the repository root to the <code>Release</code> file.
Repositories that omit the <code>dists</code> directory are using the deprecated <em>flat repository structure</em>.
To synchronize a flat repository, you must specify exactly one distribution that ends with a <code>/</code>.</p>
<div class="paragraph">
<p>For official Debian repositories, set a <em>codename</em> in the <strong>Releases/Distributions</strong> field, for example <code>bullseye</code> for Debian 11 or <code>bookworm</code> for Debian 12.
Avoid using <code>stable</code> or <code>testing</code> because the codename they reference changes over time.
This helps to avoid drastic changes once a new Debian version is released and the reference is changed.
To keep things easy to manage and to avoid potential performance and network issues during synchronization, create one repository per release in Foreman.
For official Ubuntu repositories, use the Ubuntu suite, for example <code>noble</code> or <code>noble-updates</code>.</p>
</div>
</li>
<li>
<p>Optional: In the <strong>Components</strong> field, enter a component.
This indicates the licensing terms of the software packages.</p>
<div class="paragraph">
<p>In Debian, it is divided into <code>main</code>, <code>contrib</code>, and <code>non-free</code>.
For official Debian or Ubuntu repositories, Foreman community recommends leaving this field empty to synchronize all available components.
Note that some third party Debian repositories use the components in ways that may require setting an explicit selection.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure that you enter both <strong>Releases</strong> and <strong>Components</strong> exactly as they are in an <code>/etc/apt/sources.list</code> file.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optional: In the <strong>Architectures</strong> field, enter one or multiple architectures.
If you want to make the repository available to all hosts regardless of the architecture, ensure to select <strong>No restriction</strong>.</p>
</li>
<li>
<p>Optional: Select the <strong>Verify SSL</strong> checkbox if you want to verify that the upstream repository&#8217;s SSL certificates are signed by a trusted CA.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Username</strong> field, enter the user name for the upstream repository if required for authentication.
Clear this field if the repository does not require authentication.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Password</strong> field, enter the corresponding password for the upstream repository.
Clear this field if the repository does not require authentication.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Authentication Token</strong> field, provide the token of the upstream repository user for authentication.
Leave this field empty if the repository does not require authentication.</p>
</li>
<li>
<p>From the <strong>Download Policy</strong> list, select the type of synchronization Foreman&#160;server performs.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
<li>
<p>From the <strong>Mirroring Policy</strong> list, select the type of content synchronization Foreman&#160;server performs.
For more information, see <a href="#Mirroring_Policies_Overview_content-management">Mirroring policies overview</a>.</p>
</li>
<li>
<p>Optional: In the <strong>HTTP Proxy Policy</strong> field, select an HTTP proxy.</p>
</li>
<li>
<p>Optional: You can clear the <strong>Unprotected</strong> checkbox to require a subscription entitlement certificate for accessing this repository.
By default, the repository is published through HTTP.</p>
</li>
<li>
<p>Optional: From the <strong>GPG Key</strong> list, select the GPG key if you want to verify the signatures of the <code>Release</code> files associated with the Debian repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL CA Cert</strong> field, select the SSL CA Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client cert</strong> field, select the SSL Client Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client Key</strong> field, select the SSL Client Key for the repository.</p>
</li>
<li>
<p>Click <strong>Save</strong> to create the repository.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p><a href="#repository-synchronization">Repository synchronization</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adding-deb-repositories-by-using-cli"><a class="anchor" href="#adding-deb-repositories-by-using-cli"></a>5.13. Adding Deb repositories by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can add Deb repositories to Foreman by using Hammer CLI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have extracted and imported the GPG key that you want to use to verify signatures of the <code>Release</code> files.
For more information, see <a href="#Extracting_GPG_Public_Key_Fingerprints_from_Release_Files_content-management">Extracting GPG public key fingerprints from Release files</a>.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Create a Deb repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository create \
--content-type "deb" \
--deb-architectures "<em>My_Deb_Architectures</em>" \
--deb-components "<em>My_Deb_Components</em>" \
--deb-releases "<em>My_Deb_Releases</em>" \
--gpg-key-id "<em>My_GPG_Key_ID</em>" \
--name "<em>My_Repository</em>" \
--organization "<em>My_Organization</em>" \
--product "<em>My_Product</em>" \
--publish-via-http true \
--url <em>My_Upstream_URL</em></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p><a href="#repository-synchronization">Repository synchronization</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Synchronizing-Ubuntu-Expanded-Security-Maintenance-content_content-management"><a class="anchor" href="#Synchronizing-Ubuntu-Expanded-Security-Maintenance-content_content-management"></a>5.14. Synchronizing Ubuntu Expanded Security Maintenance content</h3>
<div class="paragraph _abstract">
<p>Canonical provides Ubuntu <a href="https://ubuntu.com/security/esm">Expanded Security Maintenance</a> (ESM) repositories to their paying customers.
In Foreman, synchronize ESM repositories from Canonical to distribute content to your hosts running Ubuntu 14.04 and Ubuntu 16.04.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Providing <a href="https://ubuntu.com/security/esm">Ubuntu ESM</a> repositories to hosts running Ubuntu 14.04 or 16.04 requires a subscription from Canonical.
Ensure to provide valid licenses for all used Canonical products.
Using insufficient, invalid, or otherwise inadequate licenses might violate your terms with Canonical.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On a host running Ubuntu 14.04 or 16.04, attach your subscription and extract repository information:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Install <code>ubuntu-advantage-tools</code> on a host running Ubuntu 14.04 or 16.04:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># apt-get install ubuntu-advantage-tools</pre>
</div>
</div>
</li>
<li>
<p>Register your host with Canonical:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ua attach <em>ABCDEF0123456789</em></pre>
</div>
</div>
<div class="paragraph">
<p>Use your subscription token from <a href="https://canonical.com/">canonical.com</a>.</p>
</div>
</li>
<li>
<p>Extract the <code>Upstream URL</code>, <code>Releases</code>, <code>Components</code>, and <code>Architectures</code> from the ESM repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cat /etc/apt/sources.list.d/ubuntu-esm-infra.list</pre>
</div>
</div>
</li>
<li>
<p>Extract user name and password:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cat /etc/apt/auth.conf.d/90ubuntu-advantage</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Add GPG public key to Foreman:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Content Credentials</strong>.</p>
</li>
<li>
<p>Click <strong>Create Content Credential</strong>.</p>
</li>
<li>
<p>Enter a name and the GPG public key for Ubuntu.</p>
<div class="paragraph">
<p>Ensure to use ASCII-armored GPG keys.
Convert the key if necessary:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># gpg --import ubuntu-advantage-esm-infra-trusty.gpg
# gpg --export --armor 4067E40313CB4B13</pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Save</strong> to save your content credential to Foreman.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Create a product and repository:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Click <strong>Create Product</strong>.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Enter a <strong>Name</strong>, select the previously imported GPG public key, and, optionally, add a sync plan and description.</p>
</li>
<li>
<p>Click <strong>Save</strong> to save the product to Foreman.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select the previously created product.</p>
</li>
<li>
<p>Click <strong>New Repository</strong>.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Enter a <strong>Name</strong> and select type <code>deb</code>.</p>
</li>
<li>
<p>Enter the <strong>Upstream URL</strong>, <strong>Releases</strong>, <strong>Components</strong>, and <strong>Architectures</strong> as extracted from your host from <code>/etc/apt/sources.list.d/ubuntu-esm-infra.list</code>.</p>
</li>
<li>
<p>Enter the <strong>Upstream Username</strong> and <strong>Upstream Password</strong> as extracted from your host from <code>/etc/apt/auth.conf.d/90ubuntu-advantage</code>.</p>
</li>
<li>
<p>Click <strong>Save</strong> to save your repository to Foreman.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Synchronize your product.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select the previously created product.</p>
</li>
<li>
<p>In the <strong>Actions</strong> menu, select <strong>Sync Now</strong>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>Distribute and manage your content as you manage other Deb content.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Changing_the_Repository_Sets_Status_for-a-Host-in_foreman_content-management"><a class="anchor" href="#Changing_the_Repository_Sets_Status_for-a-Host-in_foreman_content-management"></a>5.15. Changing the repository sets status for a host in Foreman</h3>
<div class="paragraph _abstract">
<p>Repository sets show repositories available to each host.
A host will be able to access content from a given repository if that repository is enabled.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts</strong> &gt; <strong>All Hosts</strong> and select a host.</p>
</li>
<li>
<p>Select the <strong>Content</strong> tab, then select the <strong>Repository sets</strong> subtab.
On the tab, there is a set of repositories available to each host with a status of <strong>Enabled</strong> or <strong>Disabled</strong>.</p>
</li>
<li>
<p>You can override the default status by using the action menus on each table row by changing the status to <strong>Override to disabled</strong>, <strong>Override to enabled</strong>, or <strong>Reset to default</strong>.</p>
</li>
<li>
<p>You can also bulk select the checkboxes on each table row, and use the vertical ellipsis icon at the top.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>For hosts not in the default content view environment, the <strong>Repository sets</strong> tab shows a toggle group with two options, <strong>Limit to environment</strong> and <strong>Show all</strong>.
The <strong>Limit to environment</strong> option shows only repositories that are relevant to the host.
The <strong>Show all</strong> option shows all available repositories, including those that may not be included in the content view environments of the host.
On the <strong>Overview</strong> tab, click <strong>Content view details</strong> to view the environment for the host.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="enabling-red-hat-repositories-by-using-web-ui"><a class="anchor" href="#enabling-red-hat-repositories-by-using-web-ui"></a>5.16. Enabling Red&#160;Hat repositories by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>If outside network access requires usage of an HTTP proxy, configure a default HTTP proxy for your Foreman&#160;server.
For more information, see <a href="https://docs.theforeman.org/nightly/Installing_Server/index-foremanctl-katello.html#adding-a-default-http-proxy_foreman">Adding a default HTTP proxy to Foreman</a>.</p>
</div>
<div class="paragraph">
<p>To select the repositories to synchronize, you must first identify the product that contains the repository, and then enable that repository based on the relevant release version and base architecture.</p>
</div>
<div class="paragraph">
<p>For an overview of required repositories, see <a href="#required-red-hat-repositories">Required Red Hat repositories</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Red&#160;Hat Repositories</strong>.</p>
</li>
<li>
<p>To find repositories, either enter the repository name, or toggle the <strong>Recommended Repositories</strong> button to the on position to view a list of repositories that you require.</p>
</li>
<li>
<p>In the Available Repositories pane, click a repository to expand the repository set.</p>
</li>
<li>
<p>Click the <strong>Enable</strong> icon next to the base architecture and release version that you want.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="enabling-red-hat-repositories-by-using-cli"><a class="anchor" href="#enabling-red-hat-repositories-by-using-cli"></a>5.17. Enabling Red&#160;Hat repositories by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>If outside network access requires usage of an HTTP proxy, configure a default HTTP proxy for your Foreman&#160;server.
For more information, see <a href="https://docs.theforeman.org/nightly/Installing_Server/index-foremanctl-katello.html#adding-a-default-http-proxy_foreman">Adding a default HTTP proxy to Foreman</a>.</p>
</div>
<div class="paragraph">
<p>To select the repositories to synchronize, you must first identify the product that contains the repository, and then enable that repository based on the relevant release version and base architecture.</p>
</div>
<div class="paragraph">
<p>For an overview of required repositories, see <a href="#required-red-hat-repositories">Required Red Hat repositories</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Search for your product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer product list --organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>List the repository set for the product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository-set list \
--product "Red Hat Enterprise Linux Server" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Enable the repository using either the name or ID number.
Include the release version, such as <code>7Server</code>, and base architecture, such as <code>x86_64</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository-set enable \
--name "Red Hat Enterprise Linux 7 Server (RPMs)" \
--releasever "7Server" \
--basearch "x86_64" \
--product "Red Hat Enterprise Linux Server" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="repository-synchronization"><a class="anchor" href="#repository-synchronization"></a>5.18. Repository synchronization</h3>
<div class="paragraph _abstract">
<p>You must synchronize repositories to download content into Foreman.
You can use one-time synchronization for an initial synchronization of repositories or to synchronize repositories manually as you need.</p>
</div>
<div class="paragraph">
<p>You can also sync all repositories in an organization.
For more information, see <a href="#Synchronizing_All_Repositories_in_an_Organization_content-management">Synchronizing all repositories in an organization</a>.</p>
</div>
<div class="paragraph">
<p>Create a sync plan to ensure updates on a regular basis.
For more information, see <a href="#creating-a-sync-plan-by-using-web-ui">Creating a sync plan by using Foreman web UI</a>.</p>
</div>
<div class="paragraph">
<p>The synchronization duration depends on the size of each repository and the speed of your network connection.
The following table provides estimates of how long it would take to synchronize content, depending on the available Internet bandwidth:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Single Package (10Mb)</th>
<th class="tableblock halign-left valign-top">Minor Release (750Mb)</th>
<th class="tableblock halign-left valign-top">Major Release (6Gb)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">256 Kbps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 Mins 27 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 Hrs 49 Mins 36 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 Days 7 Hrs 55 Mins</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">512 Kbps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 Mins 43.84 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 Hrs 24 Mins 48 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 Day 3 Hrs 57 Mins</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1 (1.5 Mbps)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">54.33 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 Hr 7 Mins 54.78 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9 Hrs 16 Mins 20.57 Secs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Mbps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.39 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Mins 29.15 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 Hr 25 Mins 53.96 Secs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100 Mbps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.84 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 Min 2.91 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Mins 35.4 Secs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000 Mbps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.08 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.29 Secs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">51.54 Secs</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#troubleshooting-synchronization-errors">Troubleshooting synchronization errors</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="synchronizing-repositories-by-using-web-ui"><a class="anchor" href="#synchronizing-repositories-by-using-web-ui"></a>5.18.1. Synchronizing repositories by using Foreman web UI</h4>
<div class="paragraph _abstract">
<p>You can synchronize repositories one-time by using Foreman web UI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select the product that contains the repositories that you want to synchronize.</p>
</li>
<li>
<p>Select the repositories that you want to synchronize and click <strong>Sync Now</strong>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Sync Status</strong>.</p>
</li>
<li>
<p>Expand the corresponding product or repository tree.</p>
</li>
<li>
<p>Verify that the synchronization is complete.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="synchronizing-repositories-by-using-cli"><a class="anchor" href="#synchronizing-repositories-by-using-cli"></a>5.18.2. Synchronizing repositories by using Hammer CLI</h4>
<div class="paragraph _abstract">
<p>You can synchronize repositories one-time by using Hammer CLI.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Synchronize an entire product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer product synchronize \
--name "<em>My_Product</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Synchronize an individual repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository synchronize \
--name "<em>My_Repository</em>" \
--organization "<em>My_Organization</em>" \
--product "<em>My_Product</em>"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="Synchronizing_All_Repositories_in_an_Organization_content-management"><a class="anchor" href="#Synchronizing_All_Repositories_in_an_Organization_content-management"></a>5.18.3. Synchronizing all repositories in an organization</h4>
<div class="paragraph _abstract">
<p>Use this procedure to synchronize all repositories within an organization.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your Foreman&#160;server using SSH.</p>
</li>
<li>
<p>Run the following Bash script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">ORG="<em>My_Organization</em>"

for i in $(hammer --no-headers --csv repository list --organization $ORG --fields Id)
do
  hammer repository synchronize --id ${i} --organization $ORG --async
done</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Download_Policies_Overview_content-management"><a class="anchor" href="#Download_Policies_Overview_content-management"></a>5.19. Download policies overview</h3>
<div class="paragraph _abstract">
<p>Foreman provides multiple download policies for synchronizing Deb and Yum content and container images.
For example, you might want to download only the content metadata while deferring the actual content download for later.</p>
</div>
<div class="paragraph">
<p>Foreman&#160;server has the following policies:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Immediate</dt>
<dd>
<p>Foreman&#160;server downloads all metadata and packages during synchronization.</p>
</dd>
<dt class="hdlist1">On Demand</dt>
<dd>
<p>Foreman&#160;server downloads only the metadata during synchronization.
Foreman&#160;server only fetches and stores packages on the file system when Smart&#160;Proxies or directly connected clients request them.
This setting has no effect if you set a corresponding repository on a Smart&#160;Proxy to <strong>Immediate</strong> because Foreman&#160;server is forced to download all the packages.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <strong>On Demand</strong> policy acts as a <em>Lazy Synchronization</em> feature because they save time synchronizing content.
The lazy synchronization feature must be used only for Deb and Yum repositories.
You can add the packages to content views and promote to lifecycle environments as normal.</p>
</div>
<div class="paragraph">
<p>Smart&#160;Proxy&#160;server has the following policies:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Immediate</dt>
<dd>
<p>Smart&#160;Proxy&#160;server downloads all metadata and packages during synchronization.
Do not use this setting if the corresponding repository on Foreman&#160;server is set to <strong>On Demand</strong> as Foreman&#160;server is forced to download all the packages.</p>
</dd>
<dt class="hdlist1">On Demand</dt>
<dd>
<p>Smart&#160;Proxy&#160;server only downloads the metadata during synchronization.
Smart&#160;Proxy&#160;server fetches and stores packages only on the file system when directly connected clients request them.
When you use an <strong>On Demand</strong> download policy, content is downloaded from Foreman&#160;server if it is not available on Smart&#160;Proxy&#160;server.</p>
</dd>
<dt class="hdlist1">Inherit</dt>
<dd>
<p>Smart&#160;Proxy&#160;server inherits the download policy for the repository from the corresponding repository on Foreman&#160;server.</p>
</dd>
<dt class="hdlist1">Streamed Download Policy</dt>
<dd>
<p>Streamed Download Policy for Smart&#160;Proxies permits Smart&#160;Proxies to avoid caching any content.
When content is requested from the Smart&#160;Proxy, it functions as a proxy and requests the content directly from the Foreman.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-default-download-policy-by-using-web-ui"><a class="anchor" href="#changing-the-default-download-policy-by-using-web-ui"></a>5.20. Changing the default download policy by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can set the default download policy that Foreman applies to repositories that you create in all organizations.</p>
</div>
<div class="paragraph">
<p>Depending on whether it is a Red Hat, SUSE, or repository, Foreman uses separate settings.
Changing the default value does not change the setting in existing repositories, but only the default setting for new repositories.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Administer</strong> &gt; <strong>Settings</strong>.</p>
</li>
<li>
<p>Click the <strong>Content</strong> tab.</p>
</li>
<li>
<p>Change the default download policy depending on your requirements:</p>
<div class="ulist">
<ul>
<li>
<p>To change the default download policy for a Red Hat repository, change the value of the <strong>Default Red Hat Repository download policy</strong> setting.</p>
</li>
<li>
<p>To change the default download policy for a non-Red Hat repository, change the value of the <strong>Default Custom Repository download policy</strong> setting.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-default-download-policy-by-using-cli"><a class="anchor" href="#changing-the-default-download-policy-by-using-cli"></a>5.21. Changing the default download policy by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can set the default download policy that Foreman applies to repositories that you create in all organizations.</p>
</div>
<div class="paragraph">
<p>Depending on whether it is a Red Hat, SUSE, or repository, Foreman uses separate settings.
Changing the default value does not change the setting in existing repositories, but only the default setting for new repositories.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To change the default download policy for Red Hat repositories to one of <code>immediate</code> or <code>on_demand</code>, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer settings set \
--name default_redhat_download_policy \
--value <em>immediate</em></pre>
</div>
</div>
</li>
<li>
<p>To change the default download policy for a repository to one of <code>immediate</code> or <code>on_demand</code>, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer settings set \
--name default_download_policy \
--value <em>immediate</em></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-download-policy-for-a-repository-by-using-web-ui"><a class="anchor" href="#changing-the-download-policy-for-a-repository-by-using-web-ui"></a>5.22. Changing the download policy for a repository by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can set the download policy for a repository by using the Foreman web UI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select the required product name.</p>
</li>
<li>
<p>On the <strong>Repositories</strong> tab, click the required repository name, locate the <strong>Download Policy</strong> field, and click the edit icon.</p>
</li>
<li>
<p>From the list, select the required download policy and then click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-download-policy-for-a-repository-by-using-cli"><a class="anchor" href="#changing-the-download-policy-for-a-repository-by-using-cli"></a>5.23. Changing the download policy for a repository by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can set the download policy for a repository by using Hammer CLI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>List the repositories for an organization:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer repository list \
--organization-label <em>My_Organization_Label</em></pre>
</div>
</div>
</li>
<li>
<p>Change the download policy for a repository to <code>immediate</code> or <code>on_demand</code>:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer repository update \
--download-policy <em>immediate</em> \
--name "<em>My_Repository</em>" \
--organization-label <em>My_Organization_Label</em> \
--product "<em>My_Product</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Mirroring_Policies_Overview_content-management"><a class="anchor" href="#Mirroring_Policies_Overview_content-management"></a>5.24. Mirroring policies overview</h3>
<div class="paragraph _abstract">
<p>Mirroring keeps the local repository exactly in synchronization with the upstream repository.
If any content is removed from the upstream repository since the last synchronization, with the next synchronization, it will be removed from the local repository as well.</p>
</div>
<div class="paragraph">
<p>You can use mirroring policies for finer control over mirroring of repodata and content when synchronizing a repository.
For example, if it is not possible to mirror the repodata for a repository, you can set the mirroring policy to mirror only content for this repository.</p>
</div>
<div class="paragraph">
<p>Foreman&#160;server has the following mirroring policies:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additive</dt>
<dd>
<p>Neither the content nor the repodata is mirrored.
Thus, only new content added since the last synchronization is added to the local repository and nothing is removed.</p>
</dd>
<dt class="hdlist1">Content Only</dt>
<dd>
<p>Mirrors only content and not the repodata.
Some repositories do not support metadata mirroring, in such cases you can set the mirroring policy to content only to only mirror the content.</p>
</dd>
<dt class="hdlist1">Complete Mirroring</dt>
<dd>
<p>Mirrors content as well as repodata.
This is the fastest method.
This mirroring policy is only available for Yum content.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Avoid republishing metadata for repositories with Complete Mirror mirroring policy.
This also applies to content views containing repositories with the Complete Mirror mirroring policy.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-default-mirroring-policy-by-using-web-ui"><a class="anchor" href="#changing-the-default-mirroring-policy-by-using-web-ui"></a>5.25. Changing the default mirroring policy by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can set the default mirroring policy that Foreman applies to your repository that you create in all organizations.</p>
</div>
<div class="paragraph">
<p>Depending on whether it is a Yum or non-Yum repository, Foreman uses separate settings.
Only Yum repositories support the <code>mirror_complete</code> mirroring policy.
Red&#160;Hat repositories use the <code>mirror_complete</code> policy by default and are not affected by these settings.
Changing the default value does not change existing mirroring policy settings per repository.
For more information on mirroring policies, see <a href="#Mirroring_Policies_Overview_content-management">Mirroring policies overview</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Administer</strong> &gt; <strong>Settings</strong>.</p>
</li>
<li>
<p>Click the <strong>Content</strong> tab.</p>
</li>
<li>
<p>Change the default mirroring policy depending on your requirements:</p>
<div class="ulist">
<ul>
<li>
<p>To change the default mirroring policy for a Yum repository, change the value of the <strong>Default custom yum repository mirroring policy</strong> setting.</p>
</li>
<li>
<p>To change the default mirroring policy for a non-Yum repository, change the value of the <strong>Default custom non-yum repository mirroring policy</strong> setting.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-default-mirroring-policy-by-using-cli"><a class="anchor" href="#changing-the-default-mirroring-policy-by-using-cli"></a>5.26. Changing the default mirroring policy by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can set the default mirroring policy that Foreman applies to your repository that you create in all organizations.</p>
</div>
<div class="paragraph">
<p>Depending on whether it is a Yum or non-Yum repository, Foreman uses separate settings.
Only Yum repositories support the <code>mirror_complete</code> mirroring policy.
Red&#160;Hat repositories use the <code>mirror_complete</code> policy by default and are not affected by these settings.
Changing the default value does not change existing mirroring policy settings per repository.
For more information on mirroring policies, see <a href="#Mirroring_Policies_Overview_content-management">Mirroring policies overview</a>.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Change the default mirroring policy for a Yum repository to <code>additive</code>, <code>mirror_content_only</code>, or <code>mirror_complete</code>:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer settings set \
--name default_yum_mirroring_policy \
--value <em>mirror_complete</em></pre>
</div>
</div>
</li>
<li>
<p>Change the default mirroring policy for a non-Yum repository to <code>additive</code> or <code>mirror_content_only</code>:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer settings set \
--name default_non_yum_mirroring_policy \
--value <em>additive</em></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-mirroring-policy-for-a-repository-by-using-web-ui"><a class="anchor" href="#changing-the-mirroring-policy-for-a-repository-by-using-web-ui"></a>5.27. Changing the mirroring policy for a repository by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can set the mirroring policy for a repository by using the Foreman web UI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select the product name.</p>
</li>
<li>
<p>On the <strong>Repositories</strong> tab, click the repository name, locate the <strong>Mirroring Policy</strong> field, and click the edit icon.</p>
</li>
<li>
<p>From the list, select a mirroring policy and click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-mirroring-policy-for-a-repository-by-using-cli"><a class="anchor" href="#changing-the-mirroring-policy-for-a-repository-by-using-cli"></a>5.28. Changing the mirroring policy for a repository by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can set the mirroring policy for a repository by using Hammer CLI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>List the repositories for an organization:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer repository list \
--organization-label <em>My_Organization_Label</em></pre>
</div>
</div>
</li>
<li>
<p>Change the mirroring policy for a repository to <code>additive</code>, <code>mirror_complete</code>, or <code>mirror_content_only</code>:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer repository update \
--id <em>My_Repository_ID</em> \
--mirroring-policy <em>mirror_complete</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="uploading-content-to-custom-rpm-repositories-by-using-web-ui"><a class="anchor" href="#uploading-content-to-custom-rpm-repositories-by-using-web-ui"></a>5.29. Uploading content to RPM repositories by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can upload individual RPMs to RPM repositories by using Foreman web UI.</p>
</div>
<div class="paragraph">
<p>You must use the Hammer CLI to upload source RPMs.
For more information, see <a href="#uploading-content-to-custom-rpm-repositories-by-using-cli">Uploading content to RPM repositories by using Hammer CLI</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Click the name of the product.</p>
</li>
<li>
<p>In the <strong>Repositories</strong> tab, click the name of the RPM repository.</p>
</li>
<li>
<p>Under <strong>Upload Package</strong>, click <strong>Browse&#8230;&#8203;</strong> and select the RPM you want to upload.</p>
</li>
<li>
<p>Click <strong>Upload</strong>.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>To view all RPMs in this repository, click the number next to <strong>Packages</strong> under <strong>Content Counts</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="uploading-content-to-custom-rpm-repositories-by-using-cli"><a class="anchor" href="#uploading-content-to-custom-rpm-repositories-by-using-cli"></a>5.30. Uploading content to RPM repositories by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can upload individual RPMs and source RPMs to RPM repositories by using Hammer CLI.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Upload an RPM package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository upload-content \
--id <em>My_Repository_ID</em> \
--path <em>/path/to/example-package.rpm</em></pre>
</div>
</div>
</li>
<li>
<p>Upload a source RPM package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository upload-content \
--content-type srpm \
--id <em>My_Repository_ID</em> \
--path <em>/path/to/example-package.src.rpm</em></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>After the upload is complete, you can view information about a source RPM by using the commands <code>hammer srpm list</code> and <code>hammer srpm info --id <em>srpm_ID</em></code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Refreshing_Content_Counts_on_Smart_Proxy_content-management"><a class="anchor" href="#Refreshing_Content_Counts_on_Smart_Proxy_content-management"></a>5.31. Refreshing content counts on Smart&#160;Proxy</h3>
<div class="paragraph _abstract">
<p>If your Smart&#160;Proxies have synchronized content enabled, you can refresh the number of content counts available to the environments associated with the Smart&#160;Proxy.
This displays the content views inside those environments available to the Smart&#160;Proxy.
You can then expand the content view to view the repositories associated with that content view version.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Infrastructure</strong> &gt; <strong>Smart&#160;Proxies</strong>, and select the Smart&#160;Proxy where you want to see the synchronized content.</p>
</li>
<li>
<p>Select the <strong>Overview</strong> tab.</p>
</li>
<li>
<p>Under <strong>Content Sync</strong>, toggle the <strong>Synchronize</strong> button to do an <strong>Optimized Sync</strong> or a <strong>Complete Sync</strong> to synchronize the Smart&#160;Proxy which refreshes the content counts.</p>
</li>
<li>
<p>Select the <strong>Content</strong> tab.</p>
</li>
<li>
<p>Choose an <strong>Environment</strong> to view content views available to those Smart&#160;Proxies by clicking <strong>&gt;</strong>.</p>
</li>
<li>
<p>Expand the content view by clicking <strong>&gt;</strong> to view repositories available to the content view and the specific version for the environment.</p>
</li>
<li>
<p>View the number of content counts under <strong>Packages</strong> specific to yum repositories.</p>
</li>
<li>
<p>View the number of errata, package groups, files, container tags, container manifests, and Ansible collections under <strong>Additional content</strong>.</p>
</li>
<li>
<p>Click the vertical ellipsis in the column to the right next to the environment and click <strong>Refresh counts</strong> to refresh the content counts synchronized on the Smart&#160;Proxy under <strong>Packages</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-selinux-to-permit-content-synchronization-on-custom-ports_content-management"><a class="anchor" href="#configuring-selinux-to-permit-content-synchronization-on-custom-ports_content-management"></a>5.32. Configuring SELinux to permit content synchronization on custom ports</h3>
<div class="paragraph _abstract">
<p>SELinux permits access of Foreman for content synchronization only on specific ports.
By default, connecting to web servers running on the following ports is permitted: 80, 81, 443, 488, 8008, 8009, 8443, and 9000.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On Foreman, to verify the ports that are permitted by SELinux for content synchronization, enter a command as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># semanage port -l | grep ^http_port_t
http_port_t     tcp      80, 81, 443, 488, 8008, 8009, 8443, 9000</pre>
</div>
</div>
</li>
<li>
<p>To configure SELinux to permit a port for content synchronization, for example 10011, enter a command as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># semanage port -a -t http_port_t -p tcp 10011</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="advanced-synchronization-for-repository-recovery"><a class="anchor" href="#advanced-synchronization-for-repository-recovery"></a>5.33. Advanced synchronization for repository recovery</h3>
<div class="paragraph _abstract">
<p>You can use advanced synchronization to recover corrupted repositories on Foreman&#160;server.</p>
</div>
<div class="paragraph">
<p>Advanced synchronization has the following options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Optimized Sync</dt>
<dd>
<p>Synchronizes the repository bypassing packages that have no detected differences from the upstream packages.</p>
</dd>
<dt class="hdlist1">Complete Sync</dt>
<dd>
<p>Synchronizes all packages regardless of detected changes.
Use this option if specific packages could not be downloaded to the local repository even though they exist in the upstream repository.</p>
</dd>
<dt class="hdlist1">Verify Content Checksum</dt>
<dd>
<p>Synchronizes all packages and then verifies the checksum of all packages locally.
If the checksum of an RPM differs from the upstream, it re-downloads the RPM.
This option is relevant only for Yum content.
Use this option if you have one of the following errors:</p>
<div class="ulist">
<ul>
<li>
<p>Specific packages cause a <code>404</code> error while synchronizing with <code>yum</code>.</p>
</li>
<li>
<p><code>Package does not match intended download</code> error, which means that specific packages are corrupted.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="recovering-a-corrupted-repository-by-using-web-ui"><a class="anchor" href="#recovering-a-corrupted-repository-by-using-web-ui"></a>5.33.1. Recovering a corrupted repository by using Foreman web UI</h4>
<div class="paragraph _abstract">
<p>In case of repository corruption, you can recover it by using advanced synchronization.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select the product containing the corrupted repository.</p>
</li>
<li>
<p>Select the name of a repository you want to synchronize.</p>
</li>
<li>
<p>To perform optimized sync or complete sync, select <strong>Advanced Sync</strong> from the <strong>Select Action</strong> menu.</p>
</li>
<li>
<p>Select the required option and click <strong>Sync</strong>.</p>
</li>
<li>
<p>Optional: To verify the checksum, click <strong>Verify Content Checksum</strong> from the <strong>Select Action</strong> menu.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#advanced-synchronization-for-repository-recovery">Advanced synchronization for repository recovery</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="recovering-a-corrupted-repository-by-using-cli"><a class="anchor" href="#recovering-a-corrupted-repository-by-using-cli"></a>5.33.2. Recovering a corrupted repository by using Hammer CLI</h4>
<div class="paragraph _abstract">
<p>In case of repository corruption, you can recover it by using advanced synchronization.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Obtain a list of repository IDs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository list \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Synchronize a corrupted repository using the necessary option:</p>
<div class="ulist">
<ul>
<li>
<p>For the optimized synchronization:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer repository synchronize \
--id <em>My_ID</em></pre>
</div>
</div>
</li>
<li>
<p>For the complete synchronization:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer repository synchronize \
--id <em>My_ID</em> \
--skip-metadata-check true</pre>
</div>
</div>
</li>
<li>
<p>For the validate content synchronization:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer repository synchronize \
--id <em>My_ID</em> \
--validate-contents true</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#advanced-synchronization-for-repository-recovery">Advanced synchronization for repository recovery</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="recovering-corrupted-content-on-a-smart-proxy-server-by-using-web-ui"><a class="anchor" href="#recovering-corrupted-content-on-a-smart-proxy-server-by-using-web-ui"></a>5.34. Recovering corrupted content on a Smart&#160;Proxy&#160;server by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>If hosts can no longer consume content from Smart&#160;Proxy&#160;servers, the content has been corrupted and needs to be repaired.
Depending on the amount of content on your Smart&#160;Proxy&#160;server, this task might take some time.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Infrastructure</strong> &gt; <strong>Smart&#160;Proxies</strong>.</p>
</li>
<li>
<p>Select your Smart&#160;Proxy&#160;server.</p>
</li>
<li>
<p>Recover corrupted content on your Smart&#160;Proxy&#160;server.</p>
<div class="ulist">
<ul>
<li>
<p>To repair content in a lifecycle environment, select the ellipsis next to your lifecycle environment and click <strong>Verify Content Checksum</strong>.</p>
</li>
<li>
<p>To repair content in a content view, select the ellipsis next to your content view and click <strong>Verify Content Checksum</strong>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Monitor</strong> &gt; <strong>Foreman Tasks</strong> &gt; <strong>Tasks</strong>.</p>
</li>
<li>
<p>Search for <code>Verify checksum for content</code>.</p>
</li>
<li>
<p>Verify that the task completed successfully.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="recovering-corrupted-content-on-a-smart-proxy-server-by-using-cli"><a class="anchor" href="#recovering-corrupted-content-on-a-smart-proxy-server-by-using-cli"></a>5.35. Recovering corrupted content on a Smart&#160;Proxy&#160;server by using CLI</h3>
<div class="paragraph _abstract">
<p>If hosts can no longer consume content from Smart&#160;Proxy&#160;servers, the content has been corrupted and needs to be repaired.
Depending on the amount of content on your Smart&#160;Proxy&#160;server, this task might take some time.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Display a list of all Smart&#160;Proxies:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy list</pre>
</div>
</div>
<div class="paragraph">
<p>Note the ID of your Smart&#160;Proxy&#160;server.</p>
</div>
</li>
<li>
<p>Recover corrupted content on your Smart&#160;Proxy&#160;server:</p>
<div class="ulist">
<ul>
<li>
<p>Repair content in a content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content verify-checksum \
--content-view-id <em>My_Content_View_ID</em> \
--id <em>My_Smart_Proxy_Server_ID</em> \
--organization-id <em>My_Organization_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Repair content in a lifecycle environment:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content verify-checksum \
--id <em>My_Smart_Proxy_Server_ID</em> \
--lifecycle-environment-id <em>My_Lifecycle_Environment_ID</em> \
--organization-id <em>My_Organization_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Repair content in a repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content verify-checksum \
--id <em>My_Smart_Proxy_Server_ID</em> \
--organization-id <em>My_Organization_ID</em> \
--repository-id <em>My_Repository_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Repair all content on your Smart&#160;Proxy&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content verify-checksum \
--id <em>My_Smart_Proxy_Server_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Verify that the task completed successfully:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer task list --search "Verify checksum for content"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="republishing-repository-metadata-by-using-web-ui"><a class="anchor" href="#republishing-repository-metadata-by-using-web-ui"></a>5.36. Republishing repository metadata by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can republish repository metadata when a repository distribution does not have the content that should be distributed based on the contents of the repository.</p>
</div>
<div class="paragraph">
<p>Use this procedure with caution.
Foreman community recommends a complete repository sync or publishing a new content view version to repair broken metadata.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select the product that includes the repository for which you want to republish metadata.</p>
</li>
<li>
<p>On the <strong>Repositories</strong> tab, select a repository.</p>
</li>
<li>
<p>To republish metadata for the repository, click <strong>Republish Repository Metadata</strong> from the <strong>Select Action</strong> menu.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This action is not available for repositories that use the <strong>Complete Mirroring</strong> policy because the metadata is copied verbatim from the upstream source of the repository.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="republishing-repository-metadata-by-using-cli"><a class="anchor" href="#republishing-repository-metadata-by-using-cli"></a>5.37. Republishing repository metadata by using CLI</h3>
<div class="paragraph _abstract">
<p>You can republish repository metadata when a repository distribution does not have the content that should be distributed based on the contents of the repository.</p>
</div>
<div class="paragraph">
<p>Use this procedure with caution.
Foreman community recommends a complete repository sync or publishing a new content view version to repair broken metadata.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Ensure that the mirroring policy of your repository is not set to <strong>Complete Mirroring</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository info \
--fields "Name,Mirroring policy" \
--name "<em>My_Repository_Name</em>" \
--organization-id <em>My_Organization_ID</em> \
--product "<em>My_Product_Name</em>"</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Republish metadata for your repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository verify-checksum \
--name "<em>My_Repository_Name</em>" \
--organization-id <em>My_Organization_ID</em> \
--product "<em>My_Product_Name</em>"</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Verify that the task completed successfully:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer task list --search "Metadata generate repository"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="republishing-content-view-metadata-by-using-web-ui"><a class="anchor" href="#republishing-content-view-metadata-by-using-web-ui"></a>5.38. Republishing content view metadata by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>Republish metadata of content view versions if hosts report package checksum mismatches.
You can use Foreman web UI to republish content view metadata.</p>
</div>
<div class="paragraph">
<p>Republishing repository metadata will regenerate metadata for all repositories in the content view version that do not adhere to the <strong>Complete Mirroring</strong> policy.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select a content view.</p>
</li>
<li>
<p>On the <strong>Versions</strong> tab, select a content view version.</p>
</li>
<li>
<p>To republish metadata for the content view version, click <strong>Republish repository metadata</strong> from the vertical ellipsis icon.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="republishing-content-view-metadata-by-using-cli"><a class="anchor" href="#republishing-content-view-metadata-by-using-cli"></a>5.39. Republishing content view metadata by using CLI</h3>
<div class="paragraph _abstract">
<p>Republish metadata of content view versions if hosts report package checksum mismatches.
You can use Hammer CLI to republish metadata of content view versions.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Republish metadata for your content view version:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version verify-checksum --id <em>My_Content_View_Version_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Verify that the task completed successfully:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer task list --search "Verify checksum of repositories in"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adding-an-http-proxy-by-using-web-ui"><a class="anchor" href="#adding-an-http-proxy-by-using-web-ui"></a>5.40. Adding an HTTP proxy by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can add HTTP proxies to Foreman by using the Foreman web UI.
You can then specify which HTTP proxy to use for products, repositories, and supported compute resources.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your HTTP proxy must allow access to the following hosts:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subscription.rhsm.redhat.com</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cdn.redhat.com</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>If Foreman&#160;server uses an HTTP proxy to communicate with <code>subscription.rhsm.redhat.com</code> and <code>cdn.redhat.com</code>, then your HTTP proxy must not perform SSL inspection on these communications.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Infrastructure</strong> &gt; <strong>HTTP Proxies</strong>.</p>
</li>
<li>
<p>Select <strong>New HTTP Proxy</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the HTTP proxy.</p>
</li>
<li>
<p>In the <strong>URL</strong> field, enter the URL for the HTTP proxy, including the port number.</p>
</li>
<li>
<p>If your HTTP proxy requires authentication, enter a <strong>Username</strong> and <strong>Password</strong>.</p>
</li>
<li>
<p>In the <strong>Cacert</strong> field, enter the SSL CA certificate if your HTTP proxy requires authentication.</p>
</li>
<li>
<p>Optional: In the <strong>Test URL</strong> field, enter a URL, then click <strong>Test Connection</strong> to ensure that Foreman&#160;server can connect to the URL through your HTTP proxy.</p>
</li>
<li>
<p>Optional: Select the <strong>Default content HTTP proxy</strong> option to set your HTTP proxy as default to synchronize content.</p>
</li>
<li>
<p>Click the <strong>Locations</strong> tab and add a location.</p>
</li>
<li>
<p>Click the <strong>Organization</strong> tab and add an organization.</p>
</li>
<li>
<p>Click <strong>Submit</strong>.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://access.redhat.com/solutions/65300">How to access Red Hat Subscription Manager (RHSM) through a firewall or proxy</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adding-an-http-proxy-by-using-cli"><a class="anchor" href="#adding-an-http-proxy-by-using-cli"></a>5.41. Adding an HTTP proxy by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can add HTTP proxies to Foreman by using Hammer CLI.
You can then specify which HTTP proxy to use for products, repositories, and supported compute resources.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your HTTP proxy must allow access to the following hosts:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subscription.rhsm.redhat.com</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cdn.redhat.com</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>If Foreman&#160;server uses an HTTP proxy to communicate with <code>subscription.rhsm.redhat.com</code> and <code>cdn.redhat.com</code>, then your HTTP proxy must not perform SSL inspection on these communications.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Add your HTTP proxy to Foreman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer http-proxy create \
--name <em>My_HTTP_Proxy</em> \
--url <em>http-proxy.example.com:8080</em></pre>
</div>
</div>
<div class="paragraph">
<p>Optional: To set the HTTP proxy as default for content synchronization, add the <code>--content-default-http-proxy true</code> option.</p>
</div>
<div class="paragraph">
<p>If your HTTP proxy requires authentication, add the <code>--username <em>My_User_Name</em></code> and <code>--password <em>My_Password</em></code> options.</p>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://access.redhat.com/solutions/65300">How to access Red Hat Subscription Manager (RHSM) through a firewall or proxy</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Changing_the_HTTP_Proxy_Policy_for_a_Product_content-management"><a class="anchor" href="#Changing_the_HTTP_Proxy_Policy_for_a_Product_content-management"></a>5.42. Changing the HTTP proxy policy for a product</h3>
<div class="paragraph _abstract">
<p>For granular control over network traffic, you can set an HTTP proxy policy for each product.
A product&#8217;s HTTP proxy policy applies to all repositories in the product, unless you set a different policy for individual repositories.</p>
</div>
<div class="paragraph">
<p>To set an HTTP proxy policy for individual repositories, see <a href="#changing-the-http-proxy-policy-for-a-repository-by-using-web-ui">Changing the HTTP proxy policy for a repository by using Foreman web UI</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong> and select the products that you want to change.</p>
</li>
<li>
<p>From the <strong>Select Action</strong> list, select <strong>Manage HTTP Proxy</strong>.</p>
</li>
<li>
<p>Select an <strong>HTTP Proxy Policy</strong> from the list:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Global Default</strong>: Use the global default proxy setting.</p>
</li>
<li>
<p><strong>No HTTP Proxy</strong>: Do not use an HTTP proxy, even if a global default proxy is configured.</p>
</li>
<li>
<p><strong>Use specific HTTP Proxy</strong>: Select an <strong>HTTP Proxy</strong> from the list.
You must add HTTP proxies to Foreman before you can select a proxy from this list.
For more information, see <a href="#adding-an-http-proxy-by-using-web-ui">Adding an HTTP proxy by using Foreman web UI</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Update</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-http-proxy-policy-for-a-repository-by-using-web-ui"><a class="anchor" href="#changing-the-http-proxy-policy-for-a-repository-by-using-web-ui"></a>5.43. Changing the HTTP proxy policy for a repository by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can set an HTTP proxy policy to synchronize repositories to Foreman&#160;server.
Use an HTTP proxy for repository synchronization if your network restricts access to the internet.</p>
</div>
<div class="paragraph">
<p>To set the same HTTP proxy policy for all repositories in a product, see <a href="#Changing_the_HTTP_Proxy_Policy_for_a_Product_content-management">Changing the HTTP proxy policy for a product</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong> and click the name of the product that contains the repository.</p>
</li>
<li>
<p>In the <strong>Repositories</strong> tab, click the name of the repository.</p>
</li>
<li>
<p>Locate the <strong>HTTP Proxy</strong> field and click the edit icon.</p>
</li>
<li>
<p>Select an <strong>HTTP Proxy Policy</strong> from the list:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Global Default</strong>: Use the global default HTTP proxy setting.</p>
</li>
<li>
<p><strong>No HTTP Proxy</strong>: Do not use an HTTP proxy, even if a global default HTTP proxy is configured.</p>
</li>
<li>
<p><strong>Use specific HTTP Proxy</strong>: Select an <strong>HTTP Proxy</strong> from the list.
You must add HTTP proxies to Foreman before you can select a proxy from this list.
For more information, see <a href="#adding-an-http-proxy-by-using-web-ui">Adding an HTTP proxy by using Foreman web UI</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-http-proxy-policy-for-a-repository-by-using-cli"><a class="anchor" href="#changing-the-http-proxy-policy-for-a-repository-by-using-cli"></a>5.44. Changing the HTTP proxy policy for a repository by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>You can set an HTTP proxy policy to synchronize repositories to Foreman&#160;server.
Use an HTTP proxy for repository synchronization if your network restricts access to the internet.</p>
</div>
<div class="paragraph">
<p>To set the same HTTP proxy policy for all repositories in a product, see <a href="#Changing_the_HTTP_Proxy_Policy_for_a_Product_content-management">Changing the HTTP proxy policy for a product</a>.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Specify the HTTP proxy policy you want to use:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer repository update \
--http-proxy-policy <em>My_HTTP_Proxy_Policy</em> \
--id <em>My_Repository_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>Specify one of the following options for <code>--http-proxy-policy</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>none</code>: Do not use an HTTP proxy, even if a global default HTTP proxy is configured.</p>
</li>
<li>
<p><code>global_default_http_proxy</code>: Use the global default HTTP proxy setting.</p>
</li>
<li>
<p><code>use_selected_http_proxy</code>: Specify an HTTP proxy using either <code>--http-proxy <em>My_HTTP_Proxy_Name</em></code> or <code>--http-proxy-id <em>My_HTTP_Proxy_ID</em></code>.
To add a new HTTP proxy to Foreman, see <a href="#adding-an-http-proxy-by-using-cli">Adding an HTTP proxy by using Hammer CLI</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-sync-plan-by-using-web-ui"><a class="anchor" href="#creating-a-sync-plan-by-using-web-ui"></a>5.45. Creating a sync plan by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>A sync plan checks and updates the content at a scheduled date and time.
In Foreman, you can create a sync plan and assign products to the plan.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Sync Plans</strong>.</p>
</li>
<li>
<p>Click <strong>New Sync Plan</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the plan.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description of the plan.</p>
</li>
<li>
<p>From the <strong>Interval</strong> list, select the interval at which you want the plan to run.</p>
</li>
<li>
<p>From the <strong>Start Date</strong> and <strong>Start Time</strong> lists, select when to start running the sync plan.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-sync-plan-by-using-cli"><a class="anchor" href="#creating-a-sync-plan-by-using-cli"></a>5.46. Creating a sync plan by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>A sync plan checks and updates the content at a scheduled date and time.
In Foreman, you can create a sync plan and assign products to the plan.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Create a sync plan:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer sync-plan create \
--description "<em>My_Description</em>" \
--enabled true \
--interval daily \
--name "<em>My_Products</em>" \
--organization "<em>My_Organization</em>" \
--sync-date "2023-01-01 01:00:00"</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>View the available sync plans for an organization to verify that the sync plan has been created:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer sync-plan list --organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="assigning-a-sync-plan-to-a-product-by-using-web-ui"><a class="anchor" href="#assigning-a-sync-plan-to-a-product-by-using-web-ui"></a>5.47. Assigning a sync plan to a product by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>A sync plan checks and updates the content at a scheduled date and time.
In Foreman, you can assign a sync plan to products to update content regularly.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select a product.</p>
</li>
<li>
<p>On the <strong>Details</strong> tab, select a <strong>Sync Plan</strong> from the drop down menu.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="assigning-a-sync-plan-to-a-product-by-using-cli"><a class="anchor" href="#assigning-a-sync-plan-to-a-product-by-using-cli"></a>5.48. Assigning a sync plan to a product by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>A sync plan checks and updates the content at a scheduled date and time.
In Foreman, you can assign a sync plan to products to update content regularly.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Assign a sync plan to a product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer product set-sync-plan \
--name "<em>My_Product_Name</em>" \
--organization "<em>My_Organization</em>" \
--sync-plan "<em>My_Sync_Plan_Name</em>"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Assigning_a_Sync_Plan_to_Multiple_Products_content-management"><a class="anchor" href="#Assigning_a_Sync_Plan_to_Multiple_Products_content-management"></a>5.49. Assigning a sync plan to multiple products</h3>
<div class="paragraph _abstract">
<p>Use this procedure to assign a sync plan to the products in an organization that have been synchronized at least once and contain at least one repository.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run the following Bash script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">ORG="<em>My_Organization</em>"
SYNC_PLAN="daily_sync_at_3_a.m"

hammer sync-plan create --name $SYNC_PLAN --interval daily --sync-date "2023-04-5 03:00:00" --enabled true --organization $ORG
for i in $(hammer --no-headers --csv --csv-separator="|" product list --organization $ORG --per-page 999 | grep -vi not_synced | awk -F'|' '$5 != "0" { print $1}')
do
  hammer product set-sync-plan --sync-plan $SYNC_PLAN --organization $ORG --id $i
done</code></pre>
</div>
</div>
</li>
<li>
<p>After executing the script, view the products assigned to the sync plan:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer product list --organization $ORG --sync-plan $SYNC_PLAN</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="best-practices-for-sync-plans_content-management"><a class="anchor" href="#best-practices-for-sync-plans_content-management"></a>5.50. Best practices for sync plans</h3>
<div class="paragraph _abstract">
<p>Foreman community recommends following best practices for sync plans in Foreman.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add sync plans to products and regularly synchronize content to keep the load on Foreman low during synchronization.
Synchronize content rather more often than less often.
For example, setup a sync plan to synchronize content every day rather than only once a month.</p>
</li>
<li>
<p>Automate the creation and update of sync plans by using a Hammer script or an <a href="https://theforeman.github.io/foreman-ansible-modules/develop/index.html">Ansible Playbook</a>.</p>
</li>
<li>
<p>Distribute synchronization tasks over several hours to reduce the task load by creating multiple sync plans with the <strong>Custom Cron</strong> tool.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 18. Cron expression examples</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Cron expression</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0 22 * * 1-5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">every day at 22:00 from Monday to Friday</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>30 3 * * 6,0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">at 03:30 every Saturday and Sunday</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>30 2 8-14 * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">at 02:30 every day between the 8th and the 14th days of the month</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Limiting_Synchronization_Concurrency_content-management"><a class="anchor" href="#Limiting_Synchronization_Concurrency_content-management"></a>5.51. Limiting synchronization concurrency</h3>
<div class="paragraph _abstract">
<p>By default, each Repository Synchronization job can fetch up to ten files at a time.
This can be adjusted on a per repository basis.</p>
</div>
<div class="paragraph">
<p>Increasing the limit may improve performance, but can cause the upstream server to be overloaded or start rejecting requests.
If you are seeing Repository syncs fail due to the upstream servers rejecting requests, you may want to try lowering the limit.</p>
</div>
<div class="listingblock">
<div class="title">Procedure</div>
<div class="content">
<pre class="nowrap">$ hammer repository update \
--download-concurrency 5 \
--id <em>Repository_ID</em> \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="importing-a-custom-gpg-key-by-using-web-ui"><a class="anchor" href="#importing-a-custom-gpg-key-by-using-web-ui"></a>5.52. Importing a GPG key by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>When hosts consume signed content, ensure that the hosts are configured to validate the installation of packages with the appropriate GPG Key.
This helps to ensure that only packages from authorized sources can be installed.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Ensure that you have a copy of the GPG key used to sign the RPM content that you want to use and manage in Foreman.
Most RPM distribution vendors provide their GPG Key on their website.</p>
<div class="paragraph">
<p>You can also extract this manually from an RPM:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download a copy of the version specific repository package to your local machine:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ wget <em>http://www.example.com/9.5/example-9.5-2.noarch.rpm</em></pre>
</div>
</div>
</li>
<li>
<p>Extract the RPM file without installing it:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ rpm2cpio <em>example-9.5-2.noarch.rpm</em> | cpio -idmv</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The GPG key is located relative to the extraction at <code>etc/pki/rpm-gpg/RPM-GPG-KEY-<em>EXAMPLE-95</em></code>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Content Credentials</strong>.</p>
</li>
<li>
<p>Click <strong>Create Content Credential</strong>.</p>
</li>
<li>
<p>Enter the name of your repository and select <strong>GPG Key</strong> from the <strong>Type</strong> list.</p>
</li>
<li>
<p>Either paste the GPG key into the <strong>Content Credential Contents</strong> field, or click <strong>Browse</strong> and select the GPG key file that you want to import.</p>
<div class="paragraph">
<p>If your repository contains content signed by multiple GPG keys, you must enter all required GPG keys in the <strong>Content Credential Contents</strong> field with new lines between each key, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-----BEGIN PGP PUBLIC KEY BLOCK-----

mQINBFy/HE4BEADttv2TCPzVrre+aJ9f5QsR6oWZMm7N5Lwxjm5x5zA9BLiPPGFN
4aTUR/g+K1S0aqCU+ZS3Rnxb+6fnBxD+COH9kMqXHi3M5UNzbp5WhCdUpISXjjpU
XIFFWBPuBfyr/FKRknFH15P+9kLZLxCpVZZLsweLWCuw+JKCMmnA
=F6VG
-----END PGP PUBLIC KEY BLOCK-----

-----BEGIN PGP PUBLIC KEY BLOCK-----

mQINBFw467UBEACmREzDeK/kuScCmfJfHJa0Wgh/2fbJLLt3KSvsgDhORIptf+PP
OTFDlKuLkJx99ZYG5xMnBG47C7ByoMec1j94YeXczuBbynOyyPlvduma/zf8oB9e
Wl5GnzcLGAnUSRamfqGUWcyMMinHHIKIc1X1P4I=
=WPpI
-----END PGP PUBLIC KEY BLOCK-----</pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="importing-a-custom-gpg-key-by-using-cli"><a class="anchor" href="#importing-a-custom-gpg-key-by-using-cli"></a>5.53. Importing a GPG key by using Hammer CLI</h3>
<div class="paragraph _abstract">
<p>When hosts consume signed content, ensure that the hosts are configured to validate the installation of packages with the appropriate GPG Key.
This helps to ensure that only packages from authorized sources can be installed.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Ensure that you have a copy of the GPG key used to sign the RPM content that you want to use and manage in Foreman.
Most RPM distribution vendors provide their GPG Key on their website.</p>
<div class="paragraph">
<p>You can also extract this manually from an RPM:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download a copy of the version specific repository package to your local machine:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ wget <em>http://www.example.com/9.5/example-9.5-2.noarch.rpm</em></pre>
</div>
</div>
</li>
<li>
<p>Extract the RPM file without installing it:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ rpm2cpio <em>example-9.5-2.noarch.rpm</em> | cpio -idmv</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The GPG key is located relative to the extraction at <code>etc/pki/rpm-gpg/RPM-GPG-KEY-<em>EXAMPLE-95</em></code>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Copy the GPG key to your Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ scp ~/etc/pki/rpm-gpg/RPM-GPG-KEY-<em>EXAMPLE-95</em> root@foreman.example.com:~/.</pre>
</div>
</div>
</li>
<li>
<p>Upload the GPG key to Foreman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-credentials create \
--content-type gpg_key \
--name "<em>My_GPG_Key</em>" \
--organization "<em>My_Organization</em>" \
--path ~/RPM-GPG-KEY-<em>EXAMPLE-95</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Restricting_a_Repository_to_a_Specific_operating_system_Version_or_Architecture_in_Project_content-management"><a class="anchor" href="#Restricting_a_Repository_to_a_Specific_operating_system_Version_or_Architecture_in_Project_content-management"></a>5.54. Restricting a repository to a specific operating system or architecture in Foreman</h3>
<div class="paragraph _abstract">
<p>You can configure Foreman to make a repository available only on hosts with a specific operating system version or architecture.
For example, you can restrict a repository only to Enterprise Linux&#160;9 hosts.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Click the product that contains the repository sets you want to restrict.</p>
</li>
<li>
<p>In the <strong>Repositories</strong> tab, click the repository you want to restrict.</p>
</li>
<li>
<p>In the <strong>Publishing Settings</strong> section, set the following options:</p>
<div class="ulist">
<ul>
<li>
<p>Set <strong>Restrict to OS version</strong> to restrict the operating system version.</p>
</li>
<li>
<p>Set <strong>Restrict to architecture</strong> to restrict the architecture.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="content-access-control-for-hosts"><a class="anchor" href="#content-access-control-for-hosts"></a>6. Content access control for Foreman hosts</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Foreman provides a robust set of strategies for controlling what content is accessible to your hosts.
You can restrict content access by using core mechanisms, such as content views, lifecycle environments, and content overrides.
You can use activation keys to apply these content access controls during host registration.</p>
</div>
<div class="sect2">
<h3 id="content-access-strategies"><a class="anchor" href="#content-access-strategies"></a>6.1. Content access strategies</h3>
<div class="paragraph _abstract">
<p>To give hosts access to a specific subset of the content managed by Foreman, you can use the following strategies.</p>
</div>
<div class="paragraph">
<p>Foreman community recommends considering implementing the strategies in the order as listed here:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Content views and lifecycle environments</dt>
<dd>
<p>Use content views and lifecycle environments, incorporating content view filters as needed.</p>
<div class="paragraph">
<p>For more information about content views, see <a href="#Managing_Content_Views_content-management">Managing content views</a>.</p>
</div>
<div class="paragraph">
<p>For more information about lifecycle environments, see <a href="#Managing_Application_Lifecycles_content-management">Managing application lifecycles</a>.</p>
</div>
</dd>
<dt class="hdlist1">Content overrides</dt>
<dd>
<p>By default, content hosted by Foreman can be either enabled or disabled.
In custom products, repositories are always disabled by default, while Red&#160;Hat products can be either enabled or disabled by default depending on the specific repository.
Enabling a repository gives the host access to the repository packages or other content, allowing hosts to download and install the available content.</p>
<div class="paragraph">
<p>If a repository is disabled, the host is not able to access the repository content.
A content override provides you with the option to override the default enablement value of either <strong>Enabled</strong> or <strong>Disabled</strong> for any repository.
You can add content overrides to hosts or activation keys.</p>
</div>
<div class="paragraph">
<p>For more information about adding content overrides to hosts, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#Enabling_and_Disabling_Repositories_on_Hosts_managing-hosts">Enabling and Disabling Repositories on Hosts</a> in <em>Managing hosts</em>.</p>
</div>
<div class="paragraph">
<p>For more information about adding content overrides to activation keys, see <a href="#enabling-and-disabling-repositories-on-activation-key_content-management">Enabling and disabling repositories on activation key</a>.</p>
</div>
</dd>
<dt class="hdlist1">Content view environments</dt>
<dd>
<p>Assign hosts to multiple content view environments to provide access to content from more than one content view.
For more information about multiple content view environments, see <a href="#managing-content-view-environments">Managing content view environments</a>.</p>
</dd>
<dt class="hdlist1">Composite content views</dt>
<dd>
<p>You can use composite content views to combine and give hosts access to the content from multiple content views.
For more information about composite content views, see <a href="#Creating_a_Composite_Content_View_content-management">Creating a composite content view</a>.</p>
</dd>
<dt class="hdlist1">Architecture and operating system version restrictions</dt>
<dd>
<p>In custom products, you can set restrictions on the architecture and operating system versions for <code>yum</code> repositories on which the product will be available.
For example, if you restrict a custom repository to <strong>Enterprise Linux 9</strong>, it is only available on hosts running Enterprise Linux 9.
Architecture and operating system version restrictions hold the highest priority among all other strategies.
They cannot be overridden or invalidated by content overrides, changes to content views, or changes to lifecycle environments.
For this reason, Foreman community recommends considering the other strategies mentioned before that use architecture or operating system version restrictions.
Red&#160;Hat repositories set architecture and operating system version restrictions automatically.</p>
</dd>
<dt class="hdlist1">Release version</dt>
<dd>
<p>Certain Red&#160;Hat repositories, such as the Red&#160;Hat Enterprise Linux dot release repositories, include a <strong>Release version</strong> in their repository metadata.
The release version is then compared with the release version specified in the <strong>System purpose</strong> properties of the host.
Access to content may be limited or restricted based on this comparison.
For more information about setting system purpose attributes, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#editing-the-system-purpose-of-a-host-by-using-web-ui">Editing the system purpose of a host</a> in <em>Managing hosts</em>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="conditions-for-content-availability"><a class="anchor" href="#conditions-for-content-availability"></a>6.2. Conditions for content availability</h3>
<div class="paragraph _abstract">
<p>A host can access a package or repository only when all of the following conditions are true.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The repository is included in the content view environments of the host.</p>
</li>
<li>
<p>The content view of the host has been published after the repository was added to it.</p>
</li>
<li>
<p>The repository has not been filtered out by a content view filter.</p>
</li>
<li>
<p>The repository is enabled by default or overridden to <strong>Enabled</strong> by using a content override.</p>
</li>
<li>
<p>The repository has no architecture or operating system version restrictions or it has architecture or operating system version restrictions that match the host.</p>
</li>
<li>
<p>For certain Red&#160;Hat repositories either no release version is set or the release version matches that of the host.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="activation-keys-and-content-access"><a class="anchor" href="#activation-keys-and-content-access"></a>6.3. Activation keys and content access</h3>
<div class="paragraph _abstract">
<p>Activation keys simplify the workflow for some of the content access strategies.</p>
</div>
<div class="paragraph">
<p>You can use activation keys to perform the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Assign hosts to content view environments.</p>
</li>
<li>
<p>Add content overrides to hosts.</p>
</li>
<li>
<p>Set system purpose attributes on hosts, including a release version.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Activation keys only affect hosts during registration.
If a host is already registered, you can change the content access individually for each host or through content host bulk actions.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#Managing_Activation_Keys_content-management">Managing activation keys</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_Application_Lifecycles_content-management"><a class="anchor" href="#Managing_Application_Lifecycles_content-management"></a>7. Managing application lifecycles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter outlines the application lifecycle in Foreman and how to create and remove application lifecycles for Foreman and Smart&#160;Proxy.</p>
</div>
<div class="sect2">
<h3 id="introduction_to_application_lifecycle_content-management"><a class="anchor" href="#introduction_to_application_lifecycle_content-management"></a>7.1. Introduction to application lifecycle</h3>
<div class="paragraph">
<p>The <em>application lifecycle</em> is a concept central to Foreman&#8217;s content management functions.
The application lifecycle defines how a particular system and its software look at a particular stage.
For example, an application lifecycle might be simple; you might only have a development stage and production stage.
In this case the application lifecycle might look like this:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Development</p>
</li>
<li>
<p>Production</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However, a more complex application lifecycle might have further stages, such as a phase for testing or a beta release.
This adds extra stages to the application lifecycle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Development</p>
</li>
<li>
<p>Testing</p>
</li>
<li>
<p>Beta Release</p>
</li>
<li>
<p>Production</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Foreman provides methods to customize each application lifecycle stage so that it suits your specifications.</p>
</div>
<div class="paragraph">
<p>Each stage in the application lifecycle is called an <em>environment</em> in Foreman.
Each environment uses a specific collection of content.
Foreman defines these content collections as a content view.
Each content view acts as a filter where you can define what repositories, and packages to include in a particular environment.
This provides a method for you to define specific sets of content to designate to each environment.</p>
</div>
<div class="paragraph">
<p>For example, an email server might only require a simple application lifecycle where you have a production-level server for real-world use and a test server for trying out the latest mail server packages.
When the test server passes the initial phase, you can set the production-level server to use the new packages.</p>
</div>
<div class="paragraph">
<p>Another example is a development lifecycle for a software product.
To develop a new piece of software in a development environment, test it in a quality assurance environment, pre-release as a beta, then release the software as a production-level application.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/common/application-lifecycle.png" alt="Foreman application lifecycle">
</div>
<div class="title">Figure 1. Foreman application lifecycle</div>
</div>
</div>
<div class="sect2">
<h3 id="Content_Promotion_across_the_Application_Lifecycle_content-management"><a class="anchor" href="#Content_Promotion_across_the_Application_Lifecycle_content-management"></a>7.2. Content promotion across the application lifecycle</h3>
<div class="paragraph">
<p>In the application lifecycle chain, when content moves from one environment to the next, this is called <em>promotion</em>.</p>
</div>
<div class="paragraph">
<div class="title">Example: Content promotion across Foreman lifecycle environments</div>
<p>Each environment contains a set of systems registered to Foreman.
These systems only have access to repositories relevant to their environment.
When you promote packages from one environment to the next, the target environment&#8217;s repositories receive new package versions.
As a result, each system in the target environment can update to the new package versions.</p>
</div>
<div class="paragraph">
<p>This example uses a <code>.rpm</code> package, but you can promote any type of content across the application lifecycle.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Development</th>
<th class="tableblock halign-left valign-top">Testing</th>
<th class="tableblock halign-left valign-top">Production</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-1.1-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-1.0-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-1.0-0.noarch.rpm</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>After completing development on the patch, you promote the package to the Testing environment so the Quality Engineering team can review the patch.
The application lifecycle then contains the following package versions in each environment:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Development</th>
<th class="tableblock halign-left valign-top">Testing</th>
<th class="tableblock halign-left valign-top">Production</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-1.1-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>example_software</em>-1.1-0.noarch.rpm</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-1.0-0.noarch.rpm</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While the Quality Engineering team reviews the patch, the Development team starts work on <em>example_software</em> 2.0.
This results in the following application lifecycle:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Development</th>
<th class="tableblock halign-left valign-top">Testing</th>
<th class="tableblock halign-left valign-top">Production</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>example_software</em>-2.0-0.noarch.rpm</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-1.1-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-1.0-0.noarch.rpm</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The Quality Engineering team completes their review of the patch.
Now <em>example_software</em> 1.1 is ready to release.
You promote 1.1 to the <em>Production</em> environment:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Development</th>
<th class="tableblock halign-left valign-top">Testing</th>
<th class="tableblock halign-left valign-top">Production</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-2.0-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-1.1-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>example_software</em>-1.1-0.noarch.rpm</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The Development team completes their work on <em>example_software</em> 2.0 and promotes it to the Testing environment:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Development</th>
<th class="tableblock halign-left valign-top">Testing</th>
<th class="tableblock halign-left valign-top">Production</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-2.0-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>example_software</em>-2.0-0.noarch.rpm</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-1.1-0.noarch.rpm</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Finally, the Quality Engineering team reviews the package.
After a successful review, promote the package to the <em>Production</em> environment:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Development</th>
<th class="tableblock halign-left valign-top">Testing</th>
<th class="tableblock halign-left valign-top">Production</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-2.0-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em>-2.0-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>example_software</em>-2.0-0.noarch.rpm</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For more information, see <a href="#Promoting_a_Content_View_content-management">Promoting a content view</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="best-practices-for-lifecycle-environments_content-management"><a class="anchor" href="#best-practices-for-lifecycle-environments_content-management"></a>7.3. Best practices for lifecycle environments</h3>
<div class="ulist">
<ul>
<li>
<p>Use multiple lifecycle environment paths to implement multiple sequential stages of content consumption.
Each stage contains a defined set of content, for example in the <em>Production</em> lifecycle environment.</p>
</li>
<li>
<p>Automate the creation of lifecycle environments by using a Hammer script or an <a href="https://theforeman.github.io/foreman-ansible-modules/develop/index.html">Ansible Playbook</a>.</p>
</li>
<li>
<p>Default use case: Fixed stages in each lifecycle environment paths, for example <em>Development</em>, <em>Test</em>, and <em>Production</em>.</p>
<div class="ulist">
<ul>
<li>
<p>Promote content views to lifecycle environments, for example, from <em>Test</em> to <em>Production</em>.
All content hosts consuming this content view or composite content view are able to install packages from the <em>Production</em> lifecycle environment.
Note that these packages are not installed or updated automatically.</p>
</li>
<li>
<p>If you encounter errors during patching content hosts, attach the host to a previous version of the content view.
This only affects the availability of packages but does not downgrade installed packages.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative use case: Using stages in lifecycle environments for fixed content, for example, quarterly updates, and only publishing new minor versions with incremental updates from errata.</p>
<div class="ulist">
<ul>
<li>
<p>When patching content hosts, change the lifecycle environment from <code>2023-Q4</code> to <code>2024-Q1</code> using the Foreman web UI, Foreman API, Hammer CLI, or an activation key.</p>
</li>
<li>
<p>Advantage: You can directly see which software packages a hosts receives by looking at its lifecycle environment.</p>
</li>
<li>
<p>Disadvantage: Promoting content is less dynamic without clearly defined stages such as <em>Development</em>, <em>Test</em>, and <em>Production</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Use multiple lifecycle environment paths to define multiple stages for different environments, for example to decouple web server and database hosts.</p>
</li>
<li>
<p>Smart&#160;Proxy&#160;servers use lifecycle environments to synchronize content.
They synchronize content more efficiently if you split content into multiple lifecycle environment paths.
If a specific Smart&#160;Proxy&#160;server only serves content for one operating system in a single lifecycle environment path, it only synchronizes required content.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Creating_a_Lifecycle_Environment_Path_content-management"><a class="anchor" href="#Creating_a_Lifecycle_Environment_Path_content-management"></a>7.4. Creating a lifecycle environment path</h3>
<div class="paragraph">
<p>To create an application lifecycle for developing and releasing software, use the <em>Library</em> environment as the initial environment to create environment paths.
Then optionally add additional environments to the environment paths.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Lifecycle Environments</strong>.</p>
</li>
<li>
<p>Click <strong>New Environment Path</strong> to start a new application lifecycle.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for your environment.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, enter a description for your environment.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>Optional: To add an environment to the environment path, click <strong>Add New Environment</strong>, complete the <strong>Name</strong> and <strong>Description</strong> fields, and select the prior environment from the <strong>Prior Environment</strong> list.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Create a lifecycle environment path by tying your first environment to Library:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer lifecycle-environment create \
--name "<em>My First Lifecycle Environment</em>" \
--description "<em>Environment Path Description</em>" \
--prior "Library" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Optional: Add another environment to the environment path by tying it to the prior environment:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer lifecycle-environment create \
--name "<em>My Second Lifecycle Environment</em>" \
--description "<em>Environment Description</em>" \
--prior "<em>My First Lifecycle Environment</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>View the chain of the lifecycle environment path:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer lifecycle-environment paths --organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Adding_Lifecycle_Environments_content-management"><a class="anchor" href="#Adding_Lifecycle_Environments_content-management"></a>7.5. Adding lifecycle environments to Smart&#160;Proxy&#160;servers</h3>
<div class="paragraph">
<p>If your Smart&#160;Proxy&#160;server has the content functionality enabled, you must add an environment so that Smart&#160;Proxy can synchronize content from Foreman&#160;server and provide content to host systems.</p>
</div>
<div class="paragraph">
<p>Do not assign the <em>Library</em> lifecycle environment to your Smart&#160;Proxy&#160;server because it triggers an automated Smart&#160;Proxy sync every time the CDN updates a repository.
This might consume multiple system resources on Smart&#160;Proxies, network bandwidth between Foreman and Smart&#160;Proxies, and available disk space on Smart&#160;Proxies.</p>
</div>
<div class="paragraph">
<p>You can use Hammer CLI on Foreman&#160;server or the Foreman web UI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Infrastructure</strong> &gt; <strong>Smart&#160;Proxies</strong>, and select the Smart&#160;Proxy that you want to add a lifecycle to.</p>
</li>
<li>
<p>Click <strong>Edit</strong> and click the <strong>Lifecycle Environments</strong> tab.</p>
</li>
<li>
<p>From the left menu, select the lifecycle environments that you want to add to Smart&#160;Proxy and click <strong>Submit</strong>.</p>
</li>
<li>
<p>To synchronize the content on the Smart&#160;Proxy, click the <strong>Overview</strong> tab and click <strong>Synchronize</strong>.</p>
</li>
<li>
<p>Select either <strong>Optimized Sync</strong> or <strong>Complete Sync</strong>.</p>
<div class="paragraph">
<p>For definitions of each synchronization type, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#advanced-synchronization-for-repository-recovery">Advanced synchronization for repository recovery</a>.</p>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>To display a list of all Smart&#160;Proxy&#160;servers, on Foreman&#160;server, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy list</pre>
</div>
</div>
<div class="paragraph">
<p>Note the Smart&#160;Proxy ID of the Smart&#160;Proxy to which you want to add a lifecycle.</p>
</div>
</li>
<li>
<p>Using the ID, verify the details of your Smart&#160;Proxy:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy info \
--id <em>My_Smart_Proxy_ID</em></pre>
</div>
</div>
</li>
<li>
<p>To view the lifecycle environments available for your Smart&#160;Proxy&#160;server, enter the following command and note the ID and the organization name:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content available-lifecycle-environments \
--id <em>My_Smart_Proxy_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Add the lifecycle environment to your Smart&#160;Proxy&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content add-lifecycle-environment \
--id <em>My_Smart_Proxy_ID</em> \
--lifecycle-environment-id <em>My_Lifecycle_Environment_ID</em> \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>Repeat for each lifecycle environment you want to add to Smart&#160;Proxy&#160;server.</p>
</div>
</li>
<li>
<p>Synchronize the content from Foreman to Smart&#160;Proxy.</p>
<div class="ulist">
<ul>
<li>
<p>To synchronize all content from your Foreman&#160;server environment to Smart&#160;Proxy&#160;server, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content synchronize \
--id <em>My_Smart_Proxy_ID</em></pre>
</div>
</div>
</li>
<li>
<p>To synchronize a specific lifecycle environment from your Foreman&#160;server to Smart&#160;Proxy&#160;server, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content synchronize \
--id <em>My_Smart_Proxy_ID</em> \
--lifecycle-environment-id <em>My_Lifecycle_Environment_ID</em></pre>
</div>
</div>
</li>
<li>
<p>To synchronize all content from your Foreman&#160;server to your Smart&#160;Proxy&#160;server without checking metadata:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content synchronize \
--id <em>My_Smart_Proxy_ID</em> \
--skip-metadata-check true</pre>
</div>
</div>
<div class="paragraph">
<p>This equals selecting <strong>Complete Sync</strong> in the Foreman web UI.</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Removing_Lifecycle_Environments_from_Server_content-management"><a class="anchor" href="#Removing_Lifecycle_Environments_from_Server_content-management"></a>7.6. Removing lifecycle environments from Foreman&#160;server</h3>
<div class="paragraph">
<p>Use this procedure to remove a lifecycle environment.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle Environments</strong>.</p>
</li>
<li>
<p>Click the name of the lifecycle environment that you want to remove, and then click <strong>Remove Environment</strong>.</p>
</li>
<li>
<p>Click <strong>Remove</strong> to remove the environment.</p>
</li>
</ol>
</div>
<div id="cli-Removing_Lifecycle_Environments_from_Server_content-management" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>List the lifecycle environments for your organization and note the name of the lifecycle environment you want to remove:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer lifecycle-environment list \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Use the <code>hammer lifecycle-environment delete</code> command to remove an environment:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer lifecycle-environment delete \
--name "<em>My_Environment</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Removing_Lifecycle_Environments_from_Smart_Proxy_content-management"><a class="anchor" href="#Removing_Lifecycle_Environments_from_Smart_Proxy_content-management"></a>7.7. Removing lifecycle environments from Smart&#160;Proxy&#160;server</h3>
<div class="paragraph">
<p>When lifecycle environments are no longer relevant to the host system or environments are added incorrectly to Smart&#160;Proxy&#160;server, you can remove the lifecycle environments from Smart&#160;Proxy&#160;server.</p>
</div>
<div class="paragraph">
<p>You can use both the Foreman web UI and the Hammer CLI to remove lifecycle environments from Smart&#160;Proxy.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Infrastructure</strong> &gt; <strong>Smart&#160;Proxies</strong>, and select the Smart&#160;Proxy that you want to remove a lifecycle from.</p>
</li>
<li>
<p>Click <strong>Edit</strong> and click the <strong>Lifecycle Environments</strong> tab.</p>
</li>
<li>
<p>From the right menu, select the lifecycle environments that you want to remove from Smart&#160;Proxy, and then click <strong>Submit</strong>.</p>
</li>
<li>
<p>To synchronize Smart&#160;Proxy&#8217;s content, click the <strong>Overview</strong> tab, and then click <strong>Synchronize</strong>.</p>
</li>
<li>
<p>Select either <strong>Optimized Sync</strong> or <strong>Complete Sync</strong>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Get a list of Smart&#160;Proxies:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># hammer proxy list</pre>
</div>
</div>
<div class="paragraph">
<p>Note down the ID of your Smart&#160;Proxy&#160;server.</p>
</div>
</li>
<li>
<p>Optional: Verify the details of your Smart&#160;Proxy&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># hammer proxy info \
--id <em>My_Smart_Proxy_Server_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Optional: Verify the list of lifecycle environments currently attached to Smart&#160;Proxy&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># hammer proxy content lifecycle-environments \
--id <em>My_Smart_Proxy_Server_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>Note down the Environment ID.</p>
</div>
</li>
<li>
<p>Remove the lifecycle environment from Smart&#160;Proxy&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># hammer proxy content remove-lifecycle-environment \
--id <em>My_Smart_Proxy_Server_ID</em> \
--lifecycle-environment-id <em>My_Lifecycle_Environment_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>Repeat this step for every lifecycle environment that you want to remove from Smart&#160;Proxy&#160;server.</p>
</div>
</li>
<li>
<p>Synchronize the content from Foreman&#160;server to Smart&#160;Proxy&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># hammer proxy content synchronize \
--id <em>My_Smart_Proxy_Server_ID</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_Content_Views_content-management"><a class="anchor" href="#Managing_Content_Views_content-management"></a>8. Managing content views</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Foreman uses content views to allow your hosts access to a deliberately curated subset of content.
To do this, you must define which repositories to use and then apply certain filters to the content.</p>
</div>
<div class="paragraph">
<p>The general workflow for creating content views for filtering and creating snapshots is as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a content view.</p>
</li>
<li>
<p>Add one or more repositories that you want to the content view.</p>
</li>
<li>
<p>Optional: Create one or more filters to refine the content of the content view.
For more information, see <a href="#Content_Filter_Examples_content-management">Content filter examples</a>.</p>
</li>
<li>
<p>Optional: Resolve any package dependencies for a content view.
For more information, see <a href="#Resolving_Package_Dependencies_content-management">Resolving package dependencies</a>.</p>
</li>
<li>
<p>Publish the content view.</p>
</li>
<li>
<p>Optional: Promote the content view to another environment.
For more information, see <a href="#Promoting_a_Content_View_content-management">Promoting a content view</a>.</p>
</li>
<li>
<p>Attach the content host to the content view.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If a repository is not associated with the content view, the file <code>/etc/yum.repos.d/redhat.repo</code> remains empty and systems registered to it cannot receive updates.
If a repository is not associated with the content view, the file <code>/etc/apt/sources.list.d/rhsm.sources</code> remains empty and systems registered to it cannot receive updates.</p>
</div>
<div class="paragraph">
<p>Hosts can only be associated with a single content view.
To associate a host with multiple content views, create a composite content view.
For more information, see <a href="#Creating_a_Composite_Content_View_content-management">Creating a composite content view</a>.</p>
</div>
<div class="sect2">
<h3 id="Content-Views-in-Foreman_content-management"><a class="anchor" href="#Content-Views-in-Foreman_content-management"></a>8.1. Content views in Foreman</h3>
<div class="paragraph">
<p>A content view is a deliberately curated subset of content that your hosts can access.
By creating a content view, you can define the software versions used by a particular environment or Smart&#160;Proxy&#160;server.</p>
</div>
<div class="paragraph">
<p>Each content view creates a set of repositories across each environment.
Your Foreman&#160;server stores and manages these repositories.
For example, you can create content views in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A content view with older package versions for a production environment and another content view with newer package versions for a <em>Development</em> environment.</p>
</li>
<li>
<p>A content view with a package repository required by an operating system and another content view with a package repository required by an application.</p>
</li>
<li>
<p>A composite content view for a modular approach to managing content views.
For example, you can use one content view for content for managing an operating system and another content view for content for managing an application.
By creating a composite content view that combines both content views, you create a new repository that merges the repositories from each of the content views.
However, the repositories for the content views still exist and you can keep managing them separately as well.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Default Organization View</div>
<p>A <em>Default Organization View</em> is an application-controlled content view for all content that is synchronized to Foreman.
You can register a host to the <em>Library</em> environment on Foreman to consume the <em>Default Organization View</em> without configuring content views and lifecycle environments.</p>
</div>
<div class="paragraph">
<p>You can access unprotected repositories in the <em>Default Organization View</em> content view.
The URL consists of your Smart&#160;Proxy FQDN, <code>/pulp/content/</code>, your organization label, <code>/Library/custom/</code>, your product label, <code>/</code>, your repository label, and a trailing <code>/</code>, for example, <code>https://foreman.example.com/pulp/content/Example/Library/custom/AlmaLinux_9/BaseOS/</code>.
For more information, see
<a href="#adding-deb-repositories-by-using-web-ui">Adding Deb repositories by using Foreman web UI</a> or <a href="#adding-custom-rpm-repositories-by-using-web-ui">Adding RPM repositories by using Foreman web UI</a>.</p>
</div>
<div class="paragraph">
<div class="title">Promoting a content view across environments</div>
<p>When you promote a content view from one environment to the next environment in the application lifecycle, Foreman updates the repository and publishes the packages.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Promoting a package from <em>Development</em> to <em>Testing</em></div>
<div class="content">
<div class="paragraph">
<p>The repositories for <em>Testing</em> and <em>Production</em> contain the <code><em>my-software</em>-1.0-0.noarch.rpm</code> package:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Development</th>
<th class="tableblock halign-left valign-top">Testing</th>
<th class="tableblock halign-left valign-top">Production</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the content view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of the content view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>my-software</em>-1.1-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>my-software</em>-1.0-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>my-software</em>-1.0-0.noarch.rpm</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you promote Version 2 of the content view from <em>Development</em> to <em>Testing</em>, the repository for <em>Testing</em> updates to contain the <code><em>my-software</em>-1.1-0.noarch.rpm</code> package:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Development</th>
<th class="tableblock halign-left valign-top">Testing</th>
<th class="tableblock halign-left valign-top">Production</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the content view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Version 2</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of the content view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>my-software</em>-1.1-0.noarch.rpm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>my-software</em>-1.1-0.noarch.rpm</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>my-software</em>-1.0-0.noarch.rpm</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This ensures hosts are designated to a specific environment but receive updates when that environment uses a new version of the content view.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>With <code>Distribute archived content view versions</code> enabled, you can access unprotected repositories in published content view versions.
The URL consists of your Smart&#160;Proxy FQDN, <code>/pulp/content/</code>, your organization label, <code>/content_views/</code>, your content view, your content view version, <code>/custom/</code>, your product label, <code>/</code>, your repository label, and a trailing <code>/</code>, for example, <code>https://foreman.example.com/pulp/content/Example/content_views/AlmaLinux_9/2.1/custom/AlmaLinux_9/BaseOS/</code>.</p>
</div>
<div class="paragraph">
<p>If you want to access the latest published content view, the URL consists of your Smart&#160;Proxy FQDN, <code>/pulp/content/</code>, your organization label, your lifecycle, your content view, <code>/custom/</code>, your product label, <code>/</code>, your repository label, and a trailing <code>/</code>, for example, <code>https://foreman.example.com/pulp/content/Example/Production/AlmaLinux_9/custom/AlmaLinux_9/AlmaLinux_9/</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="best-practices-for-content-views_content-management"><a class="anchor" href="#best-practices-for-content-views_content-management"></a>8.2. Best practices for content views</h3>
<div class="ulist">
<ul>
<li>
<p>Content views that bundle content, such as Enterprise Linux and additional software like <code>Apache-2.4</code> or <code>PostgreSQL-16.2</code>, are easier to maintain.
Content views that are too small require more maintenance.</p>
</li>
<li>
<p>If you require daily updated content, use the content view <code>Default Organization View</code>, which contains the latest synchronized content from all repositories and is available in the Library lifecycle environment.</p>
</li>
<li>
<p>If you require daily updated content for hosts registered to a specific Smart&#160;Proxy&#160;server, use rolling content views and assign them to a lifecycle environment other than <strong>Library</strong>.</p>
</li>
<li>
<p>To give hosts access to content from multiple content views, such as when you update one content view weekly and another monthly, you have two options:</p>
<div class="ulist">
<ul>
<li>
<p>Assign multiple content view environments to hosts.
For more information, see <a href="#assigning-content-view-environments-to-hosts">Assigning content view environments to hosts</a>.</p>
</li>
<li>
<p>Assign composite content views to hosts.
For more information, see <a href="#comparison-of-content-view-environments-and-composite-content-views">Comparison of content view environments and composite content views</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If you use composite content views, first publish the content views and then publish the composite content views.
The more content views you bundle into composite content views, the more effort is needed to change or update content.</p>
</li>
<li>
<p>Setting a lifecycle environment for content views is unnecessary if they are solely bundled to a composite content view.</p>
</li>
<li>
<p>Automate creating and publishing composite content views and lifecycle environments by using a Hammer script or an <a href="https://theforeman.github.io/foreman-ansible-modules/develop/index.html">Ansible Playbook</a>.
Use cron jobs, systemd timers, or recurring logics for more visibility.</p>
</li>
<li>
<p>Add the changes and date to the description of each published content view or composite content view version.
The most recent activity, such as moving content to a new lifecycle environment, is displayed by date in the Foreman web UI, regardless of the latest changes to the content itself.</p>
</li>
<li>
<p>Publishing a new content view or composite content view creates a new major version.
Incremental errata updates increment the minor version.
Note that you cannot change or reset this counter.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="best-practices-for-patching-content-hosts_content-management"><a class="anchor" href="#best-practices-for-patching-content-hosts_content-management"></a>8.3. Best practices for patching content hosts</h3>
<div class="ulist">
<ul>
<li>
<p>Registering hosts to Foreman requires Foreman Client, which contains the <code>katello-host-tools</code> package and its dependencies.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#Registering_Hosts_by_Using_Global_Registration_managing-hosts">Registering hosts by using global registration</a> in <em>Managing hosts</em>.</p>
</li>
<li>
<p>Use the Foreman web UI to install, upgrade, and remove packages from hosts.
You can update content hosts with job templates using SSH and Ansible.</p>
</li>
<li>
<p>Apply errata on content hosts using the Foreman web UI.
When patching packages on hosts using the default package manager, Foreman receives a list of packages and repositories to recalculate applicable errata and available updates.</p>
</li>
<li>
<p>Modify or replace job templates to add custom steps.
This allows you to run commands or execute scripts on hosts.</p>
</li>
<li>
<p>When running bulk actions on hosts, bundle them by major operating system version, especially when upgrading packages.</p>
</li>
<li>
<p>Select <strong>via remote execution &#8211; customize first</strong> to define the time when patches are applied to hosts when performing bulk actions.</p>
</li>
<li>
<p>You cannot apply errata to packages that are not part of the repositories on Foreman and the assigned content view environments.</p>
</li>
<li>
<p>Modifications to installed packages using <code>rpm</code> or <code>dpkg</code> are sent to Foreman with the next run of <code>apt</code>, <code>yum</code>, or <code>zypper</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Creating_a_Content_View_content-management"><a class="anchor" href="#Creating_a_Content_View_content-management"></a>8.4. Creating a content view</h3>
<div class="paragraph">
<p>Use this procedure to create a simple content view.
To use the CLI instead of the Foreman web UI, see the <a href="#cli-creating-a-content-view_content-management">CLI procedure</a>.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>While you can stipulate whether you want to resolve any package dependencies on a content view by content view basis, you might want to change the default Foreman settings to enable or disable package resolution for all content views.
For more information, see <a href="#Resolving_Package_Dependencies_content-management">Resolving package dependencies</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Click <strong>Create content view</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the view.
Foreman automatically completes the <strong>Label</strong> field from the name you enter.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, enter a description of the view.</p>
</li>
<li>
<p>In the <strong>Type</strong> field, select a <strong>Content view</strong> or a <strong>Composite content view</strong>.</p>
</li>
<li>
<p>Optional: If you want to solve dependencies automatically every time you publish this content view, select the <strong>Solve dependencies</strong> checkbox.
Dependency solving slows the publishing time and might ignore any content view filters you use.
This can also cause errors when resolving dependencies for errata.</p>
</li>
<li>
<p>Click <strong>Create content view</strong>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Content view steps</div>
<ol class="arabic">
<li>
<p>Click <strong>Create content view</strong> to create the content view.</p>
</li>
<li>
<p>In the <strong>Repositories</strong> tab, select the repository from the <strong>Type</strong> list that you want to add to your content view, select the checkbox next to the available repositories you want to add, then click <strong>Add repositories</strong>.</p>
</li>
<li>
<p>Click <strong>Publish new version</strong> and in the <strong>Description</strong> field, enter information about the version to log changes.</p>
</li>
<li>
<p>Optional: You can enable a promotion path by clicking <strong>Promote</strong> to <strong>Select a lifecycle environment from the available promotion paths to promote new version</strong>.</p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>On the <strong>Review</strong> page, you can review the environments you are trying to publish.</p>
</li>
<li>
<p>Click <strong>Finish</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can view the content view on the <strong>Content Views</strong> page.
To view more information about the content view, click the content view name.
To register a host to your content view, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#Registering_Hosts_by_Using_Global_Registration_managing-hosts">Registering hosts by using global registration</a> in <em>Managing hosts</em>.</p>
</div>
<div id="cli-creating-a-content-view_content-management" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Obtain a list of repository IDs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository list --organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Create the content view and add repositories:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view create \
--description "<em>My_Content_View</em>" \
--name "<em>My_Content_View</em>" \
--organization "<em>My_Organization</em>" \
--repository-ids 1,2</pre>
</div>
</div>
<div class="paragraph">
<p>For the <code>--repository-ids</code> option, you can find the IDs in the output of the <code>hammer repository list</code> command.</p>
</div>
</li>
<li>
<p>Publish the view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view publish \
--description "<em>My_Content_View</em>" \
--name "<em>My_Content_View</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Optional: To add a repository to an existing content view, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view add-repository \
--name "<em>My_Content_View</em>" \
--organization "<em>My_Organization</em>" \
--repository-id <em>repository_ID</em></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Foreman&#160;server creates the new version of the view and publishes it to the Library environment.</p>
</div>
</div>
<div class="sect2">
<h3 id="Copying_a_Content_View_content-management"><a class="anchor" href="#Copying_a_Content_View_content-management"></a>8.5. Copying a content view</h3>
<div class="paragraph">
<p>You can copy an existing content view into a new content view.
To use the CLI instead of the Foreman web UI, see the <a href="#cli-copying-a-content-view_content-management">CLI procedure</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>A copied content view does not have the same history as the original content view.
Version 1 of the copied content view begins at the last version of the original content view.
As a result, you cannot promote an older version of a content view from the copied content view.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select the content view you want to copy.</p>
</li>
<li>
<p>Click the vertical ellipsis icon and click <strong>Copy</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the new content view and click <strong>Copy content view</strong>.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>The copied content view appears on the <strong>Content views</strong> page.</p>
</li>
</ul>
</div>
<div id="cli-copying-a-content-view_content-management" class="ulist">
<div class="title">CLI procedure</div>
<ul>
<li>
<p>Copy the content view by using Hammer:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view copy \
--name <em>My_original_CV_name</em> \
--new-name <em>My_new_CV_name</em></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="synchronizing-a-content-view-to-a-smart-proxy-server"><a class="anchor" href="#synchronizing-a-content-view-to-a-smart-proxy-server"></a>8.6. Synchronizing a content view to a Smart&#160;Proxy&#160;server</h3>
<div class="paragraph">
<p>In the Foreman web UI, you can only synchronize all selected lifecycle environments simultaneously.
If you need to synchronize smaller items, such as individual lifecycle environments, single content views, and single repositories, use the Hammer CLI.</p>
</div>
<div class="ulist">
<div class="title">CLI procedure</div>
<ul>
<li>
<p>Synchronize a content view to your Smart&#160;Proxy&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer proxy content synchronize \
--content-view "<em>My_Content_View_Name</em>" \
--id <em>My_Smart_Proxy_Server_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For more information about the command, run <code>hammer proxy content synchronize --help</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Viewing_Module_Streams_content-management"><a class="anchor" href="#Viewing_Module_Streams_content-management"></a>8.7. Viewing module streams</h3>
<div class="paragraph">
<p>In Foreman, you can view the module streams of the repositories in your content views.</p>
</div>
<div class="paragraph">
<p>To use the CLI instead of the Foreman web UI, see the <a href="#cli-Viewing_Module_Streams_content-management">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to a published version of a <strong>Content View</strong> &gt; <strong>Module Streams</strong> to view the module streams that are available for the Content Types.</p>
</li>
<li>
<p>Use the <strong>Search</strong> field to search for specific modules.</p>
</li>
<li>
<p>To view the information about the module, click the module and its corresponding tabs to include <strong>Details</strong>, <strong>Repositories</strong>, <strong>Profiles</strong>, and <strong>Artifacts</strong>.</p>
</li>
</ol>
</div>
<div id="cli-Viewing_Module_Streams_content-management" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>List all organizations:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer organization list</pre>
</div>
</div>
</li>
<li>
<p>View all module streams for your organization:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer module-stream list \
--organization-id <em>My_Organization_ID</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Promoting_a_Content_View_content-management"><a class="anchor" href="#Promoting_a_Content_View_content-management"></a>8.8. Promoting a content view</h3>
<div class="paragraph">
<p>Use this procedure to promote content views across different lifecycle environments.
To use the CLI instead of the Foreman web UI, see the <a href="#cli-promoting-a-content-view_content-management">CLI procedure</a>.</p>
</div>
<div class="paragraph">
<div class="title">Permission requirements for content view promotion</div>
<p>Non-administrator users require two permissions to promote a content view to an environment:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>promote_or_remove_content_views</code></p>
</li>
<li>
<p><code>promote_or_remove_content_views_to_environment</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <code>promote_or_remove_content_views</code> permission restricts which content views a user can promote.</p>
</div>
<div class="paragraph">
<p>The <code>promote_or_remove_content_views_to_environment</code> permission restricts the environments to which a user can promote content views.</p>
</div>
<div class="paragraph">
<p>With these permissions you can assign users permissions to promote certain content views to certain environments, but not to other environments.
For example, you can limit a user so that they are permitted to promote to test environments, but not to production environments.</p>
</div>
<div class="paragraph">
<p>You must assign both permissions to a user to allow them to promote content views.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select the content view that you want to promote.</p>
</li>
<li>
<p>Select the version that you want to promote, click the vertical ellipsis icon, and click <strong>Promote</strong>.</p>
</li>
<li>
<p>Select the environment where you want to promote the content view and click <strong>Promote</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now the repository for the content view appears in all environments.</p>
</div>
<div id="cli-promoting-a-content-view_content-management" class="ulist">
<div class="title">CLI procedure</div>
<ul>
<li>
<p>Promote the content view using Hammer for each lifecycle environment:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version promote \
--content-view "Database" \
--version 1 \
--to-lifecycle-environment "Development" \
--organization "<em>My_Organization</em>"
$ hammer content-view version promote \
--content-view "Database" \
--version 1 \
--to-lifecycle-environment "Testing" \
--organization "<em>My_Organization</em>"
$ hammer content-view version promote \
--content-view "Database" \
--version 1 \
--to-lifecycle-environment "Production" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>Now the database content is available in all environments.</p>
</div>
</li>
<li>
<p>Alternatively, you can promote content views across all lifecycle environments within an organization using the following Bash script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">ORG="<em>My_Organization</em>"
CVV_ID=<em>My_Content_View_Version_ID</em>

for i in $(hammer --no-headers --csv lifecycle-environment list --organization $ORG | awk -F, {'print $1'} | sort -n)
do
   hammer content-view version promote --organization $ORG --to-lifecycle-environment-id $i --id $CVV_ID
done</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Display information about your content view version to verify that it is promoted to the required lifecycle environments:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version info --id <em>My_Content_View_Version_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>To register a host to your content view, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#Registering_Hosts_by_Using_Global_Registration_managing-hosts">Registering hosts by using global registration</a> in <em>Managing hosts</em>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rolling-content-views"><a class="anchor" href="#rolling-content-views"></a>8.9. Rolling content views</h3>
<div class="paragraph">
<p>A rolling content view is a curated subset of content that your hosts can access.
It is a subset of the Library environment and contains the latest synchronized content from one or multiple repositories.
You can use a rolling content view to provide a continuous stream of synchronized content to hosts.</p>
</div>
<div class="paragraph">
<p>When you synchronize repositories to Foreman, all rolling content views that contain them get automatically updated to include the latest changes.
You do not have to publish and/or promote a rolling content view compared to content views or composite content views.</p>
</div>
<div class="paragraph">
<p>Instead, you can assign rolling content views to one or multiple lifecycle environments.
By doing so, you can synchronize subsets of the Library content from Foreman&#160;server to Smart&#160;Proxy&#160;servers that are configured to consume content from the assigned lifecycle environments.</p>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-rolling-content-view"><a class="anchor" href="#creating-a-rolling-content-view"></a>8.10. Creating a rolling content view</h3>
<div class="paragraph">
<p>You can create a rolling content view in the Foreman web UI.
To use the CLI instead of the Foreman web UI, see the <a href="#cli-creating-a-rolling-content-view">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Click <strong>Create content view</strong>.</p>
</li>
<li>
<p>In the <strong>Create content view</strong> window, enter a name for the content view in the <strong>Name</strong> field.
Foreman automatically completes the <strong>Label</strong> field from the name you enter.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description of the content view.</p>
</li>
<li>
<p>On the <strong>Type</strong> tab, select <strong>Rolling content view</strong>.</p>
</li>
<li>
<p>Optional: In the <strong>Lifecycle Environments</strong> field, assign your rolling content view to your lifecycle environments.</p>
</li>
<li>
<p>Click <strong>Create content view</strong>.</p>
</li>
<li>
<p>Click <strong>Show repositories</strong>.</p>
</li>
<li>
<p>Select the repositories that you want to add to your rolling content view.</p>
</li>
<li>
<p>Click <strong>Add repositories</strong> to add all selected repositories to your rolling content view.</p>
</li>
</ol>
</div>
<div id="cli-creating-a-rolling-content-view" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>List all available lifecycle environments:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer lifecycle-environment list \
--fields id,name \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>List all available repositories to identify IDs of repositories to add to your rolling content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository list \
--fields id,name,product \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Create your rolling content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view create \
--lifecycle-environment-ids <em>My_List_Of_Lifecycle_Environment_IDs</em> \
--name "<em>My_Rolling_Content_View</em>" \
--organization "<em>My_Organization</em>" \
--repository-ids <em>My_List_Of_Repository_IDs</em> \
--rolling</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>You cannot publish or promote your rolling content view.
Instead, continue by adding it to your activation key.
For more information, see <a href="#Creating_an_Activation_Key_content-management">Creating an activation key</a>.</p>
</li>
<li>
<p>To register a host to your rolling content view, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#registering-hosts-and-setting-up-host-integration_managing-hosts">Registering hosts and setting up host integration</a> in <em>Managing hosts</em>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="assigning-a-rolling-content-view-to-lifecycle-environments"><a class="anchor" href="#assigning-a-rolling-content-view-to-lifecycle-environments"></a>8.11. Assigning a rolling content view to lifecycle environments</h3>
<div class="paragraph">
<p>You can assign your rolling content view to lifecycle environments to limit Library content synchronized to Smart&#160;Proxy&#160;servers.</p>
</div>
<div class="paragraph">
<p>To consume rolling content views, you must assign them to one or more lifecycle environments.
By doing so, you expose a subset of Library content to those lifecycle environments.
Foreman community does not recommend assigning a rolling content view to the Library environment itself because it creates duplicate content within Library.
By using environments other than Library, you can synchronize your rolling content views from Foreman&#160;server to any Smart&#160;Proxy&#160;servers that are configured to consume the relevant lifecycle environments without the need to synchronize all of Library to Smart&#160;Proxy&#160;servers.</p>
</div>
<div class="paragraph">
<p>To use the CLI instead of the Foreman web UI, see the <a href="#cli-assigning-a-rolling-content-view-to-lifecycle-environments">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select your rolling content view.</p>
</li>
<li>
<p>Select the <strong>Details</strong> tab.</p>
</li>
<li>
<p>In the <strong>Lifecycle Environments</strong> field, assign your rolling content view to your lifecycle environments.</p>
</li>
<li>
<p>Click <strong>Save Environments</strong> to submit your changes to Foreman.</p>
</li>
</ol>
</div>
<div id="cli-assigning-a-rolling-content-view-to-lifecycle-environments" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>List all content views:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view list \
--fields "content view id,name" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Assign your rolling content view to lifecycle environments:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view update \
--id <em>My_Rolling_Content_View_ID</em> \
--lifecycle-environment-ids <em>My_List_Of_Lifecycle_Environment_IDs</em> \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to remove your rolling content view from all lifecycle environments, pass an empty list.</p>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>Synchronize lifecycle environments to Smart&#160;Proxy&#160;servers.
For more information, see <a href="https://docs.theforeman.org/nightly/Administering_Project/index-foremanctl-katello.html#Synchronizing_Content_from_foreman_Server_to_Smart_Proxy_Servers_admin">Synchronizing content from Foreman&#160;server to Smart&#160;Proxy&#160;servers</a> in <em>Administering Foreman</em>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Composite_Content_Views_Overview_content-management"><a class="anchor" href="#Composite_Content_Views_Overview_content-management"></a>8.12. Composite content views overview</h3>
<div class="paragraph">
<p>A composite content view combines the content from several content views.
For example, you might have separate content views to manage an operating system and an application individually.
You can use a composite content view to merge the contents of both content views into a new repository.
The repositories for the original content views still exist but a new repository also exists for the combined content.</p>
</div>
<div class="paragraph">
<p>If you want to develop an application that supports different database servers.
The <em>example_application</em> appears as:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>example_software</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating System</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example of four separate content views:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enterprise Linux (Operating System)</p>
</li>
<li>
<p>PostgreSQL (Database)</p>
</li>
<li>
<p>MariaDB (Database)</p>
</li>
<li>
<p><em>example_software</em> (Application)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>From the previous content views, you can create two composite content views.</p>
</div>
<div class="paragraph">
<p>Example composite content view for a PostgreSQL database:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Composite content view 1 &#8211; <em>example_software</em> on PostgreSQL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em> (Application)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL (Database)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enterprise Linux (Operating System)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example composite content view for a MariaDB:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Composite content view 2 &#8211; <em>example_software</em> on MariaDB</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>example_software</em> (Application)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MariaDB (Database)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enterprise Linux (Operating System)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Each content view is then managed and published separately.
When you create a version of the application, you publish a new version of the composite content views.
You can also select the <strong>Auto Publish</strong> option when creating a composite content view, and then the composite content view is automatically republished when a content view it includes is republished.</p>
</div>
<div class="paragraph">
<div class="title">Repository restrictions</div>
<p>Docker repositories cannot be included more than once in a composite content view.
For example, if you attempt to include two content views that contain the same docker repository in a composite content view, Foreman&#160;server reports an error.</p>
</div>
</div>
<div class="sect2">
<h3 id="Creating_a_Composite_Content_View_content-management"><a class="anchor" href="#Creating_a_Composite_Content_View_content-management"></a>8.13. Creating a composite content view</h3>
<div class="paragraph">
<p>Use this procedure to create a composite content view.
To use the CLI instead of the Foreman web UI, see the <a href="#cli-creating-a-composite-content-view_content-management">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Click <strong>Create content view</strong>.</p>
</li>
<li>
<p>In the <strong>Create content view</strong> window, enter a name for the view in the <strong>Name</strong> field.
Foreman automatically completes the <strong>Label</strong> field from the name you enter.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description of the view.</p>
</li>
<li>
<p>On the <strong>Type</strong> tab, select <strong>Composite content view</strong>.</p>
</li>
<li>
<p>Optional: If you want to automatically publish a new version of the composite content view when a content view is republished, select the <strong>Auto publish</strong> checkbox.</p>
</li>
<li>
<p>Click <strong>Create content view</strong>.</p>
</li>
<li>
<p>On the <strong>Content views</strong> tab, select the content views that you want to add to the composite content view, and then click <strong>Add content views</strong>.</p>
</li>
<li>
<p>In the <strong>Add content views</strong> window, select the version of each content view.</p>
</li>
<li>
<p>Optional: If you want to automatically update the content view to the latest version, select the <strong>Always update to latest version</strong> checkbox.</p>
</li>
<li>
<p>Click <strong>Add</strong>, then click <strong>Publish new version</strong>.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description of the content view.</p>
</li>
<li>
<p>In the <strong>Publish</strong> window, set the <strong>Promote</strong> switch, then select the lifecycle environment.</p>
</li>
<li>
<p>Click <strong>Next</strong>, then click <strong>Finish</strong>.</p>
</li>
</ol>
</div>
<div id="cli-creating-a-composite-content-view_content-management" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Before you create the composite content views, list the version IDs for your existing content views:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version list \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Create a new composite content view.
When the <code>--auto-publish</code> option is set to <code>yes</code>, the composite content view is automatically republished when a content view it includes is republished:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view create \
--composite \
--auto-publish yes \
--name "<em>Example_Composite_Content_View</em>" \
--description "Example composite content view" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Add a content view to the composite content view.
You can identify content view, content view version, and Organization in the commands by either their ID or their name.
To add multiple content views to the composite content view, repeat this step for every content view you want to include.</p>
<div class="ulist">
<ul>
<li>
<p>If you have the <strong>Always update to latest version</strong> option enabled for the content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view component add \
--component-content-view-id <em>Content_View_ID</em> \
--composite-content-view "<em>Example_Composite_Content_View</em>" \
--latest \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>If you have the <strong>Always update to latest version</strong> option disabled for the content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view component add \
--component-content-view-id <em>Content_View_ID</em> \
--composite-content-view "<em>Example_Composite_Content_View</em>" \
--component-content-view-version-id <em>Content_View_Version_ID</em> \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Publish the composite content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view publish \
--name "<em>Example_Composite_Content_View</em>" \
--description "Initial version of composite content view" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Promote the composite content view across all environments:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version promote \
--content-view "<em>Example_Composite_Content_View</em>" \
--version 1 \
--to-lifecycle-environment "Development" \
--organization "<em>My_Organization</em>"
$ hammer content-view version promote \
--content-view "<em>Example_Composite_Content_View</em>" \
--version 1 \
--to-lifecycle-environment "Testing" \
--organization "<em>My_Organization</em>"
$ hammer content-view version promote \
--content-view "<em>Example_Composite_Content_View</em>" \
--version 1 \
--to-lifecycle-environment "Production" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Content_Filter_Overview_content-management"><a class="anchor" href="#Content_Filter_Overview_content-management"></a>8.14. Content filter overview</h3>
<div class="paragraph">
<p>Content views also use filters to include or restrict certain Deb and Yum content.
Without these filters, a content view includes everything from the selected repositories.</p>
</div>
<div class="paragraph">
<p>There are two types of content filters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 19. Filter types</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Filter Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Include</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You start with no content, then select which content to add from the selected repositories.
Use this filter to combine multiple content items.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Exclude</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You start with all content from selected repositories, then select which content to remove.
Use this filter when you want to use most of a particular content repository while excluding certain packages.
The filter uses all content in the repository except for the content you select.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Include and Exclude filter combinations</div>
<p>If using a combination of Include and Exclude filters, publishing a content view triggers the include filters first, then the exclude filters.
In this situation, select which content to include, then which content to exclude from the inclusive subset.</p>
</div>
<div class="paragraph">
<div class="title">Content types</div>
<p>You can filter content based on the following content types:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 20. Content types</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Content Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>RPM</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filter packages based on their name and version number.
The <strong>RPM</strong> option filters non-modular RPM packages and errata.
Source RPMs are not affected by this filter and will still be available in the content view.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Deb</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filter packages based on their name.
The <strong>Deb</strong> option filters Deb packages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Package Group</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filter packages based on package groups.
The list of package groups is based on the repositories added to the content view.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Erratum (by ID)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select which specific errata to add to the filter.
The list of Errata is based on the repositories added to the content view.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Erratum (by Date and Type)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select a issued or updated date range and errata type (Bugfix, Enhancement, or Security) to add to the filter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Module Streams</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select whether to include or exclude specific module streams.
The <strong>Module Streams</strong> option filters modular RPMs and errata, but does not filter non-modular content that is associated with the selected module stream.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Container Image Tag</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select whether to include or exclude specific container image tags.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Resolving_Package_Dependencies_content-management"><a class="anchor" href="#Resolving_Package_Dependencies_content-management"></a>8.15. Resolving package dependencies</h3>
<div class="paragraph">
<p>Foreman can add dependencies of packages in a content view to the dependent repository when publishing the content view.
To configure this, you can enable <em>dependency solving</em>.</p>
</div>
<div class="paragraph">
<p>For example, dependency solving is useful when you incrementally add a single package to a content view version.
You might need to enable dependency solving to install that package.</p>
</div>
<div class="paragraph">
<p>However, dependency solving is unnecessary in most situations.
For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When incrementally adding a security errata to a content view, dependency solving can cause significant delays to content view publication without major benefits.</p>
</li>
<li>
<p>Packages from a newer erratum might have dependencies that are incompatible with packages from an older content view version.
Incrementally adding the erratum by solving dependencies might result in the inclusion of unwanted packages.
As an alternative, consider updating the content view.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Dependency solving only considers packages within the repositories of the content view.
It does not consider packages installed on clients.
For example, if a content view includes only AppStream, dependency solving does not include dependent BaseOS content at publish time.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#Limitations_to_Repository_Dependency_Resolution_content-management">Limitations to Repository Dependency Resolution</a> in <em>Managing content</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Dependency solving can lead to the following problems:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Significant delay in content view publication</dt>
<dd>
<p>Foreman examines every repository in a content view for dependencies.
Therefore, publish time increases with more repositories.</p>
<div class="paragraph">
<p>To mitigate this problem, use multiple content views with fewer repositories and combine them into composite content views.</p>
</div>
</dd>
<dt class="hdlist1">Ignored content view filters on dependent packages</dt>
<dd>
<p>Foreman prioritizes resolving package dependencies over the rules in your filter.</p>
<div class="paragraph">
<p>For example, if you create a filter for security purposes but enable dependency solving, Foreman can add packages that you might consider insecure.</p>
</div>
<div class="paragraph">
<p>To mitigate this problem, carefully test filtering rules to determine the required dependencies.
If dependency solving includes unwanted packages, manually identify the core basic dependencies that the extra packages and errata need.</p>
</div>
</dd>
</dl>
</div>
<div id="Combining_exclusion_filters_with_dependency_solving_content-management" class="exampleblock">
<div class="title">Example 3. Combining exclusion filters with dependency solving</div>
<div class="content">
<div class="paragraph">
<p>For example, you can recreate Red&#160;Hat Enterprise Linux&#160;8.3 by using content view filters and include selected errata from a later Red&#160;Hat Enterprise Linux&#160;8 minor release.
To achieve this, you create filters to exclude most of the errata after the Red&#160;Hat Enterprise Linux&#160;8.3 release date, except a few that you need.
Then, you enable dependency solving.</p>
</div>
<div class="paragraph">
<p>In this situation, dependency solving might include more packages than expected.
As a result, the host diverges from Red&#160;Hat Enterprise Linux&#160;8.3 machines.</p>
</div>
<div class="paragraph">
<p>If you do not need the extra errata and packages, do not configure content view filtering.
Instead, enable and use the Red&#160;Hat Enterprise Linux&#160;8.3 repository on the <strong>Content</strong> &gt; <strong>Red Hat Repositories</strong> page in the Foreman web UI.</p>
</div>
</div>
</div>
<div id="Excluding_packages_and_dependency_solving_with_DNF_content-management" class="exampleblock">
<div class="title">Example 4. Excluding packages sometimes makes dependency solving impossible for DNF</div>
<div class="content">
<div class="paragraph">
<p>If you create Red&#160;Hat Enterprise Linux&#160;8.3 repositories with a few excluded packages, <code>dnf upgrade</code> can sometimes fail.</p>
</div>
<div class="paragraph">
<p>Do not enable dependency solving to resolve the problem.
Instead, investigate the error from <code>dnf</code> and adjust the filters to stop excluding the missing dependency.</p>
</div>
<div class="paragraph">
<p>Else, dependency solving might cause the repository to diverge from Red&#160;Hat Enterprise Linux&#160;8.3.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enabling-dependency-solving-for-a-content-view_content-management"><a class="anchor" href="#enabling-dependency-solving-for-a-content-view_content-management"></a>8.16. Enabling dependency solving for a content view</h3>
<div class="paragraph">
<p>Use this procedure to enable dependency solving for a content view.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Dependency solving is useful only in limited contexts.
Before enabling it, ensure you read and understand <a href="#Resolving_Package_Dependencies_content-management">Resolving package dependencies</a></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>From the list of content views, select the required content view.</p>
</li>
<li>
<p>On the <strong>Details</strong> tab, toggle <strong>Solve dependencies</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Content_Filter_Examples_content-management"><a class="anchor" href="#Content_Filter_Examples_content-management"></a>8.17. Content filter examples</h3>
<div class="paragraph">
<p>Use any of the following examples with the procedure that follows to build custom content filters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Filters can significantly increase the time to publish a content view.
For example, if a content view publish task completes in a few minutes without filters, it can take 30 minutes after adding an exclude or include errata filter.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Example 1</div>
<p>Create a repository with the base Enterprise Linux packages.
This filter requires a Enterprise Linux repository added to the content view.</p>
</div>
<div class="paragraph">
<p><strong>Filter:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Inclusion Type:</strong> Include</p>
</li>
<li>
<p><strong>Content Type:</strong> Package Group</p>
</li>
<li>
<p><strong>Filter:</strong> Select only the <strong>Base</strong> package group</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Example 2</div>
<p>Create a repository that excludes all errata, except for security updates, after a certain date.
This is useful if you want to perform system updates on a regular basis with the exception of critical security updates, which must be applied immediately.
This filter requires a Enterprise Linux repository added to the content view.</p>
</div>
<div class="paragraph">
<p><strong>Filter:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Inclusion Type:</strong> Exclude</p>
</li>
<li>
<p><strong>Content Type:</strong> Erratum (by Date and Type)</p>
</li>
<li>
<p><strong>Filter:</strong> Select only the <strong>Bugfix</strong> and <strong>Enhancement</strong> errata types, and clear the <strong>Security</strong> errata type.
Set the <strong>Date Type</strong> to <strong>Updated On</strong>.
Set the <strong>Start Date</strong> to the date you want to restrict errata.
Leave the <strong>End Date</strong> blank to ensure any new non-security errata is filtered.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Example 3</div>
<p>A combination of Example 1 and Example 2 where you only require the operating system packages and want to exclude recent bug fix and enhancement errata.
This requires two filters attached to the same content view.
The content view processes the Include filter first, then the Exclude filter.</p>
</div>
<div class="paragraph">
<p><strong>Filter 1:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Inclusion Type:</strong> Include</p>
</li>
<li>
<p><strong>Content Type:</strong> Package Group</p>
</li>
<li>
<p><strong>Filter:</strong> Select only the <strong>Base</strong> package group</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Filter 2:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Inclusion Type:</strong> Exclude</p>
</li>
<li>
<p><strong>Content Type:</strong> Erratum (by Date and Type)</p>
</li>
<li>
<p><strong>Filter:</strong> Select only the <strong>Bugfix</strong> and <strong>Enhancement</strong> errata types, and clear the <strong>Security</strong> errata type.
Set the <strong>Date Type</strong> to <strong>Updated On</strong>.
Set the <strong>Start Date</strong> to the date you want to restrict errata.
Leave the <strong>End Date</strong> blank to ensure any new non-security errata is filtered.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Example 4</div>
<p>Filter a specific module stream in a content view.</p>
</div>
<div class="paragraph">
<p><strong>Filter 1:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Inclusion Type:</strong> Include</p>
</li>
<li>
<p><strong>Content Type:</strong> Module Stream</p>
</li>
<li>
<p><strong>Filter:</strong> Select only the specific module stream that you want for the content view, for example <strong>ant</strong>, and click <strong>Add Module Stream</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Filter 2:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Inclusion Type:</strong> Exclude</p>
</li>
<li>
<p><strong>Content Type:</strong> Package</p>
</li>
<li>
<p><strong>Filter:</strong> Add a rule to filter any non-modular packages that you want to exclude from the content view.
If you do not filter the packages, the content view filter includes all non-modular packages associated with the module stream <strong>ant</strong>.
Add a rule to exclude all <code>*</code> packages, or specify the package names that you want to exclude.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For another example of how content filters work, see the following article: <a href="https://access.redhat.com/solutions/1564953">"How do content filters work in Satellite 6"</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-content-view-filter-by-using-web-ui"><a class="anchor" href="#creating-a-content-view-filter-by-using-web-ui"></a>8.18. Creating a content view filter by using Foreman web UI</h3>
<div class="paragraph">
<p>You can filter content views containing yum content to include or exclude specific packages or errata.
Package filters are based on a combination of the <em>name</em>, <em>version</em>, and <em>architecture</em>.
For examples of how to build a filter, see <a href="#Content_Filter_Examples_content-management">Content filter examples</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select a content view.</p>
</li>
<li>
<p>On the <strong>Filters</strong> tab, click <strong>Create filter</strong>.</p>
</li>
<li>
<p>Enter a name.</p>
</li>
<li>
<p>From the <strong>Content type</strong> list, select a content type.</p>
</li>
<li>
<p>From the <strong>Inclusion Type</strong> list, select either <strong>Include filter</strong> or <strong>Exclude filter</strong>.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description for the filter.</p>
</li>
<li>
<p>Click <strong>Create filter</strong> to create your content filter.</p>
</li>
<li>
<p>Add a filter rule:</p>
<div class="ulist">
<ul>
<li>
<p>For Deb content, click <strong>Add DEB rule</strong>.</p>
</li>
<li>
<p>For Yum content, click <strong>Add RPM rule</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enter a <em>name</em>, <em>architecture</em>, and <em>version</em>.</p>
</li>
<li>
<p>Click <strong>Add rule</strong>.</p>
</li>
<li>
<p>Select if you want the filter to <strong>Apply to subset of repositories</strong> or <strong>Apply to all repositories in the CV</strong>.</p>
</li>
<li>
<p>Click <strong>Publish new version</strong> to publish the filtered content view.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description of the changes.</p>
</li>
<li>
<p>Optional: Select <strong>Promote</strong> to promote your filtered content view to a lifecycle environment.</p>
</li>
<li>
<p>Click <strong>Finish</strong> to publish a new version of the content view.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-content-view-filter-by-using-cli"><a class="anchor" href="#creating-a-content-view-filter-by-using-cli"></a>8.19. Creating a content view filter by using CLI</h3>
<div class="paragraph">
<p>You can use Hammer CLI to create content view filters to include or exclude specific content units like packages, errata, or container image tags.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Add a filter to the content view.
Use the <code>--inclusion false</code> option to set the filter to an Exclude filter:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view filter create \
--name "<em>Errata Filter</em>" \
--type erratum --content-view "<em>Example_Content_View</em>" \
--description "<em>My latest filter</em>" \
--inclusion false \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Add a rule to the filter:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view filter rule create \
--content-view "<em>Example_Content_View</em>" \
--content-view-filter "<em>Errata Filter</em>" \
--start-date "<em>YYYY-MM-DD</em>" \
--types enhancement,bugfix \
--date-type updated \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Publish the content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view publish \
--name "<em>Example_Content_View</em>" \
--description "Adding errata filter" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Promote the view across all environments:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version promote \
--content-view "<em>Example_Content_View</em>" \
--version 1 \
--to-lifecycle-environment "Development" \
--organization "<em>My_Organization</em>"
$ hammer content-view version promote \
--content-view "<em>Example_Content_View</em>" \
--version 1 \
--to-lifecycle-environment "Testing" \
--organization "<em>My_Organization</em>"
$ hammer content-view version promote \
--content-view "<em>Example_Content_View</em>" \
--version 1 \
--to-lifecycle-environment "Production" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Deleting_Multiple_Content_View_Versions_content-management"><a class="anchor" href="#Deleting_Multiple_Content_View_Versions_content-management"></a>8.20. Deleting multiple content view versions</h3>
<div class="paragraph">
<p>You can delete multiple content view versions simultaneously.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select the content view you want to delete versions of.</p>
</li>
<li>
<p>On the <strong>Versions</strong> tab, select the checkbox of the version or versions you want to delete.</p>
</li>
<li>
<p>Click the vertical ellipsis icon at the top of the list of content views.</p>
</li>
<li>
<p>Click <strong>Delete</strong> to open the deletion wizard that shows any affected environments.</p>
</li>
<li>
<p>If there are no affected environments, review the details and click <strong>Delete</strong>.</p>
</li>
<li>
<p>If there are any affected environments, reassign any hosts or activation keys before deletion.</p>
</li>
<li>
<p>Review the details of the actions.</p>
</li>
<li>
<p>Click <strong>Delete</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Clearing_the_Search_Filter_content-management"><a class="anchor" href="#Clearing_the_Search_Filter_content-management"></a>8.21. Clearing the search filter</h3>
<div class="paragraph">
<p>If you search for specific content types by using keywords in the <strong>Search</strong> text box and the search returns no results, click <strong>Clear search</strong> to clear all the search queries and reset the <strong>Search</strong> text box.</p>
</div>
<div class="paragraph">
<p>If you use a filter to search for specific repositories in the <strong>Type</strong> text box and the search returns no results, click <strong>Clear filters</strong> to clear all active filters and reset the <strong>Type</strong> text box.</p>
</div>
</div>
<div class="sect2">
<h3 id="Standardizing_Content_View_Empty_States_content-management"><a class="anchor" href="#Standardizing_Content_View_Empty_States_content-management"></a>8.22. Standardizing content view empty states</h3>
<div class="paragraph">
<p>If there are no filters listed for a content view, click <strong>Create filter</strong>.
A modal opens to show you the next steps to create a filter.
Follow these steps to add a new filter to create new content types.</p>
</div>
</div>
<div class="sect2">
<h3 id="Comparing_Content_View_Versions_content-management"><a class="anchor" href="#Comparing_Content_View_Versions_content-management"></a>8.23. Comparing content view versions</h3>
<div class="paragraph">
<p>Use this procedure to compare content view version functionality for Foreman.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select a content view whose versions you want to compare.</p>
</li>
<li>
<p>On the <strong>Versions</strong> tab, select the checkbox next to any two versions you want to compare.</p>
</li>
<li>
<p>Click <strong>Compare</strong>.</p>
<div class="paragraph">
<p>The <strong>Compare</strong> screen has the pre-selected versions in the version dropdown menus and tabs for all content types found in either version.
You can filter the results to show only the same, different, or all content types.
You can compare different content view versions by selecting them from the dropdown menus.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Distributing_Archived_Content_View_Versions_content-management"><a class="anchor" href="#Distributing_Archived_Content_View_Versions_content-management"></a>8.24. Distributing archived content view versions</h3>
<div class="paragraph">
<p>The setting <strong>Distribute archived content view versions</strong> enables hosting of non-promoted content view version repositories in the Foreman content web application along with other repositories.
This is useful while debugging to see what content is present in your content view versions.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Administer</strong> &gt; <strong>Settings</strong>.</p>
</li>
<li>
<p>Click the <strong>Content</strong> tab.</p>
</li>
<li>
<p>Set the <strong>Distribute archived content view versions</strong> parameter to <strong>Yes</strong>.</p>
</li>
<li>
<p>Click <strong>Submit</strong>.</p>
<div class="paragraph">
<p>This enables the repositories of content view versions without lifecycle environments to be distributed at <code>foreman.example.com/pulp/content/<em>My_Organization</em>/content_views/<em>My_Content_View</em>/<em>My_Content_View_Version</em>/</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Older non-promoted content view versions are not distributed once the setting is enabled.
Only new content view versions become distributed.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing-content-view-environments"><a class="anchor" href="#managing-content-view-environments"></a>9. Managing content view environments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A content view environment combines a specific lifecycle environment with a content view and describes which version of the content view to use.
You can assign hosts and activation keys to one or more content view environments instead of assigning lifecycle environments and content views separately.
When you assign a host to multiple content view environments, the host gains access to the combined repositories from all its associated content view environments.</p>
</div>
<div class="paragraph">
<p>You can assign multiple content view environments to hosts from the server using Hammer or from the host using Subscription Manager.
You can also view content view environment assignments in both Hammer and the web UI.</p>
</div>
<div class="paragraph">
<p>You also have the option to assign multiple content view environments to an activation key to give hosts access to content from each environment.
For more information about managing multiple content view environments with activation keys, see <a href="#assigning-content-view-environments-to-activation-keys">Assigning content view environments to activation keys</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Multiple content view environments in hosts and activation keys is a Technology Preview feature only.
Technology Preview features are not supported by Foreman community.
Foreman community does not recommend using them in production.
These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="content-view-environments-overview"><a class="anchor" href="#content-view-environments-overview"></a>9.1. Content view environments overview</h3>
<div class="paragraph">
<p>The <strong>Allow multiple content views</strong> setting controls whether hosts and activation keys can be assigned to multiple content view environments.
By default, this feature is disabled, limiting assignments to a single content view environment.
Enable this setting to assign multiple content view environments to hosts and activation keys.
For more information on content settings, see <a href="https://docs.theforeman.org/nightly/Administering_Project/index-foremanctl-katello.html#content_settings_admin">Content settings</a> in <em>Administering Foreman</em>.</p>
</div>
<div class="paragraph">
<p>Hosts registered with multiple activation keys handle content view environment assignments based on the key order and settings configuration.
For more information about content view environment ordering and priority, see <a href="#content-view-environment-ordering-and-priority">Content view environment ordering and priority</a>.</p>
</div>
<div class="paragraph">
<p>When you disable <strong>Allow multiple content views</strong>, multi-environment hosts remain assigned to multiple content view environments and retain access to all their content.
Existing multi-environment activation keys remain associated with multiple content view environments, and both multi-environment hosts and activation keys remain visible in the Foreman web UI and accessible through the Hammer CLI.
However, registration fails if you attempt to assign a host to multiple content view environments or use a multi-environment activation key during host registration.
Assigning multiple content view environments to a host or activation key results in an error.</p>
</div>
<div class="paragraph">
<p>When you disable <strong>Allow multiple content views</strong>, you can still reassign a multi-environment host to a single content view environment.
You can also reassign a multi-environment activation key to a single content view environment or remove all content view environments from the key.</p>
</div>
<div class="paragraph">
<p>This setting provides flexibility in managing how content view environments are applied to hosts and activation keys while ensuring consistent behavior when disabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="content-view-environment-categories"><a class="anchor" href="#content-view-environment-categories"></a>9.2. Content view environment categories</h3>
<div class="paragraph">
<p>The content view environments available in your organization fall into the following categories:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Library environment</dt>
<dd>
<p>Foreman assigns the Library environment to represent the Library lifecycle environment and the <strong>Default Organization View</strong> content view.</p>
</dd>
<dt class="hdlist1">Unpromoted content views</dt>
<dd>
<p>For each content view that you publish but do not promote to a lifecycle environment, Foreman creates a content view environment.
Foreman labels these environments using the format: <code>Library/&lt;content_view_label&gt;</code>.</p>
</dd>
<dt class="hdlist1">Promoted content views</dt>
<dd>
<p>For each content view that you promote to a specific lifecycle environment, Foreman creates a corresponding content view environment.
Foreman labels these environments using the format: <code>&lt;lifecycle_environment_label&gt;/&lt;content_view_label&gt;</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="content-view-environment-ordering-and-priority"><a class="anchor" href="#content-view-environment-ordering-and-priority"></a>9.3. Content view environment ordering and priority</h3>
<div class="paragraph">
<p>The order of content view environments assigned to a host or activation key determines content priority.
During host registration, an activation key assigns content view environments in the order in which they are stored.</p>
</div>
<div class="paragraph">
<div class="title">General rules for content view environment priority</div>
<p>A host pulls content from the first assigned content view environment that contains the repository.
If <code>Library</code> is first in the list, it overrides other content view environments because it contains all repositories.</p>
</div>
<div class="paragraph">
<div class="title">Importance of content view environment order</div>
<p>Content view environment order is critical when repository conflicts occur.
A repository conflict occurs when multiple content view environments contain a repository with the same label.
For example:
A host assigned to the content view environments <code>Library/cv1, dev/cv1</code> uses the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer host update \
--content-view-environments "Library/cv1,dev/cv1" \
--name "server.example.com" \
--organization-id <em>My_Organization_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>Both content view environments include the <code>foreman-client</code> repository.
Log in as a <code>root</code> user, then run <code>subscription-manager repos</code> to inspect the available repositories on the host.
The output reflects the <code>Library/cv1</code> content view environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager repos</pre>
</div>
</div>
<div class="paragraph">
<p>This results in the following output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-none" data-lang="none">+----------------------------------------------------------+
    Available Repositories in /etc/yum.repos.d/redhat.repo
+----------------------------------------------------------+
Repo ID:   foreman-client
Repo Name: Foreman Client
Repo URL:  https://foreman.example.com/pulp/content/<em>My_Organization</em>/Library/cv1/content/dist/layered/foreman-client/x86_64/<em>My_Product</em>/<em>My_Repository_ID</em>/os
Enabled:   0</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>Repo URL</code> reflects the <code>Library/cv1</code> content view environment, meaning the system uses content from <code>Library/cv1</code> and ignores <code>dev/cv1</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Reordering content view environments</div>
<p>To change priority, reorder the content view environments.
To prioritize <code>dev/cv1</code> over <code>Library/cv1</code>, update the host settings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer host update \
--content-view-environments "dev/cv1,Library/cv1" \
--name "server.example.com" \
--organization-id <em>My_Organization_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>After reordering, inspecting the repositories again shows the <code>dev/cv1</code> content view environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager repos</pre>
</div>
</div>
<div class="paragraph">
<p>This results in the following output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-none" data-lang="none">+----------------------------------------------------------+
    Available Repositories in /etc/yum.repos.d/redhat.repo
+----------------------------------------------------------+
Repo ID:   foreman-client
Repo Name: Foreman Client
Repo URL:  https://foreman.example.com/pulp/content/<em>My_Organization</em>/dev/cv1/content/dist/layered/foreman-client/x86_64/<em>My_Product</em>/<em>My_Repository_ID</em>/os
Enabled:   0</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Repo URL</code> now reflects the <code>dev/cv1</code> content view environment, meaning the system uses content from <code>dev/cv1</code> and ignores <code>Library/cv1</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="assigning-content-view-environments-to-hosts"><a class="anchor" href="#assigning-content-view-environments-to-hosts"></a>9.4. Assigning content view environments to hosts</h3>
<div class="paragraph">
<p>To assign content view environments to a host, specify the entire list in order.
There is no interface in Hammer or the API to add, remove, or insert individual content view environments.
The current content view environments on the host are replaced with the new list you provide.</p>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>List available content view environments in your organization:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view-environment list --organization <em>"My_Organization"</em></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Record the labels of each content view environment.
Use these labels in the command in the next step.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Assign content view environments to a host:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer host update \
--content-view-environments="Library/along_cv,LCE_XYZ/CV1" \
--name "server.example.com" \
--organization-id <em>My_Organization_ID</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="assigning-content-view-environments-to-hosts-by-using-subscription-manager"><a class="anchor" href="#assigning-content-view-environments-to-hosts-by-using-subscription-manager"></a>9.5. Assigning content view environments to hosts by using Subscription Manager</h3>
<div class="paragraph">
<p>You can assign content view environments to hosts by using Subscription Manager.</p>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Display the available environments and identify which ones to pass in:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager environments --list</pre>
</div>
</div>
</li>
<li>
<p>Set the content view environments for the host using <code>subscription-manager</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager environments --set Library/cv1,Library</pre>
</div>
</div>
</li>
<li>
<p>Check assigned content view environments of the host with:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager environments --list-enabled</pre>
</div>
</div>
<div class="paragraph">
<p>The output displays the enabled environments, similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-none" data-lang="none">+-------------------------------------------+
          Environments
+-------------------------------------------+
Name:        Library/cv1
Description:


Name:        Library
Description:</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="comparison-of-content-view-environments-and-composite-content-views"><a class="anchor" href="#comparison-of-content-view-environments-and-composite-content-views"></a>9.6. Comparison of content view environments and composite content views</h3>
<div class="paragraph">
<p>Composite content views provide an alternative method for granting hosts access to content from multiple content views.
You can use composite content views, multiple content view environments, or a combination of both.
The key differences between these methods include the following:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Access timing</dt>
<dd>
<p>Hosts assigned to composite content views gain access to the combined content only after you publish the composite content view.
Hosts assigned to multiple content view environments immediately access the combined content from all assigned environments.</p>
</dd>
<dt class="hdlist1">Conflict resolution</dt>
<dd>
<p>Composite content views resolve conflicts at the time of publishing by merging duplicate repositories.
For hosts assigned to multiple content view environments, repository conflicts are resolved based on the order of content view environments.
For more information about content view environment ordering and priority, see <a href="#content-view-environment-ordering-and-priority">Content view environment ordering and priority</a>.</p>
</dd>
<dt class="hdlist1">Version selection</dt>
<dd>
<p>Composite content views allow you to select specific versions of a content view, including older versions.
With multiple content view environments, the host receives the version of the content view that is currently promoted to the selected lifecycle environment.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Choose the approach that best suits your requirements based on these differences.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Synchronizing_Content_Between_Servers_content-management"><a class="anchor" href="#Synchronizing_Content_Between_Servers_content-management"></a>10. Synchronizing content between Foreman&#160;servers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a Foreman setup with multiple Foreman&#160;servers, you can use Inter-Server Synchronization (ISS) to synchronize content from one upstream server to one or more downstream servers.</p>
</div>
<div class="paragraph">
<p>There are two possible ISS configurations of Foreman, depending on how you deployed your infrastructure:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">ISS Network Sync</dt>
<dd>
<p>If your upstream server can communicate with the downstream server over a network, you can synchronize content over HTTPS.</p>
<div class="paragraph">
<p>Configure your Foreman to synchronize content over a network.
For more information, see <a href="#configuring-server-to-synchronize-content-over-a-network_content-management">Configuring Foreman&#160;server to synchronize content over a network</a>.</p>
</div>
</dd>
<dt class="hdlist1">ISS Export Sync</dt>
<dd>
<p>If your upstream and downstream servers are air gapped, you can synchronize content by using export and import.</p>
<div class="paragraph">
<p>Configure your Foreman to synchronize content by using export and import.
For more information, see <a href="#configuring-projectserver-to-synchronize-content-by-using-exports_content-management">Configuring Foreman&#160;server to synchronize content by using exports</a>.</p>
</div>
</dd>
</dl>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For more information on ISS use cases and scenarios, see <a href="https://docs.theforeman.org/nightly/Planning_for_Project/index-foremanctl-katello.html#iss-scenarios_planning">Inter-Server Synchronization scenarios</a> in <em>Planning for Foreman</em>.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="content-synchronization-by-using-export-and-import_content-management"><a class="anchor" href="#content-synchronization-by-using-export-and-import_content-management"></a>10.1. Content synchronization by using export and import</h3>
<div class="paragraph">
<p>There are multiple approaches for synchronizing content by using the export and import workflow:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You employ the upstream Foreman&#160;server as a content store, which means that you sync the whole Library rather than content view versions.
This approach offers the simplest export/import workflow.
In such case, you can manage the content view versions downstream.
For more information, see <a href="#Using_Upstream_Server_as_a_Content_Store_content-management">Using an upstream Foreman&#160;server as a content store</a>.</p>
</li>
<li>
<p>You use the upstream Foreman&#160;server to sync content view versions.
This approach offers more control over what content is synced between Foreman&#160;servers.
For more information, see <a href="#Using_Upstream_Server_to_Synchronize_Content_View_Versions_content-management">Using an upstream Foreman&#160;server to synchronize content view versions</a>.</p>
</li>
<li>
<p>You sync a single repository.
This can be useful if you use the content-view syncing approach, but you want to sync an additional repository without adding it to an existing content view.
For more information, see <a href="#synchronizing-a-single-repository_content-management">Synchronizing a single repository</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Synchronizing content by using export and import requires the same major version of Foreman on both the downstream and upstream Foreman&#160;servers.</p>
</div>
<div class="paragraph">
<p>When you are unable to match upstream and downstream Foreman versions, you can use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Syncable exports and imports.</p>
</li>
<li>
<p>Inter-Server Synchronization (ISS) with your upstream Foreman connected to the Internet and your downstream Foreman connected to the upstream Foreman.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="Using_Upstream_Server_as_a_Content_Store_content-management"><a class="anchor" href="#Using_Upstream_Server_as_a_Content_Store_content-management"></a>10.1.1. Using an upstream Foreman&#160;server as a content store</h4>
<div class="paragraph">
<p>In this scenario, you use the upstream Foreman&#160;server as a content store for updates rather than to manage content.
You use the downstream Foreman&#160;server to manage content for all infrastructure behind the isolated network.
You export the Library content from the upstream Foreman&#160;server and import it into the downstream Foreman&#160;server.</p>
</div>
<div class="olist arabic">
<div class="title">On the upstream Foreman&#160;server</div>
<ol class="arabic">
<li>
<p>Ensure that repositories are using the <strong>Immediate</strong> download policy in one of the following ways:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For existing repositories using <strong>On Demand</strong>, change their download policy on the repository details page to <strong>Immediate</strong>.</p>
</li>
<li>
<p>For new repositories, ensure that the <strong>Default Red Hat Repository download policy</strong> setting is set to <strong>Immediate</strong> before enabling Red Hat repositories, and that the <strong>Default download policy</strong> is set to <strong>Immediate</strong> for custom repositories.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</div>
</li>
<li>
<p>Enable the content that you want to synchronize.
For more information, see <a href="#enabling-red-hat-repositories-by-using-web-ui">Enabling Red&#160;Hat repositories by using Foreman web UI</a>.</p>
<div class="paragraph">
<p>If you want to sync custom content, first <a href="#creating-a-custom-product-by-using-web-ui">create a custom product</a> and then <a href="#repository-synchronization">synchronize repositories</a>.</p>
</div>
</li>
<li>
<p>Synchronize the enabled content:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the first export, perform a <code>complete</code> Library export so that all the synchronized content is exported.
This generates content archives that you can later import into one or more downstream Foreman&#160;servers.
For more information on performing a complete Library export, see <a href="#Exporting_the_Library_Environment_content-management">Exporting the Library environment</a>.</p>
</li>
<li>
<p>Export all future updates on the upstream Foreman&#160;server incrementally.
This generates leaner content archives that contain only a recent set of updates.
For example, if you enable and synchronize a new repository, the next exported content archive contains content only from the newly enabled repository.
For more information on performing an incremental Library export, see <a href="#exporting-the-library-environment-incrementally_content-management">Exporting the Library environment incrementally</a>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">On the downstream Foreman&#160;server</div>
<ol class="arabic">
<li>
<p>Bring the content exported from the upstream Foreman&#160;server over to the hard disk.</p>
</li>
<li>
<p>Place it inside a directory under <code>/var/lib/pulp/imports</code>.</p>
</li>
<li>
<p>Import the content to an organization using the procedure outlined in <a href="#Importing_into_the_Library_Environment_content-management">Importing into the Library environment</a>.</p>
<div class="paragraph">
<p>You can then manage content using content views or lifecycle environments as you require.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="Using_Upstream_Server_to_Synchronize_Content_View_Versions_content-management"><a class="anchor" href="#Using_Upstream_Server_to_Synchronize_Content_View_Versions_content-management"></a>10.1.2. Using an upstream Foreman&#160;server to synchronize content view versions</h4>
<div class="paragraph">
<p>In this scenario, you use the upstream Foreman&#160;server not only as a content store, but also to synchronize content for all infrastructure behind the isolated network.
You curate updates coming from the CDN into content views and lifecycle environments.
Once you promote content to a designated lifecycle environment, you can export the content from the upstream Foreman&#160;server and import it into the downstream Foreman&#160;server.</p>
</div>
<div class="olist arabic">
<div class="title">On the upstream Foreman&#160;server</div>
<ol class="arabic">
<li>
<p>Ensure that repositories are using the <strong>Immediate</strong> download policy in one of the following ways:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For existing repositories using <strong>On Demand</strong>, change their download policy on the repository details page to <strong>Immediate</strong>.</p>
</li>
<li>
<p>For new repositories, ensure that the <strong>Default Red Hat Repository download policy</strong> setting is set to <strong>Immediate</strong> before enabling Red Hat repositories, and that the <strong>Default download policy</strong> is set to <strong>Immediate</strong> for custom repositories.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</div>
</li>
<li>
<p>Enable the content that you want to synchronize.
For more information, see <a href="#enabling-red-hat-repositories-by-using-web-ui">Enabling Red&#160;Hat repositories by using Foreman web UI</a>.</p>
<div class="paragraph">
<p>If you want to sync custom content, first <a href="#creating-a-custom-product-by-using-web-ui">create a custom product</a> and then <a href="#repository-synchronization">synchronize repositories</a>.</p>
</div>
</li>
<li>
<p>Synchronize the enabled content:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For the first export, perform a <code>complete</code> version export on the content view version that you want to export.
For more information see, <a href="#Exporting_a_Content_View_Version_content-management">Exporting a content view version</a>.
This generates content archives that you can import into one or more downstream Foreman&#160;servers.</p>
</li>
<li>
<p>Export all future updates in the connected Foreman&#160;servers incrementally.
This generates leaner content archives that contain changes only from the recent set of updates.
For example, if your content view has a new repository, this exported content archive contains only the latest changes.
For more information, see <a href="#Exporting_a_Content_View_Version_Incrementally_content-management">Exporting a content view version incrementally</a>.</p>
</li>
<li>
<p>When you have new content, republish the content views that include this content before exporting the increment.
For more information, see <a href="#Managing_Content_Views_content-management">Managing content views</a>.
This creates a new content view version with the appropriate content to export.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">On the downstream Foreman&#160;server</div>
<ol class="arabic">
<li>
<p>Bring the content exported from the upstream Foreman&#160;server over to the hard disk.</p>
</li>
<li>
<p>Place it inside a directory under <code>/var/lib/pulp/imports</code>.</p>
</li>
<li>
<p>Import the content to the organization that you want.
For more information, see <a href="#Importing_a_Content_View_Version_content-management">Importing a content view version</a>.
This will create a content view version from the exported content archives and then import content appropriately.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="synchronizing-a-single-repository_content-management"><a class="anchor" href="#synchronizing-a-single-repository_content-management"></a>10.1.3. Synchronizing a single repository</h4>
<div class="paragraph">
<p>In this scenario, you export and import a single repository.</p>
</div>
<div class="olist arabic">
<div class="title">On the upstream Foreman&#160;server</div>
<ol class="arabic">
<li>
<p>Ensure that the repository is using the <strong>Immediate</strong> download policy in one of the following ways:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For existing repositories using <strong>On Demand</strong>, change their download policy on the repository details page to <strong>Immediate</strong>.</p>
</li>
<li>
<p>For new repositories, ensure that the <strong>Default Red Hat Repository download policy</strong> setting is set to <strong>Immediate</strong> before enabling Red Hat repositories, and that the <strong>Default download policy</strong> is set to <strong>Immediate</strong> for custom repositories.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</div>
</li>
<li>
<p>Enable the content that you want to synchronize.
For more information, see <a href="#enabling-red-hat-repositories-by-using-web-ui">Enabling Red&#160;Hat repositories by using Foreman web UI</a>.</p>
<div class="paragraph">
<p>If you want to sync custom content, first <a href="#creating-a-custom-product-by-using-web-ui">create a custom product</a> and then <a href="#repository-synchronization">synchronize product repositories</a>.</p>
</div>
</li>
<li>
<p>Synchronize the enabled content:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the first export, perform a <code>complete</code> repository export so that all the synchronized content is exported.
This generates content archives that you can later import into one or more downstream Foreman&#160;servers.
For more information on performing a complete repository export, see <a href="#Exporting_a_Repository_content-management">Exporting a repository</a>.</p>
</li>
<li>
<p>Export all future updates on the upstream Foreman&#160;server incrementally.
This generates leaner content archives that contain only a recent set of updates.
For more information on performing an incremental repository export, see <a href="#exporting-a-repository-incrementally">Exporting a repository incrementally</a>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">On the downstream Foreman&#160;server</div>
<ol class="arabic">
<li>
<p>Bring the content exported from the upstream Foreman&#160;server over to the hard disk.</p>
</li>
<li>
<p>Place it inside a directory under <code>/var/lib/pulp/imports</code>.</p>
</li>
<li>
<p>Import the content to an organization. See <a href="#Importing_a_Repository_content-management">Importing a repository</a>.</p>
<div class="paragraph">
<p>You can then manage content using content views or lifecycle environments as you require.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Synchronizing_a_Custom_Repository_content-management"><a class="anchor" href="#Synchronizing_a_Custom_Repository_content-management"></a>10.2. Synchronizing a custom repository</h3>
<div class="paragraph">
<p>When using Inter-Server Synchronization Network Sync, Red Hat repositories are configured automatically, but custom repositories are not.
Use this procedure to synchronize content from a custom repository on a connected Foreman&#160;server to a disconnected Foreman&#160;server through Inter-Server Synchronization (ISS) Network Sync.</p>
</div>
<div class="paragraph">
<p>Follow the procedure for the connected Foreman&#160;server before completing the procedure for the disconnected Foreman&#160;server.</p>
</div>
<div class="olist arabic">
<div class="title">Connected Foreman&#160;server</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Click on the custom product.</p>
</li>
<li>
<p>Click on the custom repository.</p>
</li>
<li>
<p>Copy the <strong>Published At:</strong> URL.</p>
</li>
<li>
<p>Continue with the procedure on disconnected Foreman&#160;server.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Disconnected Foreman&#160;server</div>
<ol class="arabic">
<li>
<p>Download the <code>katello-server-ca.crt</code> file from the connected Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl http://foreman.example.com/pub/katello-server-ca.crt</pre>
</div>
</div>
</li>
<li>
<p>Create an SSL Content Credential with the contents of <code>katello-server-ca.crt</code>.
For more information on creating an SSL Content Credential, see <a href="#importing-custom-ssl-certificates-by-using-web-ui">Importing SSL certificates by using Foreman web UI</a>.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Create your custom product with the following:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Upstream URL</strong>: Paste the link that you copied earlier.</p>
</li>
<li>
<p><strong>SSL CA Cert</strong>: Select the SSL certificate that was transferred from your connected Foreman&#160;server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on creating a custom product, see <a href="#creating-a-custom-product-by-using-web-ui">Creating a product by using Foreman web UI</a>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>After completing these steps, the custom repository is properly configured on the disconnected Foreman&#160;server.</p>
</div>
</div>
<div class="sect2">
<h3 id="Exporting_the_Library_Environment_content-management"><a class="anchor" href="#Exporting_the_Library_Environment_content-management"></a>10.3. Exporting the Library environment</h3>
<div class="paragraph">
<p>You can export content in the Library environment of an organization to an archive file from Foreman&#160;server and use this archive file to create the same repositories in another Foreman&#160;server or in another Foreman&#160;server organization.
The exported archive file contains the following data:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A JSON file containing content view version metadata.</p>
</li>
<li>
<p>An archive file containing all the repositories from the Library environment of the organization.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can export the following content from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ansible collections</p>
</li>
<li>
<p>Deb content</p>
</li>
<li>
<p>Docker content</p>
</li>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Ensure that the export directory has free storage space to accommodate the export.</p>
</li>
<li>
<p>Ensure that the <code>/var/lib/pulp/exports</code> directory has free storage space equivalent to the size of the repositories being exported for temporary files created during the export process.</p>
</li>
<li>
<p>Ensure that you set download policy to <strong>Immediate</strong> for all repositories within the Library lifecycle environment you export.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
<li>
<p>Ensure that you synchronize products that you export to the required date.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Use the organization name or ID to export.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete library --organization="<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Verify that the archive containing the exported version of a content view is located in the export directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls -lh /var/lib/pulp/exports/<em>My_Organization</em>/Export-Library/1.0/2021-03-02T03-35-24-00-00
total 68M
-rw-r--r--. 1 pulp pulp 68M Mar  2 03:35 export-1e25417c-6d09-49d4-b9a5-23df4db3d52a-20210302_0335.tar.gz
-rw-r--r--. 1 pulp pulp 333 Mar  2 03:35 export-1e25417c-6d09-49d4-b9a5-23df4db3d52a-20210302_0335-toc.json
-rw-r--r--. 1 pulp pulp 443 Mar  2 03:35 metadata.json</pre>
</div>
</div>
<div class="paragraph">
<p>You need all three files, the <code>tar.gz</code>, the <code>toc.json</code>, and the <code>metadata.json</code> file to be able to import.</p>
</div>
</li>
<li>
<p>A new content view <strong>Export-Library</strong> is created in the organization.
This content view contains all the repositories belonging to this organization.
A new version of this content view is published and exported automatically.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Export with chunking</div>
<p>In many cases the exported archive content may be several gigabytes in size.
If you want to split it into smaller sizes or chunks.
You can use the <code>--chunk-size-gb</code> flag directly in the export command to handle this.
In the following example, you can see how to specify <code>--chunk-size-gb=2</code> to split the archives in <code>2 GB</code> chunks.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete library \
--chunk-size-gb=2 \
--organization="<em>My_Organization</em>"

Generated /var/lib/pulp/exports/<em>My_Organization</em>/Export-Library/2.0/2021-03-02T04-01-25-00-00/metadata.json

# ls -lh /var/lib/pulp/exports/<em>My_Organization</em>/Export-Library/2.0/2021-03-02T04-01-25-00-00/</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Exporting_the_Library_Environment_in_a_Syncable_Format_content-management"><a class="anchor" href="#Exporting_the_Library_Environment_in_a_Syncable_Format_content-management"></a>10.4. Exporting the library environment in a syncable format</h3>
<div class="paragraph">
<p>You can export content in the Library environment of an organization to a syncable format that you can use to create your custom CDN and synchronize the content from the custom CDN over HTTP/HTTPS.</p>
</div>
<div class="paragraph">
<p>You can use the generated content to create the same repository in another Foreman&#160;server or in another Foreman&#160;server organization by using content import.
On import of the exported archive, a regular content view is created or updated on your importing Foreman&#160;server.
For more information, see <a href="#Importing_a_Content_View_Version_content-management">Importing a content view version</a>.</p>
</div>
<div class="paragraph">
<p>You can export the following content types in the syncable format from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You cannot export
Ansible collections, Deb content, or Docker content
in the syncable format.</p>
</div>
<div class="paragraph">
<p>The export contains directories with the packages, <strong>listing</strong> files, and metadata of the repository in Yum format that can be used to synchronize in the importing Foreman&#160;server.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Ensure that you set the download policy to <strong>Immediate</strong> for all repositories within the Library lifecycle environment you export.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
<li>
<p>Ensure that you synchronize products you export to the required date.</p>
</li>
<li>
<p>Ensure that the user exporting the content has the <code>Content Exporter</code> role.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Use the organization name or ID to export:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete library \
--organization="<em>My_Organization</em>" \
--format=syncable</pre>
</div>
</div>
</li>
<li>
<p>Optional: Verify that the exported content is located in the export directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># du -sh /var/lib/pulp/exports/<em>My_Organization</em>/Export-<em>My_Repository</em>/1.0/2021-03-02T03-35-24-00-00</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Importing_Syncable_Exports_content-management"><a class="anchor" href="#Importing_Syncable_Exports_content-management"></a>10.5. Importing syncable exports</h3>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Use the organization name or ID to import syncable exports:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-import library
--organization="<em>My_Organization</em>"
--path="<em>My_Path_To_Syncable_Export</em>"</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Syncable exports must be located in one of your <code>ALLOWED_IMPORT_PATHS</code> as specified in <code>/etc/pulp/settings.py</code>.
By default, this includes <code>/var/lib/pulp/imports</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="exporting-the-library-environment-incrementally_content-management"><a class="anchor" href="#exporting-the-library-environment-incrementally_content-management"></a>10.6. Exporting the Library environment incrementally</h3>
<div class="paragraph">
<p>Exporting Library content can be a very expensive operation in terms of system resources.
Organizations that have multiple Enterprise Linux trees can occupy several gigabytes of space on Foreman&#160;server.</p>
</div>
<div class="paragraph">
<p>In such cases, you can create an incremental export which contains only pieces of content that have changed since the last export.
Incremental exports typically result in smaller archive files than the full exports.</p>
</div>
<div class="paragraph">
<p>You can export the following content from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ansible collections</p>
</li>
<li>
<p>Deb content</p>
</li>
<li>
<p>Docker content</p>
</li>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The example below shows incremental export of all repositories in the organization&#8217;s Library.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create an incremental export:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export incremental library \
--organization="<em>My_Organization</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to create a syncable export, add <code>--format=syncable</code>.
By default, Foreman creates an importable export.</p>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>Optional: View the exported data:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># find /var/lib/pulp/exports/<em>My_Organization</em>/Export-Library/</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Exporting_a_Content_View_Version_content-management"><a class="anchor" href="#Exporting_a_Content_View_Version_content-management"></a>10.7. Exporting a content view version</h3>
<div class="paragraph">
<p>You can export a version of a content view to an archive file from Foreman&#160;server and use this archive file to create the same content view version on another Foreman&#160;server or on another Foreman&#160;server organization.
Foreman exports composite content views as normal content views.
The composite nature is not retained.
On importing the exported archive, a regular content view is created or updated on your downstream Foreman&#160;server.
The exported archive file contains the following data:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A JSON file containing content view version metadata</p>
</li>
<li>
<p>An archive file containing all the repositories included into the content view version</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can export the following content from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ansible collections</p>
</li>
<li>
<p>Deb content</p>
</li>
<li>
<p>Docker content</p>
</li>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Foreman does not export content view definitions and metadata such as package filters.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>To export a content view, ensure that Foreman&#160;server where you want to export meets the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure that the export directory has free storage space to accommodate the export.</p>
</li>
<li>
<p>Ensure that the <code>/var/lib/pulp/exports</code> directory has free storage space equivalent to the size of the repositories being exported for temporary files created during the export process.</p>
</li>
<li>
<p>Ensure that you set download policy to <strong>Immediate</strong> for all repositories within the content view you export.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
<li>
<p>Ensure that you synchronize products that you export to the required date.</p>
</li>
<li>
<p>Ensure that the user exporting the content has the <code>Content Exporter</code> role.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">To export a content view version</div>
<ol class="arabic">
<li>
<p>List versions of the content view that are available for export:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer content-view version list \
--content-view="<em>My_Content_View</em>" \
--organization="<em>My_Organization</em>"

---|----------|---------|-------------|-----------------------
ID | NAME     | VERSION | DESCRIPTION | LIFECYCLE ENVIRONMENTS
---|----------|---------|-------------|-----------------------
5  | view 3.0 | 3.0     |             | Library
4  | view 2.0 | 2.0     |             |
3  | view 1.0 | 1.0     |             |
---|----------|---------|-------------|----------------------</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Export a content view version</div>
<ol class="arabic">
<li>
<p>Get the version number of desired version.
The following example targets version <code>1.0</code> for export.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete version \
--content-view="<em>Content_View_Name</em>" \
--version=1.0 \
--organization="<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Verify that the archive containing the exported version of a content view is located in the export directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls -lh /var/lib/pulp/exports/<em>My_Organization</em>/<em>Content_View_Name</em>/1.0/2021-02-25T18-59-26-00-00/</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>You require all three files, for example, the <code>tar.gz</code> archive file, the <code>toc.json</code> and <code>metadata.json</code> to import the content successfully.</p>
</div>
<div class="paragraph">
<div class="title">Export with chunking</div>
<p>In many cases, the exported archive content can be several gigabytes in size.
You might want to split it smaller sizes or chunks.
You can use the <code>--chunk-size-gb</code> option with in the <code>hammer content-export</code> command to handle this.
The following example uses the <code>--chunk-size-gb=2</code> to split the archives into <code>2 GB</code> chunks.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete version \
--chunk-size-gb=2 \
--content-view="<em>Content_View_Name</em>" \
--organization="<em>My_Organization</em>" \
--version=1.0
# ls -lh /var/lib/pulp/exports/<em>My_Organization</em>/view/1.0/2021-02-25T21-15-22-00-00/</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Exporting_a_Content_View_Version_in_a_Syncable_Format_content-management"><a class="anchor" href="#Exporting_a_Content_View_Version_in_a_Syncable_Format_content-management"></a>10.8. Exporting a content view version in a syncable format</h3>
<div class="paragraph">
<p>You can export a version of a content view to a syncable format that you can use to create your custom CDN.
After you have exported the content view, you can do either of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Synchronize the content from your custom CDN over HTTP/HTTPS.</p>
</li>
<li>
<p>Import the content using <code>hammer content-import</code>.
Note that this requires both the Export and Import servers to run Foreman nightly.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can use the generated content to create the same repository in another Foreman&#160;server or in another Foreman&#160;server organization using content import.
On importing the exported archive, a regular content view is created or updated on your downstream Foreman&#160;server.
For more information, see <a href="#Importing_a_Content_View_Version_content-management">Importing a content view version</a>.</p>
</div>
<div class="paragraph">
<p>The export contains directories with the packages, <strong>listing</strong> files, and metadata of the repository in Yum format that can be used to synchronize in the importing Foreman&#160;server.</p>
</div>
<div class="paragraph">
<p>You can export the following content types in the syncable format from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You cannot export
Ansible collections, Deb content, or Docker content
in the syncable format.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Ensure that you set the download policy to <strong>Immediate</strong> for all repositories within the content view you export.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
<li>
<p>Ensure that you synchronize products you export to the required date.</p>
</li>
<li>
<p>Ensure that the user exporting the content has the <code>Content Exporter</code> role.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">To export a content view version</div>
<ul>
<li>
<p>List versions of the content view that are available for export:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer content-view version list \
--content-view="<em>My_Content_View</em>" \
--organization="<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Get the version number of desired version.
The following example targets version <code>1.0</code> for export:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete version \
--content-view="<em>Content_View_Name</em>" \
--version=1.0 \
--organization="<em>My_Organization</em>" \
--format=syncable</pre>
</div>
</div>
</li>
<li>
<p>Optional: Verify that the exported content is located in the export directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls -lh /var/lib/pulp/exports/<em>My_Organization</em>/<em>My_Content_View_Name</em>/1.0/2021-02-25T18-59-26-00-00/</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Exporting_a_Content_View_Version_Incrementally_content-management"><a class="anchor" href="#Exporting_a_Content_View_Version_Incrementally_content-management"></a>10.9. Exporting a content view version incrementally</h3>
<div class="paragraph">
<p>Exporting complete content view versions can be a very expensive operation in terms of system resources.
Content view versions that have multiple Enterprise Linux trees can occupy several gigabytes of space on Foreman&#160;server.</p>
</div>
<div class="paragraph">
<p>In such cases, you can create an incremental export which contains only pieces of content that have changed since the last export.
Incremental exports typically result in smaller archive files than the full exports.</p>
</div>
<div class="paragraph">
<p>You can export the following content from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ansible collections</p>
</li>
<li>
<p>Deb content</p>
</li>
<li>
<p>Docker content</p>
</li>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create an incremental export:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export incremental version \
--content-view="<em>My_Content_View</em>" \
--organization="<em>My_Organization</em>" \
--version="<em>My_Content_View_Version</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to create a syncable export, add <code>--format=syncable</code>.
By default, Foreman creates an importable export.</p>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>Optional: View the exported content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># find /var/lib/pulp/exports/<em>My_Organization</em>/<em>My_Exported_Content_View</em>/<em>My_Content_View_Version</em>/</pre>
</div>
</div>
</li>
<li>
<p>You can import your exported content view version into Foreman&#160;server.
For more information, see <a href="#Importing_a_Content_View_Version_content-management">Importing a content view version</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Exporting_a_Repository_content-management"><a class="anchor" href="#Exporting_a_Repository_content-management"></a>10.10. Exporting a repository</h3>
<div class="paragraph">
<p>You can export the content of a repository in the Library environment of an organization from Foreman&#160;server.
You can use this archive file to create the same repository in another Foreman&#160;server or in another Foreman&#160;server organization.</p>
</div>
<div class="paragraph">
<p>You can export the following content from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ansible collections</p>
</li>
<li>
<p>Deb content</p>
</li>
<li>
<p>Docker content</p>
</li>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The export contains the following data:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Two JSON files containing repository metadata.</p>
</li>
<li>
<p>One or more archive files containing the contents of the repository from the Library environment of the organization.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You need all the files, <code>tar.gz</code>, <code>toc.json</code> and <code>metadata.json</code>, to be able to import.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Ensure that the export directory has enough free storage space to accommodate the export.</p>
</li>
<li>
<p>Ensure that the <code>/var/lib/pulp/exports</code> directory has enough free storage space equivalent to the size of all repositories that you want to export.</p>
</li>
<li>
<p>Ensure that you set download policy to <strong>Immediate</strong> for the repository within the Library lifecycle environment you export.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
<li>
<p>Ensure that you synchronize products that you export to the required date.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Export a repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete repository \
--name="<em>My_Repository</em>" \
--product="<em>My_Product</em>" \
--organization="<em>My_Organization</em>"</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The size of the exported archive depends on the number and size of the packages within the repository.
If you want to split the exported archive into chunks, export your repository using the <code>--chunk-size-gb</code> argument to limit the size by an integer value in gigabytes, for example <code>--chunk-size-gb=<em>2</em></code>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optional: Verify that the exported archive is located in the export directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls -lh /var/lib/pulp/exports/<em>My_Organization</em>/Export-<em>My_Repository</em>/1.0/2022-09-02T03-35-24-00-00/</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Exporting_a_Repository_in_a_Syncable_Format_content-management"><a class="anchor" href="#Exporting_a_Repository_in_a_Syncable_Format_content-management"></a>10.11. Exporting a repository in a syncable format</h3>
<div class="paragraph">
<p>You can export the content of a repository in the Library environment of an organization to a syncable format that you can use to create your custom CDN and synchronize the content from the custom CDN over HTTP/HTTPS.</p>
</div>
<div class="paragraph">
<p>You can use the generated content to create the same repository in another Foreman&#160;server or in another Foreman&#160;server organization using content import.
On importing the exported archive, a regular content view is created or updated on your downstream Foreman&#160;server.
For more information, see <a href="#Importing_a_Content_View_Version_content-management">Importing a content view version</a>.</p>
</div>
<div class="paragraph">
<p>The export contains directories with the packages, <strong>listing</strong> files, and metadata of the repository in Yum format that can be used to synchronize in the importing Foreman&#160;server.</p>
</div>
<div class="paragraph">
<p>You can export the following content types in the syncable format from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You cannot export
Ansible collections, Deb content, or Docker content
in the syncable format.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Ensure that you set the download policy to <strong>Immediate</strong> for the repository within the Library lifecycle environment you export.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Export a repository using the repository name or ID:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete repository \
--organization="<em>My_Organization</em>" \
--product="<em>My_Product</em>" \
--name="<em>My_Repository</em>" \
--format=syncable</pre>
</div>
</div>
</li>
<li>
<p>Optional: Verify that the exported content is located in the export directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># du -sh /var/lib/pulp/exports/<em>My_Organization</em>/Export-<em>My_Repository</em>/1.0/2021-03-02T03-35-24-00-00</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="exporting-a-repository-incrementally"><a class="anchor" href="#exporting-a-repository-incrementally"></a>10.12. Exporting a repository incrementally</h3>
<div class="paragraph">
<p>Exporting a repository can be a very expensive operation in terms of system resources.
A typical Enterprise Linux tree may occupy several gigabytes of space on Foreman&#160;server.</p>
</div>
<div class="paragraph">
<p>In such cases, you can use <strong>Incremental Export</strong> to export only pieces of content that changed since the previous export.
Incremental exports typically result in smaller archive files than the full exports.</p>
</div>
<div class="paragraph">
<p>You can export the following content from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ansible collections</p>
</li>
<li>
<p>Deb content</p>
</li>
<li>
<p>Docker content</p>
</li>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The example below shows incremental export of a repository in the Library lifecycle environment.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create an incremental export:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export incremental repository \
--name="<em>My_Repository</em>" \
--organization="<em>My_Organization</em>" \
--product="<em>My_Product</em>"</pre>
</div>
</div>
</li>
<li>
<p>Optional: View the exported data:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls -lh /var/lib/pulp/exports/<em>My_Organization</em>/Export-<em>My_Repository</em>/3.0/2021-03-02T03-35-24-00-00/
total 172K
-rw-r--r--. 1 pulp pulp  20M Mar  2 04:22 export-436882d8-de5a-48e9-a30a-17169318f908-20210302_0422.tar.gz
-rw-r--r--. 1 pulp pulp  333 Mar  2 04:22 export-436882d8-de5a-48e9-a30a-17169318f908-20210302_0422-toc.json
-rw-r--r--. 1 root root  492 Mar  2 04:22 metadata.json</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Exporting_a_Repository_Incrementally_in_a_Syncable_Format_content-management"><a class="anchor" href="#Exporting_a_Repository_Incrementally_in_a_Syncable_Format_content-management"></a>10.13. Exporting a repository incrementally in a syncable format</h3>
<div class="paragraph">
<p>Exporting a repository can be a very expensive operation in terms of system resources.
A typical Enterprise Linux tree may occupy several gigabytes of space on Foreman&#160;server.</p>
</div>
<div class="paragraph">
<p>In such cases, you can use <strong>Incremental Export</strong> to export only pieces of content that changed since the previous export.
Incremental exports typically result in smaller archive files than full exports.</p>
</div>
<div class="paragraph">
<p>You can export the following content types in the syncable format from Foreman&#160;server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Custom file type content</p>
</li>
<li>
<p>Kickstart repositories</p>
</li>
<li>
<p>Yum content</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You cannot export
Ansible collections, Deb content, or Docker content
in the syncable format.</p>
</div>
<div class="paragraph">
<p>The procedure below shows an incremental export of a repository in the Library lifecycle environment.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create an incremental export:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export incremental repository \
--format=syncable \
--name="<em>My_Repository</em>" \
--organization="<em>My_Organization</em>" \
--product="<em>My_Product</em>"</pre>
</div>
</div>
</li>
<li>
<p>Optional: View the exported data:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># find /var/lib/pulp/exports/Default_Organization/<em>My_Product</em>/2.0/2023-03-09T10-55-48-05-00/ -name "*.rpm"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Keeping_Track_of_Your_Exports_content-management"><a class="anchor" href="#Keeping_Track_of_Your_Exports_content-management"></a>10.14. Keeping track of your exports</h3>
<div class="paragraph">
<p>Foreman keeps records of all exports.
Each time you export content on the upstream Foreman&#160;server, the export is recorded and maintained for future querying.
You can use the records to organize and manage your exports, which is useful especially when exporting incrementally.</p>
</div>
<div class="paragraph">
<p>When exporting content from the upstream Foreman&#160;server for several downstream Foreman&#160;servers, you can also keep track of content exported for specific servers.
This helps you track which content was exported and to where.</p>
</div>
<div class="paragraph">
<p>Use the <code>--destination-server</code> argument during export to indicate the target server.
This option is available for all <code>content-export</code> operations.</p>
</div>
<div class="ulist">
<div class="title">Tracking destinations of Library exports</div>
<ul>
<li>
<p>Specify the destination server when exporting the Library:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete library \
--destination-server=<em>My_Downstream_Server_1</em> \
--organization="<em>My_Organization</em>" \
--version=1.0</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Tracking destinations of content view exports</div>
<ul>
<li>
<p>Specify the destination server when exporting a content view version:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete version \
--content-view="<em>Content_View_Name</em>" \
--destination-server=<em>My_Downstream_Server_1</em> \
--organization="<em>My_Organization</em>" \
--version=1.0</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Querying export records</div>
<ul>
<li>
<p>List content exports using the following command:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer content-export list --organization="<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Importing_into_the_Library_Environment_content-management"><a class="anchor" href="#Importing_into_the_Library_Environment_content-management"></a>10.15. Importing into the Library environment</h3>
<div class="paragraph">
<p>You can import exported Library content into the Library lifecycle environment of an organization on another Foreman&#160;server.
For more information about exporting contents from the Library environment, see <a href="#Exporting_the_Library_Environment_content-management">Exporting the Library environment</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The exported files must be in a directory under <code>/var/lib/pulp/imports</code>.</p>
</li>
<li>
<p>If there are any Red Hat repositories in the exported content, the importing organization&#8217;s manifest must contain subscriptions for the products contained within the export.</p>
</li>
<li>
<p>The user importing the content must have the <em>Content Importer</em> Role.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Copy the exported files to a subdirectory of <code>/var/lib/pulp/imports</code> on Foreman&#160;server where you want to import.</p>
</li>
<li>
<p>Set the ownership of the import directory and its contents to <code>pulp:pulp</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># chown -R pulp:pulp /var/lib/pulp/imports/2021-03-02T03-35-24-00-00/</pre>
</div>
</div>
</li>
<li>
<p>Verify that the ownership is set correctly:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls -lh /var/lib/pulp/imports/2021-03-02T03-35-24-00-00
total 68M
-rw-r--r--. 1 pulp pulp 68M Mar  2 04:29 export-1e25417c-6d09-49d4-b9a5-23df4db3d52a-20210302_0335.tar.gz
-rw-r--r--. 1 pulp pulp 333 Mar  2 04:29 export-1e25417c-6d09-49d4-b9a5-23df4db3d52a-20210302_0335-toc.json
-rw-r--r--. 1 pulp pulp 443 Mar  2 04:29 metadata.json</pre>
</div>
</div>
</li>
<li>
<p>Identify the Organization that you want to import into.</p>
</li>
<li>
<p>Import the Library content to Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer content-import library \
--organization="<em>My_Organization</em>" \
--path=/var/lib/pulp/imports/2021-03-02T03-35-24-00-00/</pre>
</div>
</div>
<div class="paragraph">
<p>You must specify the absolute path as in the example: <code>/var/lib/pulp/imports/2021-03-02T03-35-24-00-00/</code>.
Relative paths do not work.</p>
</div>
</li>
<li>
<p>Verify that you imported the Library content by checking the contents of the product and repositories.
A new content view called <code>Import-Library</code> is created in the target organization.
This content view is used to facilitate the Library content import.</p>
<div class="paragraph">
<p>By default, this content view is not shown in the Foreman web UI.
<code>Import-Library</code> is not meant to be assigned directly to hosts.
Instead, assign your hosts to <code>Default Organization View</code> or another content view as you would normally.</p>
</div>
<div class="paragraph">
<p>The importing Foreman&#160;server extracts the <code>/var/lib/pulp/imports</code> directory to <code>/var/lib/pulp/</code>.</p>
</div>
</li>
<li>
<p>Delete the import files after a successful import:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># rm -fr /var/lib/pulp/imports/2021-03-02T03-35-24-00-00/</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Importing_into_the_Library_Environment_from_a_web_server_content-management"><a class="anchor" href="#Importing_into_the_Library_Environment_from_a_web_server_content-management"></a>10.16. Importing into the Library environment from a web server</h3>
<div class="paragraph">
<p>You can import exported Library content directly from a web server into the Library lifecycle environment of an organization on another Foreman&#160;server.
For more information about exporting contents from the Library environment, see <a href="#Exporting_the_Library_Environment_content-management">Exporting the Library environment</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The exported files must be in a syncable format.</p>
</li>
<li>
<p>The exported files must be accessible through HTTP/HTTPS.</p>
</li>
<li>
<p>If there are any Red Hat repositories in the exported content, the importing organization&#8217;s manifest must contain subscriptions for the products contained within the export.</p>
</li>
<li>
<p>The user importing the content view version must have the <em>Content Importer</em> role.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Identify the Organization that you wish to import into.</p>
</li>
<li>
<p>To import the Library content to Foreman&#160;server, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-import library \
--organization="<em>My_Organization</em>" \
--path=http://<em>server.example.com</em>/pub/exports/2021-02-25T21-15-22-00-00/</pre>
</div>
</div>
<div class="paragraph">
<p>A new content view called <code>Import-Library</code> is created in the target organization.
This content view is used to facilitate the Library content import.</p>
</div>
<div class="paragraph">
<p>By default, this content view is not shown in the Foreman web UI.
<code>Import-Library</code> is not meant to be assigned directly to hosts.
Instead, assign your hosts to <code>Default Organization View</code> or another content view.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Importing_a_Content_View_Version_content-management"><a class="anchor" href="#Importing_a_Content_View_Version_content-management"></a>10.17. Importing a content view version</h3>
<div class="paragraph">
<p>You can import an exported content view version to create a version with the same content in an organization on another Foreman&#160;server.
For more information about exporting a content view version, see <a href="#Exporting_a_Content_View_Version_content-management">Exporting a content view version</a>.</p>
</div>
<div class="paragraph">
<p>When you import a content view version, it has the same major and minor version numbers and contains the same repositories with the same packages and errata.
Custom repositories, products and content views are automatically created if they do not exist in the importing organization.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The exported files must be in a directory under <code>/var/lib/pulp/imports</code>.</p>
</li>
<li>
<p>If there are any Red Hat repositories in the exported content, the importing organization&#8217;s manifest must contain subscriptions for the products contained within the export.</p>
</li>
<li>
<p>The user importing the content view version must have the <em>Content Importer</em> Role.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Copy the exported files to a subdirectory of <code>/var/lib/pulp/imports</code> on Foreman&#160;server where you want to import.</p>
</li>
<li>
<p>Set the ownership of the import directory and its contents to <code>pulp:pulp</code>:</p>
<div class="listingblock">
<div class="content">
<pre># chown -R pulp:pulp /var/lib/pulp/imports/2021-02-25T21-15-22-00-00/</pre>
</div>
</div>
</li>
<li>
<p>Verify that the ownership is set correctly:</p>
<div class="listingblock">
<div class="content">
<pre># ls -lh /var/lib/pulp/imports/2021-02-25T21-15-22-00-00/</pre>
</div>
</div>
</li>
<li>
<p>Import the content view version to Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-import version \
--organization=<em>My_Organization</em> \
--path=/var/lib/pulp/imports/2021-02-25T21-15-22-00-00/</pre>
</div>
</div>
<div class="paragraph">
<p>You must specify the absolute path as in the example: <code>/var/lib/pulp/imports/2021-02-25T21-15-22-00-00/</code>.
Relative paths do not work.</p>
</div>
</li>
<li>
<p>Verify that you imported the content view version successfully by listing the content view versions for your organization:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version list \
--organization-id=<em>My_Organization_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>The importing Foreman&#160;server extracts the <code>/var/lib/pulp/imports</code> directory to <code>/var/lib/pulp/</code>.</p>
</div>
</li>
<li>
<p>Delete the import files after a successful import:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># rm -fr /var/lib/pulp/imports/2021-02-25T21-15-22-00-00/</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Importing_a_Content_View_Version_from_a_web_servercontent-management"><a class="anchor" href="#Importing_a_Content_View_Version_from_a_web_servercontent-management"></a>10.18. Importing a content view version from a web server</h3>
<div class="paragraph">
<p>You can import an exported content view version directly from a web server to create a version with the same content in an organization on another Foreman&#160;server.
For more information about exporting a content view version, see <a href="#Exporting_a_Content_View_Version_content-management">Exporting a content view version</a>.</p>
</div>
<div class="paragraph">
<p>When you import a content view version, it has the same major and minor version numbers and contains the same repositories with the same packages and errata.
Custom repositories, products, and content views are automatically created if they do not exist in the importing organization.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The exported files must be in a syncable format.</p>
</li>
<li>
<p>The exported files must be accessible through HTTP/HTTPS.</p>
</li>
<li>
<p>If there are any Red Hat repositories in the exported content, the importing organization&#8217;s manifest must contain subscriptions for the products contained within the export.</p>
</li>
<li>
<p>The user importing the content view version must have the <em>Content Importer</em> role.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Import the content view version into Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-import version \
--organization=<em>My_Organization</em> \
--path=http://<em>server.example.com</em>/pub/exports/2021-02-25T21-15-22-00-00/</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Importing_a_Repository_content-management"><a class="anchor" href="#Importing_a_Repository_content-management"></a>10.19. Importing a repository</h3>
<div class="paragraph">
<p>You can import an exported repository into an organization on another Foreman&#160;server.
For more information about exporting content of a repository, see <a href="#Exporting_a_Repository_content-management">Exporting a repository</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The export files must be in a directory under <code>/var/lib/pulp/imports</code>.</p>
</li>
<li>
<p>If the export contains any Red Hat repositories, the manifest of the importing organization must contain subscriptions for the products contained within the export.</p>
</li>
<li>
<p>The user importing the content must have the <em>Content Importer</em> Role.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Copy the exported files to a subdirectory of <code>/var/lib/pulp/imports</code> on Foreman&#160;server where you want to import.</p>
</li>
<li>
<p>Set the ownership of the import directory and its contents to <code>pulp:pulp</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># chown -R pulp:pulp /var/lib/pulp/imports/2021-03-02T03-35-24-00-00/</pre>
</div>
</div>
</li>
<li>
<p>Verify that the ownership is set correctly:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls -lh /var/lib/pulp/imports/2021-03-02T03-35-24-00-00
total 68M
-rw-r--r--. 1 pulp pulp 68M Mar  2 04:29 export-1e25417c-6d09-49d4-b9a5-23df4db3d52a-20210302_0335.tar.gz
-rw-r--r--. 1 pulp pulp 333 Mar  2 04:29 export-1e25417c-6d09-49d4-b9a5-23df4db3d52a-20210302_0335-toc.json
-rw-r--r--. 1 pulp pulp 443 Mar  2 04:29 metadata.json</pre>
</div>
</div>
</li>
<li>
<p>Identify the Organization that you want to import into.</p>
</li>
<li>
<p>Import the repository content into Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre>$ hammer content-import repository \
--organization="<em>My_Organization</em>" \
--path=/var/lib/pulp/imports/2021-03-02T03-35-24-00-00/</pre>
</div>
</div>
<div class="paragraph">
<p>You must specify the absolute path as in the example: <code>/var/lib/pulp/imports/2021-03-02T03-35-24-00-00</code>.
Relative paths do not work.</p>
</div>
</li>
<li>
<p>Verify that you imported the repository by checking the contents of the product and repository.
The importing Foreman&#160;server extracts the <code>/var/lib/pulp/imports</code> directory to <code>/var/lib/pulp/</code>.</p>
</li>
<li>
<p>Delete the import files after a successful import:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># rm -fr /var/lib/pulp/imports/2021-03-02T03-35-24-00-00/</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Importing_a_Repository_from_a_web_server_content-management"><a class="anchor" href="#Importing_a_Repository_from_a_web_server_content-management"></a>10.20. Importing a repository from a web server</h3>
<div class="paragraph">
<p>You can import an exported repository directly from a web server into an organization on another Foreman&#160;server.
For more information about exporting the content of a repository, see <a href="#Exporting_a_Repository_content-management">Exporting a repository</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The exported files must be in a syncable format.</p>
</li>
<li>
<p>The exported files must be accessible through HTTP/HTTPS.</p>
</li>
<li>
<p>If the export contains any Red Hat repositories, the manifest of the importing organization must contain subscriptions for the products contained within the export.</p>
</li>
<li>
<p>The user importing the content view version must have the <em>Content Importer</em> Role.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Select the organization into which you want to import.</p>
</li>
<li>
<p>Import the repository to Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-import repository \
--organization="<em>My_Organization</em>" \
--path=http://<em>server.example.com</em>/pub/exports/2021-02-25T21-15-22-00-00/</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Exporting_and_Importing_Content_Using_Hammer_CLI_Cheat_Sheet_content-management"><a class="anchor" href="#Exporting_and_Importing_Content_Using_Hammer_CLI_Cheat_Sheet_content-management"></a>10.21. Exporting and importing content using Hammer CLI cheat sheet</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 21. Export</caption>
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Intent</th>
<th class="tableblock halign-left valign-top">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully export an Organization&#8217;s Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-export complete library --organization="<em>My_Organization</em>"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Incrementally export an Organization&#8217;s Library (assuming you have exported something previously)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-export incremental library --organization="<em>My_Organization</em>"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully export a content view version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-export complete version --content-view="<em>My_Content_View</em>" --version=1.0 --organization="<em>My_Organization</em>"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export a content view version promoted to the Dev Environment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-export complete version --content-view="<em>My_Content_View</em>" --organization="<em>My_Organization</em>" --lifecycle-environment="Dev"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export a content view in smaller chunks (2-GB slabs)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-export complete version --content-view="<em>My_Content_View</em>" --version=1.0 --organization="<em>My_Organization</em>" --chunk-size-gb=2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Incrementally export a content view version (assuming you have exported something previously)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-export incremental version --content-view="<em>My_Content_View</em>" --version=2.0 --organization="<em>My_Organization</em>"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully export a Repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-export complete repository --product="<em>My_Product</em>" --name="<em>My_Repository</em>" --organization="<em>My_Organization</em>"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Incrementally export a Repository (assuming you have exported something previously)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-export incremental repository --product="<em>My_Product</em>" --name="<em>My_Repository</em>" --organization="<em>My_Organization</em>"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List exports</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-export list --content-view="<em>My_Content_View</em>" --organization="<em>My_Organization</em>"</code></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 22. Import</caption>
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Intent</th>
<th class="tableblock halign-left valign-top">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import into an Organization&#8217;s Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-import library --organization="<em>My_Organization</em>" --path="/var/lib/pulp/imports/<em>My_Exported_Library_Dir</em>"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import to a content view version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-import version --organization="<em>My_Organization</em>" --path="/var/lib/pulp/imports/<em>My_Exported_Version_Dir</em>"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import a Repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hammer content-import repository --organization="<em>My_Organization</em>" --path="/var/lib/pulp/imports/<em>My_Exported_Repo_Dir</em>"</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_Activation_Keys_content-management"><a class="anchor" href="#Managing_Activation_Keys_content-management"></a>11. Managing activation keys</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Activation keys provide a method to automate system registration.
You can create multiple keys and associate them with different environments and content views.
For example, you might create a basic activation key that enables certain Red Hat repositories and associate it with the appropriate content view.</p>
</div>
<div class="paragraph">
<p>You can use activation keys during content host registration to improve the speed, simplicity and consistency of the process.
Note that activation keys are used only when hosts are registered.
If changes are made to an activation key, it is applicable only to hosts that are registered with the amended activation key in the future.
The changes are not made to existing hosts.</p>
</div>
<div class="paragraph">
<p>Activation keys can define the following properties for content hosts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Available products and repositories</p>
</li>
<li>
<p>Content view environments</p>
</li>
<li>
<p>Host collection membership</p>
</li>
<li>
<p>System purpose</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Content view conflicts between host creation and registration</div>
<p>When you provision a host, Foreman uses provisioning templates and other content from the content view that you set in the host group or host settings.
When the host is registered, the content view environments from the activation key overwrite the original content view from the host group or host settings.
Then Foreman uses the content view environments from the activation key for every future task, for example, rebuilding a host.</p>
</div>
<div class="paragraph">
<p>When you rebuild a host, ensure that you set the content view that you want to use in the activation key and not in the host group or host settings.</p>
</div>
<div class="paragraph">
<div class="title">Using multiple activation keys with a content host</div>
<p>A host can be associated with multiple activation keys that are combined to define the host settings.
In case of conflicting settings, the last specified activation key takes precedence.
You can specify the order of precedence by setting a host group parameter as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer hostgroup set-parameter \
--hostgroup "<em>My_Host_Group</em>" \
--name "<em>My_Activation_Key</em>" \
--value "<em>name_of_first_key</em>", "<em>name_of_second_key</em>", ...</pre>
</div>
</div>
<div class="sect2">
<h3 id="best-practices-for-activation-keys_content-management"><a class="anchor" href="#best-practices-for-activation-keys_content-management"></a>11.1. Best practices for activation keys</h3>
<div class="ulist">
<ul>
<li>
<p>Create an activation key for each use case.
This structures, modularizes, and simplifies content management on hosts.</p>
</li>
<li>
<p>Use a naming convention for activation keys to indicate the content and lifecycle environment, for example, <code>enterprise-linux-webserver</code>.</p>
</li>
<li>
<p>Automate activation key management by using a Hammer script or an <a href="https://theforeman.github.io/foreman-ansible-modules/develop/index.html">Ansible Playbook</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Creating_an_Activation_Key_content-management"><a class="anchor" href="#Creating_an_Activation_Key_content-management"></a>11.2. Creating an activation key</h3>
<div class="paragraph">
<p>Create an activation key to assign various attributes to hosts during registration.</p>
</div>
<div class="paragraph">
<p>To use the CLI instead of the Foreman web UI, see the <a href="#cli-creating-an-activation-key_content-management">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Activation Keys</strong> and click <strong>Create Activation Key</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter the name of the activation key.</p>
</li>
<li>
<p>If you want to set a limit, clear the <strong>Unlimited hosts</strong> checkbox, and in the <strong>Limit</strong> field, enter the maximum number of systems you can register with the activation key.
If you want unlimited hosts to register with the activation key, ensure the <strong>Unlimited Hosts</strong> checkbox is selected.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description for the activation key.</p>
</li>
<li>
<p>From the <strong>Environment</strong> list, select the environment to use.</p>
</li>
<li>
<p>From the <strong>Content View</strong> list, select a content view to use.</p>
</li>
<li>
<p>In the <strong>Repository Sets</strong> tab, override repositories to Enabled or Disabled as desired.
For more information, see <a href="#enabling-and-disabling-repositories-on-activation-key_content-management">Enabling and disabling repositories on activation key</a>.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>Optional: In the <strong>System Purpose</strong> section, you can configure the activation key to set system purpose attributes on hosts during registration.
This helps determine which repositories are available on the host.
It also helps with reporting in the Subscriptions service of the Red Hat Hybrid Cloud Console.</p>
</li>
</ol>
</div>
<div id="cli-creating-an-activation-key_content-management" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Create the activation key:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer activation-key create \
--name "<em>My_Activation_Key</em>" \
--unlimited-hosts \
--description "<em>Example Stack in the Development Environment</em>" \
--content-view-environments "<em>Development</em>/<em>Stack</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Optional: Configure the activation key with system purpose attributes to set on hosts during registration.
This helps determine which repositories are available on the host.
It also helps with reporting in the Subscriptions service of the Red Hat Hybrid Cloud Console.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer activation-key update \
--organization "<em>My_Organization</em>" \
--name "<em>My_Activation_Key</em>" \
--service-level "<em>Standard</em>" \
--purpose-usage "<em>Development/Test</em>" \
--purpose-role "<em>Red&#160;Hat Enterprise Linux Server</em>"</pre>
</div>
</div>
</li>
<li>
<p>List the product content associated with the activation key:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer activation-key product-content \
--content-access-mode-all true \
--name "<em>My_Activation_Key</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Override the default auto-enable status for the Foreman Client repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer activation-key content-override \
--name "<em>My_Activation_Key</em>" \
--content-label "Foreman Client" \
--value 1 \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>The default status is set to disabled.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Using_Activation_Keys_for_Host_Registration_content-management"><a class="anchor" href="#Using_Activation_Keys_for_Host_Registration_content-management"></a>11.3. Using activation keys for host registration</h3>
<div class="paragraph">
<p>You can use activation keys to complete the following tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Registering new hosts during provisioning through Foreman.
The Kickstart provisioning templates in Foreman contain commands to register the host using an activation key that is defined when creating a host.</p>
</li>
<li>
<p>Registering existing Enterprise Linux hosts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can register hosts with Foreman using the host registration feature in the Foreman web UI, Hammer CLI, or the Foreman API.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#registering-hosts-and-setting-up-host-integration_managing-hosts">Registering hosts and setting up host integration</a> in <em>Managing hosts</em>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts</strong> &gt; <strong>Register Host</strong>.</p>
</li>
<li>
<p>From the <strong>Activation Keys</strong> list, select the activation keys to assign to your host.</p>
</li>
<li>
<p>Click <strong>Generate</strong> to create the registration command.</p>
</li>
<li>
<p>Click on the <em>files</em> icon to copy the command to your clipboard.</p>
</li>
<li>
<p>Connect to your host using SSH and run the registration command.</p>
</li>
<li>
<p>Ensure that the appropriate repositories have been enabled:</p>
<div class="ulist">
<ul>
<li>
<p>On Enterprise Linux: Check the <code>/etc/yum.repos.d/redhat.repo</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
<li>
<p>On Debian: Check the <code>/etc/apt/sources.list</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Generate the host registration command using the Hammer CLI:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer host-registration generate-command \
--activation-keys "<em>My_Activation_Key</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>If your hosts do not trust the SSL certificate of Foreman&#160;server, you can disable SSL validation by adding the <code>--insecure</code> flag to the registration command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer host-registration generate-command \
--activation-keys "<em>My_Activation_Key</em>" \
--insecure true</pre>
</div>
</div>
</li>
<li>
<p>Connect to your host using SSH and run the registration command.</p>
</li>
<li>
<p>Ensure that the appropriate repositories have been enabled:</p>
<div class="ulist">
<ul>
<li>
<p>On Enterprise Linux: Check the <code>/etc/yum.repos.d/redhat.repo</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
<li>
<p>On Debian: Check the <code>/etc/apt/sources.list</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">API procedure</div>
<ol class="arabic">
<li>
<p>Generate the host registration command using the Foreman API:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl -X POST https://foreman.example.com/api/registration_commands \
--user "<em>My_User_Name</em>" \
-H 'Content-Type: application/json' \
-d '{ "registration_command": { "activation_keys": ["<em>My_Activation_Key_1</em>, <em>My_Activation_Key_2</em>"] }}'</pre>
</div>
</div>
<div class="paragraph">
<p>If your hosts do not trust the SSL certificate of Foreman&#160;server, you can disable SSL validation by adding the <code>--insecure</code> flag to the registration command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl -X POST https://foreman.example.com/api/registration_commands \
--user "<em>My_User_Name</em>" \
-H 'Content-Type: application/json' \
-d '{ "registration_command": { "activation_keys": ["<em>My_Activation_Key_1</em>, <em>My_Activation_Key_2</em>"], "insecure": true }}'</pre>
</div>
</div>
<div class="paragraph">
<p>Use an activation key to simplify specifying the environments.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#Managing_Activation_Keys_content-management">Managing Activation Keys</a> in <em>Managing content</em>.</p>
</div>
<div class="paragraph">
<p>To enter a password as a command line argument, use <code>username:password</code> syntax.
Keep in mind this can save the password in the shell history.
Alternatively, you can use a temporary personal access token instead of a password.
To generate a token in the Foreman web UI, navigate to <strong>My Account</strong> &gt; <strong>Personal Access Tokens</strong>.</p>
</div>
</li>
<li>
<p>Connect to your host using SSH and run the registration command.</p>
</li>
<li>
<p>Ensure that the appropriate repositories have been enabled:</p>
<div class="ulist">
<ul>
<li>
<p>On Enterprise Linux: Check the <code>/etc/yum.repos.d/redhat.repo</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
<li>
<p>On Debian: Check the <code>/etc/apt/sources.list</code> file and ensure that the appropriate repositories have been enabled.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Multiple activation keys</div>
<p>You can use multiple activation keys when registering a content host.
For example, you can use one activation key to enable specific repositories and another to assign content view environments.</p>
</div>
<div class="paragraph">
<div class="title">Settings conflicts</div>
<p>If there are conflicting settings in activation keys, the rightmost key takes precedence.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Settings that conflict: <strong>Service Level</strong>, <strong>Release Version</strong>, <strong>Environment</strong>, <strong>Content View</strong>, and <strong>Product Content</strong>.</p>
</li>
<li>
<p>Settings that do not conflict and the host gets the union of them: <strong>Host Collections</strong>.</p>
</li>
<li>
<p>Settings that influence the behavior of the key itself and not the host configuration: <strong>Content Host Limit</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Setting_the_Service_Level_content-management"><a class="anchor" href="#Setting_the_Service_Level_content-management"></a>11.4. Setting the service level</h3>
<div class="paragraph">
<p>You can configure an activation key to define a default service level for the new host created with the activation key.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Activation Keys</strong>.</p>
</li>
<li>
<p>Click the activation key name you want to edit.</p>
</li>
<li>
<p>Click the edit icon next to <strong>Service Level</strong>.</p>
</li>
<li>
<p>Select the required service level from the list.
The list only contains service levels available to the activation key.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">CLI procedure</div>
<ul>
<li>
<p>Set the service level to Premium on your activation key:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer activation-key update \
--name "<em>My_Activation_Key</em>" \
--organization "<em>My_Organization</em>" \
--service-level premium</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enabling-and-disabling-repositories-on-activation-key_content-management"><a class="anchor" href="#enabling-and-disabling-repositories-on-activation-key_content-management"></a>11.5. Enabling and disabling repositories on activation key</h3>
<div class="paragraph">
<p>You can enable or disable repositories on an activation key in the Foreman web UI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Activation Keys</strong>.</p>
</li>
<li>
<p>Select an activation key.</p>
</li>
<li>
<p>Select the <strong>Repository Sets</strong> tab.</p>
</li>
<li>
<p>Optional: Clear the <strong>Limit to Environment</strong> checkbox to view repositories that are available in the lifecycle environment of the activation key.</p>
</li>
<li>
<p>Optional: Use the <strong>Repository type</strong> dropdown menu to filter repositories by type.</p>
</li>
<li>
<p>Optional: Use the <strong>Status</strong> dropdown menu to filter repositories by status.</p>
</li>
<li>
<p>Select the desired repositories or click the <strong>Select All</strong> checkbox to select all repositories.</p>
</li>
<li>
<p>From the <strong>Select Action</strong> list, select <strong>Override to Enabled</strong>, <strong>Override to Disabled</strong>, or <strong>Reset to Default</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="multiple-activation-keys-and-content-view-environments"><a class="anchor" href="#multiple-activation-keys-and-content-view-environments"></a>11.6. Multiple activation keys and content view environments</h3>
<div class="paragraph">
<p>Registering a host with multiple activation keys assigns different attributes from each key, and their combined settings determine the configuration of the host.
Note that multiple activation keys and multiple content view environments are not the same.
Activation keys assign specific attributes to hosts during registration.
For instance, one activation key assigns system purpose attributes, another assigns repository set content overrides, and a third assigns the content view environments for the host.
When you register a host with these three activation keys, it inherits the system purpose attributes, content overrides, and content view environments from all the keys combined.</p>
</div>
<div class="paragraph">
<p>When multiple activation keys assign the same attributes, Foreman decides how to resolve conflicts.
In general, the host receives the union of non-conflicting settings and the setting from the last activation key for conflicting settings.</p>
</div>
<div class="paragraph">
<p>Conflicting settings, where the setting from the last activation key wins, include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>System purpose attributes</p>
</li>
<li>
<p>Release version</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Non-conflicting settings, where the host receives the union of them, include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Host collections</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Behavior according to the <strong>Allow multiple content views</strong> setting</div>
<p>Activation key behavior regarding multiple content view environments depends on the <strong>Allow multiple content views</strong> setting.
If you enable <strong>Allow multiple content views</strong>, content view environments are treated as non-conflicting.
If you disable <strong>Allow multiple content views</strong>, content view environments are considered conflicting.</p>
</div>
<div class="paragraph">
<p>When you enable <strong>Allow multiple content views</strong> and register a host with multiple activation keys, the host receives all content view environments from each activation key, in the order they are passed.</p>
</div>
<div class="exampleblock">
<div class="title">Example 5. Example with <strong>Allow multiple content views</strong> enabled</div>
<div class="content">
<div class="paragraph">
<p>Assuming that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Activation key <code>ak_multi</code> assigns content view environments <code>dev/cv2</code>, <code>dev/cv3</code>.</p>
</li>
<li>
<p>Activation key <code>ak4</code> assigns content view environments <code>dev/cv4</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A host registered with activation keys <code>ak_multi</code> and <code>ak4</code> receives content view environments <code>dev/cv2</code>, <code>dev/cv3</code>, and <code>dev/cv4</code>.</p>
</div>
<div class="paragraph">
<p>If the order is reversed, with <code>ak4</code> followed by <code>ak_multi</code>, the host receives content view environments <code>dev/cv4</code>, <code>dev/cv2</code>, and <code>dev/cv3</code>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>When you disable <strong>Allow multiple content views</strong> and register a host with multiple activation keys, the host receives the content view environments from the last activation key with any content view environments.
If any of the activation keys is a multi-environment activation key, registration fails with an error, regardless of the order.</p>
</div>
<div class="exampleblock">
<div class="title">Example 6. Example with <strong>Allow multiple content views</strong> disabled</div>
<div class="content">
<div class="paragraph">
<p>Assuming that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Activation key <code>ak_multi</code> assigns content view environments <code>dev/cv2</code>, <code>dev/cv3</code>.</p>
</li>
<li>
<p>Activation key <code>ak4</code> assigns content view environment <code>dev/cv4</code>.</p>
</li>
<li>
<p>Activation key <code>ak5</code> assigns content view environment <code>dev/cv5</code>.</p>
</li>
<li>
<p>Activation key <code>ak_none</code> assigns no content view environments.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you attempt to register a host with activation keys <code>ak_multi</code>, <code>ak4</code>, registration fails because <code>ak_multi</code> is a multi-environment activation key.</p>
</div>
<div class="paragraph">
<p>If you register a host with activation keys <code>ak4</code>, <code>ak5</code>, the host receives <code>dev/cv5</code>, as <code>ak5</code> is the last activation key with content view environments.</p>
</div>
<div class="paragraph">
<p>If you register a host with activation keys <code>ak4</code>, <code>ak5</code>, <code>ak_none</code>, the host receives <code>dev/cv5</code> because <code>ak5</code> is the last activation key with content view environments.</p>
</div>
<div class="paragraph">
<p>If you register a host with activation keys <code>ak5</code>, <code>ak4</code>, the host receives <code>dev/cv4</code>, as <code>ak4</code> is the last activation key with content view environments.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="assigning-content-view-environments-to-activation-keys"><a class="anchor" href="#assigning-content-view-environments-to-activation-keys"></a>11.7. Assigning content view environments to activation keys</h3>
<div class="paragraph">
<p>You can assign multiple content view environments to an activation key to provide hosts with access to content from each assigned environment.
Hosts registered with the activation key receive the environments in the order they are stored.
For more information, see <a href="#content-view-environment-ordering-and-priority">Content view environment ordering and priority</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You cannot reassign a multi-environment activation key&#8217;s content view environments using the Foreman web UI.
To change content view environments, update the activation key with Hammer CLI.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The <strong>Allow multiple content views</strong> setting must be enabled.
For more information on content settings, see <a href="https://docs.theforeman.org/nightly/Administering_Project/index-foremanctl-katello.html#content_settings_admin">Content settings</a> in <em>Administering Foreman</em>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Display the available content view environments to obtain their labels or IDs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view-environment list</pre>
</div>
</div>
</li>
<li>
<p>Assign content view environments to an activation key:</p>
<div class="ulist">
<ul>
<li>
<p>By using their labels:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer activation-key update \
--id <em>My_Activation_Key_ID</em> \
--organization-id <em>My_Organization_ID</em> \
--content-view-environments <em>"My_env1/My_cv1,My_env2/My_cv2"</em></pre>
</div>
</div>
</li>
<li>
<p>By using their IDs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer activation-key update \
--id <em>My_Activation_Key_ID</em> \
--organization-id <em>My_Organization_ID</em> \
--content-view-environment-ids [<em>My_content_view_env_ID_1</em>, <em>My_content_view_env_ID_2</em>]</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="removing-all-content-view-environments-from-an-activation-key"><a class="anchor" href="#removing-all-content-view-environments-from-an-activation-key"></a>11.8. Removing all content view environments from an activation key</h3>
<div class="paragraph">
<p>You can remove all content view environments from an activation key by doing either of the following:</p>
</div>
<div class="ulist">
<div class="title">CLI procedure</div>
<ul>
<li>
<p>Remove all content view environments from the activation key by passing an empty array:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer activation-key update \
--content-view-environment-ids [] \
--name <em>My_Activation_Key</em> \
--organization-id <em>My_Organization_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Remove all content view environments from an activation key by passing an empty string:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer activation-key update \
--content-view-environments "" \
--name <em>My_Activation_Key</em> \
--organization-id <em>My_Organization_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_SUSE_Content_content-management"><a class="anchor" href="#Managing_SUSE_Content_content-management"></a>12. Managing SUSE content</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the SCC Manager plugin to manage content from SUSE on your Foreman.</p>
</div>
<div class="sect2">
<h3 id="Preparing_SUSE_Installation_Media_content-management"><a class="anchor" href="#Preparing_SUSE_Installation_Media_content-management"></a>12.1. Preparing SUSE installation media</h3>
<div class="paragraph">
<p>Use this procedure to extract the SUSE installation medium on your Foreman&#160;server to provision hosts in a disconnected environment.
This example prepares the installation medium for SUSE Linux Enterprise Server 15 SP3.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the <code>SLES 15 SP3</code> installation medium from <a href="https://www.suse.com/download/sles/">suse.com/download/sles</a>.</p>
</li>
<li>
<p>Download the signature and checksum from <a href="https://www.suse.com/support/security/download-verification/">suse.com</a>.</p>
</li>
<li>
<p>Transfer the <code>.iso</code> image, the signature, and the checksum from your local machine to Foreman&#160;server using <code>scp</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># scp SLE-15-SP3-Full-x86_64-GM-Media1.iso root@foreman.example.com:/tmp/
# scp SLE-15-SP3-Full-x86_64-GM-Media1.iso.sha256 root@foreman.example.com:/tmp/
# scp sles_15_sp3.signature root@foreman.example.com:/tmp/</pre>
</div>
</div>
</li>
<li>
<p>On your Foreman&#160;server, verify the integrity and authenticity of the <code>.iso</code> image using GPG public keys:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cd /tmp
# gpg --verify sles_15_sp3.signature SLE-15-SP3-Full-x86_64-GM-Media1.iso.sha256
# echo '2a6259fc849fef6ce6701b8505f64f89de0d2882857def1c9e4379d26e74fa56 SLE-15-SP3-Full-x86_64-GM-Media1.iso' | sha256sum --check</pre>
</div>
</div>
</li>
<li>
<p>Mount the <code>.iso</code> image:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># mount SLE-15-SP3-Full-x86_64-GM-Media1.iso /mnt</pre>
</div>
</div>
</li>
<li>
<p>Copy the content of the mounted installation medium to the <code>pub</code> directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># mkdir -p /var/www/html/pub/installation_media/sles/15sp3
# cp -a /mnt/* /var/www/html/pub/installation_media/sles/15sp3/</pre>
</div>
</div>
</li>
<li>
<p>Unmount and delete the <code>.iso</code> image:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cd
# umount /mnt
# rm -f /tmp/SLE-15-SP3-Full-x86_64-GM-Media1.iso
# rm -f /tmp/SLE-15-SP3-Full-x86_64-GM-Media1.iso.sha256
# rm -f /tmp/sles_15_sp3.signature</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can use the path to the local installation media files when creating an installation medium, for example <code>http://foreman.example.com/pub/installation_media/sles/15sp3/</code>.
For more information, see <a href="https://docs.theforeman.org/nightly/Provisioning_Hosts/index-foremanctl-katello.html#adding-installation-media-by-using-web-ui">Adding installation media to Foreman by using Foreman web UI</a> in <em>Provisioning hosts</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="Creating_a_SUSE_Operating_System_content-management"><a class="anchor" href="#Creating_a_SUSE_Operating_System_content-management"></a>12.2. Creating a SUSE operating system</h3>
<div class="paragraph">
<p>Use this procedure to create an installation medium and operating system entry for SLES 15 SP3.
For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.theforeman.org/nightly/Provisioning_Hosts/index-foremanctl-katello.html#adding-installation-media-by-using-web-ui">Adding installation media to Foreman by using Foreman web UI</a> in <em>Provisioning hosts</em></p>
</li>
<li>
<p><a href="https://docs.theforeman.org/nightly/Provisioning_Hosts/index-foremanctl-katello.html#creating-operating-systems-by-using-web-ui">Creating operating systems by using Foreman web UI</a> in <em>Provisioning hosts</em></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>An extracted <code>.iso</code> image on Foreman or an HTTP server that can be reached from hosts during their provisioning process.
For more information, see <a href="#Preparing_SUSE_Installation_Media_content-management">Preparing SUSE installation media</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts</strong> &gt; <strong>Provisioning Setup</strong> &gt; <strong>Installation Media</strong>.</p>
</li>
<li>
<p>Click <strong>Create Medium</strong>.</p>
</li>
<li>
<p>Set a <strong>Name</strong> for the installation medium for SLES 15 SP3.
Add <code>local</code> to the name because the path of the extracted <code>.iso</code> image points to your Foreman.</p>
</li>
<li>
<p>Set the <strong>Path</strong> of the extracted <code>.iso</code> image.
The content of <code>/var/www/html/pub/</code> is publicly available on <code>http://foreman.example.com/pub/</code>.
If you extract the <code>.iso</code> image to <code>/var/www/html/pub/installation_media/sles/15sp3/</code>, the path is <code>http://foreman.example.com/pub/installation_media/sles/15sp3/</code>.</p>
</li>
<li>
<p>Set the <strong>Operating System Family</strong> to <code>SUSE</code> for all SLES systems.</p>
</li>
<li>
<p>Set a location and organization context for the installation media.</p>
</li>
<li>
<p>On the <strong>Parameters</strong> tab, add the <code>sle-module-basesystem-url</code> parameter, select the <strong>string</strong> type, and enter the value <code>http://foreman.example.com/pub/installation_media/sles/15sp3/</code>.
Note that the value depends on the path of the extracted <code>.iso</code> image.</p>
<div class="paragraph">
<p>(SLES 12 only) Add the parameter <code>additional_media</code>, select the <strong>string</strong> type, and enter the value <code>""</code>.</p>
</div>
</li>
<li>
<p>Click <strong>Submit</strong> to save the installation media entry for SLES 15 SP3.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts</strong> &gt; <strong>Provisioning Setup</strong> &gt; <strong>Operating Systems</strong>.</p>
</li>
<li>
<p>Click <strong>Create Operating System</strong>.</p>
</li>
<li>
<p>Set the <strong>Name</strong> of the operating system.
Choose a name as reported by Ansible, Puppet, or Salt as fact.</p>
</li>
<li>
<p>Set the <strong>Major Version</strong> of SLES, for example <code>15</code>.</p>
</li>
<li>
<p>Set the <strong>Minor Version</strong> of SLES, for example <code>3</code> for SLES 15 SP3.</p>
</li>
<li>
<p>Optional: Add an arbitrary <strong>Description</strong>.</p>
</li>
<li>
<p>Set the <strong>Family</strong> to <code>SUSE</code> for all SLES systems.</p>
</li>
<li>
<p>Set the <strong>Root Password Hash</strong> to <code>SHA256</code> for SLES 15 SP3.</p>
</li>
<li>
<p>Assign the <strong>Architectures</strong> to SLES 15 SP3.</p>
</li>
<li>
<p>Click <strong>Submit</strong> to save the operating system entry.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts</strong> &gt; <strong>Templates</strong> &gt; <strong>Partition Tables</strong> and click <strong>Create Partition Table</strong>.
The partition tables are stored in the <code>/usr/share/foreman/app/views/unattended/partition_tables_templates/</code> directory on your Foreman&#160;server.</p>
<div class="paragraph">
<p>For more information, see <a href="https://docs.theforeman.org/nightly/Provisioning_Hosts/index-foremanctl-katello.html#creating-partition-tables-by-using-web-ui">Creating partition tables by using Foreman web UI</a> in <em>Provisioning hosts</em>.</p>
</div>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts</strong> &gt; <strong>Templates</strong> &gt; <strong>Provisioning Templates</strong> and click <strong>Create Template</strong>.
The provisioning templates are stored in the <code>/usr/share/foreman/app/views/unattended/provisioning_templates/</code> directory on your Foreman&#160;server.</p>
<div class="paragraph">
<p>For more information, see <a href="https://docs.theforeman.org/nightly/Provisioning_Hosts/index-foremanctl-katello.html#provisioning-templates">Provisioning Templates</a> in <em>Provisioning hosts</em>.</p>
</div>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts</strong> &gt; <strong>Provisioning Setup</strong> &gt; <strong>Operating Systems</strong>.</p>
</li>
<li>
<p>Select the previously created operating system.</p>
</li>
<li>
<p>On the <strong>Partition Table</strong> tab, select the previously created partition table.</p>
</li>
<li>
<p>On the <strong>Templates</strong> tab, select the previously created provisioning template.</p>
</li>
<li>
<p>Click <strong>Submit</strong> to save the operating system entry.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Installing_the_SCC_Manager_plugin_content-management"><a class="anchor" href="#Installing_the_SCC_Manager_plugin_content-management"></a>12.3. Installing the SCC Manager plugin</h3>
<div class="paragraph">
<p>Use this procedure to install the SCC Manager plugin on your Foreman.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>On your Foreman&#160;server, install the SCC Manager plugin:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-installer \
--enable-foreman-cli-scc-manager \
--enable-foreman-plugin-scc-manager</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adding-an-scc-account-to-foreman-by-using-web-ui"><a class="anchor" href="#adding-an-scc-account-to-foreman-by-using-web-ui"></a>12.4. Adding an SCC account to Foreman by using Foreman web UI</h3>
<div class="paragraph">
<p>Add your SCC account to Foreman.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>The SCC Manager plugin does not support multiple SCC accounts within one organization.
Add an additional SCC account only if you want to switch to using another SCC account.</p>
</div>
<div class="paragraph">
<p>If you need to use additional SCC accounts, add them to other organizations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed the SCC Manager plugin on your Foreman.
For more information, see <a href="#Installing_the_SCC_Manager_plugin_content-management">Installing the SCC Manager plugin</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Optional: In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Content Credentials</strong> and click <strong>Create Content Credential</strong>.</p>
<div class="paragraph">
<p>Add the GPG public key for SLES 15 SP3 from <a href="https://www.suse.com/support/security/keys/">suse.com</a>.</p>
</div>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>SUSE Subscriptions</strong>.</p>
</li>
<li>
<p>Click <strong>Add SCC account</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for your SCC account in Foreman.</p>
</li>
<li>
<p>In the <strong>Login</strong> and <strong>Password</strong> fields, enter your SUSE credentials.</p>
</li>
<li>
<p>In the <strong>Base URL</strong> field, you can enter the base URL for the Suse Customer Center.
By default, it is set to <code>https://scc.suse.com</code>.</p>
</li>
<li>
<p>Click <strong>Test connection</strong> to verify your account information.</p>
</li>
<li>
<p>Optional: Set a <strong>Refresh interval</strong> to periodically update the SCC authentication token.
Note that this does not refer to synchronizing content to Foreman.</p>
</li>
<li>
<p>Optional: Set a <strong>Refresh time</strong> to specify the time of the refresh of the SCC authentication token.</p>
</li>
<li>
<p>Optional: In the <strong>GPG key for SUSE products</strong> field, you can select the previously created content credential to automatically add a GPG public key to your SUSE products.
<code>zypper</code> automatically verifies the signatures of each software package to ensure their authenticity.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can also set the GPG public key for repositories from SUSE at a later stage.
However, changing it does not affect already synchronized products.
If you already have synchronized products in Foreman, navigate to <strong>Content &gt; Products</strong> and replace the GPG key in each respective product.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optional: From the <strong>Download Policy</strong> list, select a download policy for your SUSE products.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
<li>
<p>Optional: From the <strong>Mirroring Policy</strong> list, select a mirroring policy for your SUSE products.
For more information, see <a href="#Mirroring_Policies_Overview_content-management">Mirroring policies overview</a>.</p>
</li>
<li>
<p>Click <strong>Submit</strong> to save your SCC account to Foreman.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>SUSE Subscriptions</strong>.</p>
</li>
<li>
<p>Select your SCC account and click <strong>Sync</strong> to fetch a list of products associated to your SCC account.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="adding-an-scc-account-to-foreman-by-using-cli"><a class="anchor" href="#adding-an-scc-account-to-foreman-by-using-cli"></a>12.5. Adding an SCC account to Foreman by using Hammer CLI</h3>
<div class="paragraph">
<p>Add your SCC account to Foreman by using Hammer CLI.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Optional: Import the public GPG key from SUSE into Foreman.</p>
<div class="paragraph">
<p>For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#cli-importing-a-gpg-key">Importing a GPG Key</a> in <em>Managing content</em>.</p>
</div>
</li>
<li>
<p>Add your SCC account to Foreman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer scc_manager scc_accounts create \
--base-url "https://scc.suse.com/" \
--interval <em>My_Interval</em> \
--katello-gpg-key-id <em>My_GPG_Key_ID</em> \
--location-id <em>My_Location_ID</em> \
--login "<em>My_SCC_Account_Name</em>" \
--name "<em>My_Account_Name</em>" \
--organization-id <em>My_Organization_ID</em> \
--password "<em>My_SCC_Account_Password" \
--sync-date _My_Sync_Date</em></pre>
</div>
</div>
</li>
<li>
<p>Test your SCC account credentials:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer scc_manager scc_accounts test_connection \
--id <em>My_SCC_Account_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>Ensure the command returns <code>Testing connection for SCC account succeeded</code>.</p>
</div>
</li>
<li>
<p>Synchronize the list of available SUSE products to Foreman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer scc_manager scc_accounts sync \
--id <em>My_SCC_Account_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Check the status of the task:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer task info \
--id <em>My_Task_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>The synchronization is complete once the command returns <code>State: stopped</code> and <code>Result: success</code>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Switching_SCC_Accounts_content-management"><a class="anchor" href="#Switching_SCC_Accounts_content-management"></a>12.6. Switching SCC accounts</h3>
<div class="paragraph">
<p>You can switch your SCC account by changing the SCC credentials saved on Foreman.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>The SCC Manager plugin does not support multiple SCC accounts within one organization, except for when switching SCC accounts.</p>
</div>
<div class="paragraph">
<p>If you want to switch your SCC account and retain the synchronized content, do not immediately delete your old SCC account, even if it is expired.
If you delete your old SCC account, you cannot reuse existing repositories, products, content views, and composite content views.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have added your SCC account to Foreman.
For more information, see <a href="#adding-an-scc-account-to-foreman-by-using-web-ui">Adding an SCC account to Foreman by using Foreman web UI</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content &gt; SUSE Subscriptions</strong>.</p>
</li>
<li>
<p>Select your SCC account.</p>
</li>
<li>
<p>Enter a new <strong>Login</strong> and <strong>Password</strong>.</p>
</li>
<li>
<p>Click <strong>Submit</strong> to change your SCC account.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Your new SCC account reuses existing products and repositories from SUSE.
Content that is no longer available for your new SCC account cannot be synchronized anymore.</p>
</div>
</div>
<div class="sect2">
<h3 id="Updating_an_SCC_Account_content-management"><a class="anchor" href="#Updating_an_SCC_Account_content-management"></a>12.7. Updating an SCC account</h3>
<div class="paragraph">
<p>Use the following procedure to update your SCC account in Foreman.
To use the CLI instead of the Foreman web UI, see the <a href="#cli-Updating_an_SCC_Account_content-management">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>SUSE Subscriptions</strong>.</p>
</li>
<li>
<p>Select your SCC account and update it as required.</p>
<div class="paragraph">
<p>For more information, see <a href="#adding-an-scc-account-to-foreman-by-using-web-ui">Adding an SCC account to Foreman by using Foreman web UI</a>.</p>
</div>
</li>
<li>
<p>Click <strong>Submit</strong> to update your SCC account.</p>
</li>
</ol>
</div>
<div id="cli-Updating_an_SCC_Account_content-management" class="ulist">
<div class="title">CLI procedure</div>
<ul>
<li>
<p>Update your SCC account in Foreman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer scc_manager scc_accounts update \
--id <em>My_SCC_Account_ID</em> \
--password "<em>My_SCC_Account_Password" \
_My_Options</em></pre>
</div>
</div>
<div class="paragraph">
<p>For a list of options, run <code>hammer scc_manager scc_accounts update --help</code>.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Importing_SUSE_Products_content-management"><a class="anchor" href="#Importing_SUSE_Products_content-management"></a>12.8. Importing SUSE products</h3>
<div class="paragraph">
<p>Use this procedure to import products from SUSE into Foreman.
To use the CLI instead of the Foreman web UI, see the <a href="#cli-Importing_SUSE_Products_content-management">CLI procedure</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have added your SCC account to Foreman.
For more information, see <a href="#adding-an-scc-account-to-foreman-by-using-web-ui">Adding an SCC account to Foreman by using Foreman web UI</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content &gt; SUSE Subscriptions</strong>.</p>
</li>
<li>
<p>Click <strong>Select products</strong> on your previously synchronized SCC account.</p>
</li>
<li>
<p>Use the <strong>Select Product</strong>, <strong>Select Version</strong>, and <strong>Select Architecture</strong> lists to filter all available SUSE products.</p>
<div class="paragraph">
<p>Note that each filter depends on the previous selection.</p>
</div>
</li>
<li>
<p>Click <strong>Search</strong> to apply the filter.</p>
</li>
<li>
<p>Select all SUSE products you want to synchronize to Foreman.</p>
<div class="paragraph">
<p>You can select individual repositories from the <strong>Filter repositories</strong> list.
By default, <em>debug</em> and <em>source</em> repositories are excluded.</p>
</div>
</li>
<li>
<p>Click <strong>Add product(s)</strong> to create the selected SUSE products in Foreman.</p>
<div class="paragraph">
<p>Note that the SCC Manager plugin can only add, but not remove products from Foreman.</p>
</div>
</li>
<li>
<p>Optional: Click on the task ID to follow the creation of the selected products in Foreman.</p>
</li>
</ol>
</div>
<div id="cli-Importing_SUSE_Products_content-management" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>List all available SUSE products:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer scc_manager scc_accounts scc_products list \
--scc-account-id <em>My_SCC_Account_ID</em></pre>
</div>
</div>
</li>
<li>
<p>View information about a SUSE product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer scc_manager scc_accounts scc_products info \
--id <em>My_SUSE_Product_ID</em> \
--scc-account-id <em>My_SCC_Account_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Subscribe to a SUSE product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer scc_manager scc_accounts scc_products subscribe \
--id <em>My_SUSE_Product_ID</em> \
--scc-account-id <em>My_SCC_Account_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Optional: Subscribe to multiple SUSE products:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer scc_manager scc_accounts bulk_subscribe \
--id <em>My_SUSE_Account_ID</em> \
--scc-subscribe-product-ids <em>My_SUSE_Product_ID_1</em>,<em>My_SUSE_Product_ID_2</em>,<em>My_SUSE_Product_ID_3</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Synchronizing_SUSE_Content_content-management"><a class="anchor" href="#Synchronizing_SUSE_Content_content-management"></a>12.9. Synchronizing SUSE content</h3>
<div class="paragraph">
<p>Use this procedure to synchronize SUSE content to your Foreman to deploy, register, and serve content to hosts.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have imported SUSE products into Foreman.
For more information, see <a href="#Importing_SUSE_Products_content-management">Importing SUSE products</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content &gt; Products</strong>.</p>
</li>
<li>
<p>Select the <code>SUSE Linux Enterprise Server 15 SP3 x86_64</code> product and click <strong>Sync Now</strong> to synchronize the SUSE repositories for SLES 15 SP3 to Foreman.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Create a content view called <code>SLES 15 SP3</code> comprising the SLES repositories created in the <code>SLES 15 SP3</code> product and a content view called <code>SLES 15 SP3 Foreman client</code> comprising the Foreman client repository created in the <code>SLES 15 SP3 Foreman client</code> product.</p>
<div class="paragraph">
<p>For more information, see <a href="#Creating_a_Content_View_content-management">Creating a content view</a>.</p>
</div>
</li>
<li>
<p>Publish a new version of both content views.</p>
<div class="paragraph">
<p>For more information, see <a href="#Promoting_a_Content_View_content-management">Promoting a content view</a>.</p>
</div>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Click <strong>Create Content View</strong> to create a composite content view called <code>Composite SLES 15 SP3</code> comprising the previously published <code>SLES 15 SP3</code> content view, the <code>SLES 15 SP3 Foreman client</code> content view, and optionally further content views of your choice, for example a content view containing Puppet.
For more information, see <a href="#Creating_a_Composite_Content_View_content-management">Creating a composite content view</a>.</p>
</li>
<li>
<p>Publish a new version and promote this version to the lifecycle environment of your choice.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Activation Keys</strong>.</p>
</li>
<li>
<p>Click <strong>Create Activation Key</strong> to create an Activation Key called <code>sles-15-sp3</code>.</p>
<div class="paragraph">
<p>For more information, see <a href="#Creating_an_Activation_Key_content-management">Creating an activation key</a>.</p>
</div>
</li>
<li>
<p>On the <strong>Details</strong> tab, select a lifecycle environment and composite content view.</p>
</li>
<li>
<p>On the <strong>Subscriptions</strong> tab, select the necessary subscriptions, for example <code>SLES 15 SP3</code>, <code>SLES 15 SP3 Foreman client</code>, and <code>Puppet</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Removing_an_SCC_Account_from_foreman_content-management"><a class="anchor" href="#Removing_an_SCC_Account_from_foreman_content-management"></a>12.10. Removing an SCC account from Foreman</h3>
<div class="paragraph">
<p>Use the following procedure to remove your SCC account from Foreman.
To use the CLI instead of the Foreman web UI, see the <a href="#cli-Removing_an_SCC_Account_from_foreman_content-management">CLI procedure</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to switch SCC accounts and retain your synchronized content, do not delete your old SCC account, even if it is expired.
Instead, change the login and password of your SCC account.
If you delete your old SCC account, you cannot reuse existing repositories, products, content views, and composite content views.
For more information, see <a href="#Switching_SCC_Accounts_content-management">Switching SCC accounts</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>SUSE Subscriptions</strong>.</p>
</li>
<li>
<p>For your SCC account, click <strong>Delete</strong> in the <strong>Actions</strong> menu.</p>
</li>
<li>
<p>Click <strong>Confirm</strong> to remove your SCC account from Foreman.</p>
</li>
</ol>
</div>
<div id="cli-Removing_an_SCC_Account_from_foreman_content-management" class="ulist">
<div class="title">CLI procedure</div>
<ul>
<li>
<p>Remove your SCC account from Foreman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer scc_manager scc_accounts delete \
--id <em>My_SCC_Account_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_Errata_content-management"><a class="anchor" href="#Managing_Errata_content-management"></a>13. Managing errata</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red&#160;Hat Enterprise Linux users receive errata for each release of official Red Hat RPMs.
SUSE Linux Enterprise Server users receive errata for each release of official SUSE RPMs.
There are three types of advisories (in order of importance):</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Security Advisory</dt>
<dd>
<p>Describes fixed security issues found in the package.
The security impact of the issue can be Low, Moderate, Important, or Critical.</p>
</dd>
<dt class="hdlist1">Bug Fix Advisory</dt>
<dd>
<p>Describes bug fixes for the package.</p>
</dd>
<dt class="hdlist1">Product Enhancement Advisory</dt>
<dd>
<p>Describes enhancements and new features added to the package.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For Red&#160;Hat Enterprise Linux, Foreman imports errata information when synchronizing repositories with Red Hat&#8217;s Content Delivery Network (CDN).
For SUSE Linux Enterprise Server, Foreman imports errata information when synchronizing repositories with SUSE Customer Center.
For AlmaLinux and Rocky Linux, Foreman imports errata information when synchronizing repositories with upstream repositories.
Foreman also provides tools to inspect and filter errata, allowing for precise update management.
This way, you can select relevant updates and propagate them through content views to selected content hosts.</p>
</div>
<div class="paragraph">
<p>Errata are labeled according to the most important advisory type they contain.
Therefore, errata labeled as <strong>Product Enhancement Advisory</strong> can contain only enhancement updates, while <strong>Bug Fix Advisory</strong> errata can contain both bug fixes and enhancements, and <strong>Security Advisory</strong> can contain all three types.</p>
</div>
<div class="paragraph">
<p>In Foreman, there are two keywords that describe an erratum&#8217;s relationship to the available content hosts:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Applicable</dt>
<dd>
<p>An erratum that applies to one or more content hosts, which means it updates packages present on the content host.
Although these errata apply to content hosts, until their state changes to <strong>Installable</strong>, the errata are not ready to be installed.
Installable errata are automatically applicable.</p>
</dd>
<dt class="hdlist1">Installable</dt>
<dd>
<p>An erratum that applies to one or more content hosts and is available to install on the content host.
Installable errata are available to a content host from lifecycle environment and the associated content view, but are not yet installed.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This chapter shows how to manage errata and apply them to either a single host or multiple hosts.</p>
</div>
<div class="sect2">
<h3 id="best-practices-for-errata_content-management"><a class="anchor" href="#best-practices-for-errata_content-management"></a>13.1. Best practices for errata</h3>
<div class="ulist">
<ul>
<li>
<p>Use errata to add patches for security issues to a frozen set of content without unnecessarily updating other unaffected packages.</p>
</li>
<li>
<p>Automate errata management by using a Hammer script or an <a href="https://theforeman.github.io/foreman-ansible-modules/develop/index.html">Ansible Playbook</a>.</p>
</li>
<li>
<p>View errata on the content hosts page and compare the errata of the current content view environment to the Library lifecycle environment, which contains the latest synchronized packages.</p>
<div class="paragraph">
<p>You can only apply errata included in the content view version of the lifecycle of your host.
You can view applicable errata as a recommendation to create an incremental content view to provide errata to hosts.
For more information, see <a href="#Adding_Errata_To_An_Incremental_Content_View_content-management">Adding errata to an incremental content view</a>.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Inspecting_Available_Errata_content-management"><a class="anchor" href="#Inspecting_Available_Errata_content-management"></a>13.2. Inspecting available errata</h3>
<div class="paragraph">
<p>The following procedure describes how to view and filter the available errata and how to display metadata of the selected advisory.
To use the CLI instead of the Foreman web UI, see the <a href="#cli-inspecting-available-errata">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Content Types</strong> &gt; <strong>Errata</strong> to view the list of available errata.</p>
</li>
<li>
<p>Use the filtering tools at the top of the page to limit the number of displayed errata:</p>
<div class="ulist">
<ul>
<li>
<p>Select the repository to be inspected from the list.
<strong>All Repositories</strong> is selected by default.</p>
</li>
<li>
<p>The <strong>Applicable</strong> checkbox is selected by default to view only applicable errata in the selected repository.
Select the <strong>Installable</strong> checkbox to view only errata marked as installable.</p>
</li>
<li>
<p>To search the table of errata, type the query in the <strong>Search</strong> field in the form of:</p>
<div class="listingblock">
<div class="content">
<pre><em>parameter operator value</em></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="#Parameters_Available_for_Errata_Search_content-management">Parameters available for errata search</a> for the list of parameters available for search.
Find the list of applicable operators in <a href="https://docs.theforeman.org/nightly/Administering_Project/index-foremanctl-katello.html#Supported_Operators_for_Granular_Search_admin">Supported Operators for Granular Search</a> in <em>Administering Foreman</em>.
Automatic suggestion works as you type.
You can also combine queries with the use of <strong>and</strong> and <strong>or</strong> operators.
For example, to display only security advisories related to the <strong>kernel</strong> package, type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>type = security and package_name = kernel</pre>
</div>
</div>
<div class="paragraph">
<p>Press <strong>Enter</strong> to start the search.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click the <strong>Errata ID</strong> of the erratum you want to inspect:</p>
<div class="ulist">
<ul>
<li>
<p>The <strong>Details</strong> tab contains the description of the updated package as well as documentation of important fixes and enhancements provided by the update.</p>
</li>
<li>
<p>On the <strong>Content Hosts</strong> tab, you can apply the erratum to selected content hosts as described in <a href="#applying-errata-to-hosts">Applying errata to hosts</a>.</p>
</li>
<li>
<p>The <strong>Repositories</strong> tab lists repositories that already contain the erratum.
You can filter repositories by the environment and content view, and search for them by the repository name.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can also use the new Host page to view to inspect available errata and select errata to install.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts &gt; All Hosts</strong> and select the host you require.</p>
</li>
<li>
<p>If there are errata associated with the host, an Installable Errata card on the new Host page displays an interactive pie chart showing a breakdown of the security advisories, bugfixes, and enhancements.</p>
</li>
<li>
<p>On the new Host page, select the <strong>Content</strong> tab.</p>
</li>
<li>
<p>On the Content page select the <strong>Errata</strong> tab.</p>
</li>
<li>
<p>The page displays installable errata for the chosen host.</p>
</li>
<li>
<p>Click the checkbox for any errata you wish to install.</p>
</li>
<li>
<p>Select <strong>Apply via Remote Execution</strong> to use Remote Execution, or <strong>Apply via customized remote execution</strong> if you want to customize the remote execution.</p>
</li>
<li>
<p>Click <strong>Submit</strong>.</p>
</li>
</ol>
</div>
<div id="cli-inspecting-available-errata" class="ulist">
<div class="title">CLI procedure</div>
<ul>
<li>
<p>To view errata that are available for all organizations, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer erratum list</pre>
</div>
</div>
</li>
<li>
<p>To view details of a specific erratum, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer erratum info --id <em>erratum_ID</em></pre>
</div>
</div>
</li>
<li>
<p>You can search errata by entering the query with the <code>--search</code> option.
For example, to view applicable errata for the selected product that contains the specified bugs ordered so that the security errata are displayed on top, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer erratum list \
--product-id 7 \
--search "bug = 1213000 or bug = 1207972" \
--errata-restrict-applicable 1 \
--order "type desc"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Parameters_Available_for_Errata_Search_content-management"><a class="anchor" href="#Parameters_Available_for_Errata_Search_content-management"></a>13.3. Parameters available for errata search</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the Bugzilla number.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>bug = 1172165</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the CVE number.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>cve = CVE-2015-0235</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the errata ID.
The auto-suggest system displays a list of available IDs as you type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>id = RHBA-2014:2004</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">issued</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the issue date.
You can specify the exact date, like "Feb16,2015", or use keywords, for example "Yesterday", or "1 hour ago".
The time range can be specified with the use of the "&lt;" and "&gt;" operators.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>issued &lt; "Jan 12,2015"</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">package</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the full package build name.
The auto-suggest system displays a list of available packages as you type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>package = glib2-2.22.5-6.el6.i686</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">package_name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the package name.
The auto-suggest system displays a list of available packages as you type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>package_name = glib2</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">severity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the severity of the issue fixed by the security update.
Specify <em>Critical</em>, <em>Important</em>, or <em>Moderate</em>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>severity = Critical</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the advisory title.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>title ~ openssl</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the advisory type.
Specify <em>security</em>, <em>bugfix</em>, or <em>enhancement</em>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>type = bugfix</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search by the date of the last update.
You can use the same formats as with the <code>issued</code> parameter.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>updated = "6 days ago"</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="running-custom-code-while-applying-errata_content-management"><a class="anchor" href="#running-custom-code-while-applying-errata_content-management"></a>13.4. Running custom code while applying errata</h3>
<div class="paragraph">
<p>You can use custom snippets to run code before and/or after applying errata on hosts.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Check your provisioning template to ensure that it supports the custom snippets you want to use.</p>
<div class="paragraph">
<p>You can view all job templates that are in use under <strong>Administer</strong> &gt; <strong>Remote Execution Features</strong>.</p>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Hosts</strong> &gt; <strong>Templates</strong> &gt; <strong>Job Templates</strong>.</p>
</li>
<li>
<p>Click <strong>Create Template</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for your custom snippet.
The name must start with the name of a template that supports custom snippets:</p>
<div class="ulist">
<ul>
<li>
<p>Append <code>custom pre</code> to the name of a template to run code before applying errata on hosts.</p>
</li>
<li>
<p>Append <code>custom post</code> to the name of a template to run code after applying errata on hosts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If your template is called <code>Install Errata - Katello Ansible Default</code>, name your template <code>Install Errata - Katello Ansible Default custom pre</code> or <code>Install Errata - Katello Ansible Default custom post</code>.</p>
</div>
</li>
<li>
<p>On the <strong>Type</strong> tab, select <strong>Snippet</strong>.</p>
</li>
<li>
<p>Click <strong>Submit</strong> to create your custom snippet.</p>
</li>
</ol>
</div>
<div id="cli-running-custom-code-while-applying-errata_content-management" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Create a plain text file that contains your custom snippet.</p>
</li>
<li>
<p>Create the template using <code>hammer</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer template create \
--file "~/<em>My_Snippet</em>" \
--locations "<em>My_Location</em>" \
--name "<em>My_Template_Name_custom_pre" \
--organizations "_My_Organization</em>" \
--type snippet</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Subscribing_to_Errata_Notifications_content-management"><a class="anchor" href="#Subscribing_to_Errata_Notifications_content-management"></a>13.5. Subscribing to errata notifications</h3>
<div class="paragraph">
<p>You can configure email notifications for Foreman users.
Users receive a summary of applicable and installable errata, notifications on content view promotion or after synchronizing a repository.
For more information, see <a href="https://docs.theforeman.org/nightly/Administering_Project/index-foremanctl-katello.html#Configuring_Email_Notification_Preferences_admin">Configuring Email Notification Preferences</a> in <em>Administering Foreman</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="Limitations_to_Repository_Dependency_Resolution_content-management"><a class="anchor" href="#Limitations_to_Repository_Dependency_Resolution_content-management"></a>13.6. Limitations to repository dependency resolution</h3>
<div class="paragraph">
<p>With Foreman, using incremental updates to your content views solves some repository dependency problems.
However, dependency resolution at a repository level still remains problematic on occasion.</p>
</div>
<div class="paragraph">
<p>When a repository update becomes available with a new dependency, Foreman retrieves the newest version of the package to solve the dependency, even if there are older versions available in the existing repository package.
This can create further dependency resolution problems when installing packages.</p>
</div>
<div class="paragraph">
<div class="title">Example scenario</div>
<p>A repository on your client has the package <code>example_repository-1.0</code> with the dependency <code>example_repository-libs-1.0</code>.
The repository also has another package <code>example_tools-1.0</code>.</p>
</div>
<div class="paragraph">
<p>A security erratum becomes available with the package <code>example_tools-1.1</code>.
The <code>example_tools-1.1</code> package requires the <code>example_repository-libs-1.1</code> package as a dependency.</p>
</div>
<div class="paragraph">
<p>After an incremental content view update, the <code>example_tools-1.1</code>, <code>example_tools-1.0</code>, and <code>example_repository-libs-1.1</code> are now in the repository.
The repository also has the packages <code>example_repository-1.0</code> and <code>example_repository-libs-1.0</code>.
Note that the incremental update to the content view did not add the package <code>example_repository-1.1</code>.
Because you can install all these packages by using <code>dnf</code>, no potential problem is detected.
However, when the client installs the <code>example_tools-1.1</code> package, a dependency resolution problem occurs because both <code>example_repository-libs-1.0</code> and <code>example_repository-libs-1.1</code> cannot be installed.</p>
</div>
<div class="paragraph">
<p>There is currently no workaround for this problem.
The larger the time frame, and minor <em>Y</em> releases between the base set of packages and the errata being applied, the higher the chance of a problem with dependency resolution.</p>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-content-view-filter-for-errata-by-using-web-ui"><a class="anchor" href="#creating-a-content-view-filter-for-errata-by-using-web-ui"></a>13.7. Creating a content view filter for errata by using Foreman web UI</h3>
<div class="paragraph">
<p>You can use content filters to limit errata.
Such filters include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>ID</strong> &#8211; Select specific erratum to allow into your resulting repositories.</p>
</li>
<li>
<p><strong>Date Range</strong> &#8211; Define a date range and include a set of errata released during that date range.</p>
</li>
<li>
<p><strong>Type</strong> &#8211; Select the type of errata to include such as bug fixes, enhancements, and security updates.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Create a content filter to exclude errata after a certain date.
This ensures your production systems in the application lifecycle are kept up to date to a certain point.
Then you can modify the filter&#8217;s start date to introduce new errata into your testing environment to test the compatibility of new packages into your application lifecycle.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A content view with the repositories that contain required errata is created.
For more information, see <a href="#Creating_a_Content_View_content-management">Creating a content view</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Select a content view that you want to use for applying errata.</p>
</li>
<li>
<p>On the <strong>Filters</strong> tab, click <strong>Create Filter</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter <code>Errata Filter</code>.</p>
</li>
<li>
<p>From the <strong>Content Type</strong> list, select <strong>Errata &#8211; by date range</strong>.</p>
</li>
<li>
<p>Select <strong>Exclude filter</strong>.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter <code>Exclude errata items from <em>YYYY-MM-DD</em></code>.</p>
</li>
<li>
<p>Click <strong>Create filter</strong>.</p>
</li>
<li>
<p>For <strong>Errata Type</strong>, select the checkboxes of errata types you want to exclude.
For example, select the <strong>Enhancement</strong> and <strong>Bugfix</strong> checkboxes and clear the <strong>Security</strong> checkbox to exclude enhancement and bugfix errata after certain date, but include all the security errata.</p>
</li>
<li>
<p>For <strong>Date Type</strong>, select one of two checkboxes:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Updated from</strong> for the date of the last update of the erratum.</p>
</li>
<li>
<p><strong>Issued from</strong> for the issued date of the erratum.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Select the <strong>Start Date</strong> to exclude all errata on or after the selected date.</p>
</li>
<li>
<p>Leave the <strong>End Date</strong> field blank.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>Click <strong>Publish New Version</strong> to publish the resulting repository.</p>
</li>
<li>
<p>Enter <code>Adding errata filter</code> in the <strong>Description</strong> field.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
<div class="paragraph">
<p>When the content view completes publication, notice the <strong>Content</strong> column reports a reduced number of packages and errata from the initial repository.
This means the filter successfully excluded the all non-security errata from the last year.</p>
</div>
</li>
<li>
<p>Click the <strong>Versions</strong> tab.</p>
</li>
<li>
<p>Click <strong>Promote</strong> to the right of the published version.</p>
</li>
<li>
<p>Select the environments you want to promote the content view version to.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, enter the description for promoting.</p>
</li>
<li>
<p>Click <strong>Promote Version</strong> to promote this content view version across the required environments.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-content-view-filter-for-errata-by-using-cli"><a class="anchor" href="#creating-a-content-view-filter-for-errata-by-using-cli"></a>13.8. Creating a content view filter for errata by using CLI</h3>
<div class="paragraph">
<p>You can use Hammer CLI to create content view filters to limit errata.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a filter for the errata:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view filter create \
--content-view "<em>My_Content_View</em>" \
--description "Exclude errata items from the <em>YYYY-MM-DD</em>" \
--name "<em>My_Filter_Name</em>" \
--organization "<em>My_Organization</em>" \
--type "erratum"</pre>
</div>
</div>
</li>
<li>
<p>Create a filter rule to exclude all errata on or after a <em>Start Date</em>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view filter rule create \
--content-view "<em>My_Content_View</em>" \
--content-view-filter="<em>My_Content_View_Filter</em>" \
--organization "<em>My_Organization</em>" \
--start-date "<em>YYYY-MM-DD</em>" \
--types=security,enhancement,bugfix</pre>
</div>
</div>
</li>
<li>
<p>Publish the content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view publish \
--name "<em>My_Content_View</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Promote the content view to the lifecycle environment so that the included errata are available to that lifecycle environment:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version promote \
--content-view "<em>My_Content_View</em>" \
--organization "<em>My_Organization</em>" \
--to-lifecycle-environment "<em>My_Lifecycle_Environment</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Adding_Errata_To_An_Incremental_Content_View_content-management"><a class="anchor" href="#Adding_Errata_To_An_Incremental_Content_View_content-management"></a>13.9. Adding errata to an incremental content view</h3>
<div class="paragraph">
<p>If errata are available but not installable, you can create an incremental content view version to add the errata to your content hosts.
For example, if the content view is version 1.0, it becomes content view version 1.1, and when you publish, it becomes content view version 2.0.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If your content view version is old, you might encounter incompatibilities when incrementally adding enhancement errata.
This is because enhancements are typically designed for the most current software in a repository.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To use the CLI instead of the Foreman web UI, see the <a href="#cli-adding-errata-to-an-incremental-content-view">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Content Types</strong> &gt; <strong>Errata</strong>.</p>
</li>
<li>
<p>From the <strong>Errata</strong> list, click the name of the errata that you want to apply.</p>
</li>
<li>
<p>Select the content hosts that you want to apply the errata to, and click <strong>Apply to Hosts</strong>.
This creates the incremental update to the content view.</p>
</li>
<li>
<p>If you want to apply the errata to the content host, select the <strong>Apply Errata to Content Hosts immediately after publishing</strong> checkbox.</p>
</li>
<li>
<p>Click <strong>Confirm</strong> to apply the errata.</p>
</li>
</ol>
</div>
<div id="cli-adding-errata-to-an-incremental-content-view" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>List the errata and its corresponding IDs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer erratum list</pre>
</div>
</div>
</li>
<li>
<p>List the different content-view versions and the corresponding IDs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version list</pre>
</div>
</div>
</li>
<li>
<p>Apply a single erratum to content-view version.
You can add more IDs in a comma-separated list.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version incremental-update \
--content-view-version-id <em>My_Content_View_Version_ID</em> \
--errata-ids <em>My_Erratum_ID_1</em>,<em>My_Erratum_ID_2</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-an-incremental-content-view-version-by-adding-deb-packages"><a class="anchor" href="#creating-an-incremental-content-view-version-by-adding-deb-packages"></a>13.10. Creating an incremental content view version by adding Deb packages</h3>
<div class="paragraph">
<p>You can use Hammer CLI to add packages to a content view version.
If you want to add errata to a content view version, see <a href="#Adding_Errata_To_An_Incremental_Content_View_content-management">Adding errata to an incremental content view</a>.</p>
</div>
<div id="cli-creating-an-incremental-content-view-version-by-adding-deb-packages" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Search for your lifecycle environment IDs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer lifecycle-environment list</pre>
</div>
</div>
</li>
<li>
<p>Search for your Deb package IDs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer deb-package list --search "<em>My_Search_Pattern</em>"</pre>
</div>
</div>
</li>
<li>
<p>List all available content views:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view list</pre>
</div>
</div>
</li>
<li>
<p>View information of the content view that you want to add packages to:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view info --id <em>My_Content_View_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Create an incremental content view version by adding Deb packages:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view version incremental-update \
--content-view-version-id <em>My_Content_View_Version_ID</em> \
--debs <em>My_Deb_Package_Name</em> \
--lifecycle-environment-ids <em>My_Lifecycle_Environment_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>You can add multiple Deb package names in a comma-separated list.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="applying-errata-to-hosts"><a class="anchor" href="#applying-errata-to-hosts"></a>13.11. Applying errata to hosts</h3>
<div class="paragraph">
<p>Use these procedures to review and apply errata to hosts.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Register the host to an environment and content view on Foreman&#160;server.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#Registering_Hosts_by_Using_Global_Registration_managing-hosts">Registering hosts by using global registration</a> in <em>Managing hosts</em>.</p>
</li>
<li>
<p>Configure the host for remote execution.
For more information about running remote execution jobs, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#Configuring_and_Setting_Up_Remote_Jobs_managing-hosts">Configuring and Setting Up Remote Jobs</a> in <em>Managing hosts</em>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="applying-errata-to-hosts-by-using-web-ui"><a class="anchor" href="#applying-errata-to-hosts-by-using-web-ui"></a>13.12. Applying errata to hosts by using Foreman web UI</h3>
<div class="paragraph _abstract">
<p>You can use Foreman web UI to review and apply errata to hosts.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Synchronize Foreman repositories with the latest errata available from Red&#160;Hat.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#repository-synchronization">Repository synchronization</a> in <em>Managing content</em>.</p>
</li>
<li>
<p>Register the hosts to an environment and content view on Foreman&#160;server.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#Registering_Hosts_by_Using_Global_Registration_managing-hosts">Registering hosts by using global registration</a> in <em>Managing hosts</em>.</p>
</li>
<li>
<p>Configure the host for remote execution.
For more information about running remote execution jobs, see <a href="https://docs.theforeman.org/nightly/Managing_Hosts/index-foremanctl-katello.html#Configuring_and_Setting_Up_Remote_Jobs_managing-hosts">Configuring and setting up remote jobs</a> in <em>Managing hosts</em>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Content Types</strong> &gt; <strong>Errata</strong>.</p>
</li>
<li>
<p>Click the name of an erratum you want to apply.</p>
</li>
<li>
<p>On the to <strong>Content Hosts</strong> tab, select all hosts that you want to apply errata to.</p>
</li>
<li>
<p>Click <strong>Apply to Hosts</strong> and click <strong>Confirm</strong>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Monitor</strong> &gt; <strong>Jobs</strong>.</p>
</li>
<li>
<p>Select the most recent <code>Install errata</code> job.</p>
</li>
<li>
<p>Verify that the remote execution to apply errata to all selected host succeeded.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="applying-errata-to-hosts-by-using-cli"><a class="anchor" href="#applying-errata-to-hosts-by-using-cli"></a>13.13. Applying errata to hosts by using CLI</h3>
<div class="paragraph">
<p>You can use Hammer CLI to review and apply errata to hosts.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>List all errata:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer erratum list --organization "<em>My_Organization</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>You can limit the output to applicable by adding <code>--errata-restrict-applicable</code> or to installable errata by adding <code>--errata-restrict-installable</code>.</p>
</div>
</li>
<li>
<p>Optional: View information of an erratum:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer erratum info --id <em>My_Erratum_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Apply errata to your hosts.</p>
<div class="paragraph">
<p>You can use <code>Remote Execution</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer job-invocation create \
--feature katello_errata_install \
--inputs errata=<em>My_Erratum_ID_1</em>,<em>My_Erratum_ID_2</em> \
--search-query "name = host.example.com"</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to apply errata to all hosts in a host collection, use <code>"host_collection = <em>My_Host_Collection_Name</em>"</code> as the search query.
If you want to apply a specific erratum to all hosts, use <code>"applicable_errata = <em>My_Erratum_ID</em>"</code> as the search query.</p>
</div>
<div class="paragraph">
<p>You can use a Bash script that applies an erratum to each host for which this erratum is available:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-terminal" data-lang="terminal">for HOST in <code>hammer --csv --csv-separator "|" host list --search "applicable_errata = <em>My_Erratum_ID</em>" --organization "<em>My_Organization</em>" | tail -n+2 | awk -F "|" '{ print $2 }'</code> ;
do
  echo "== Applying to $HOST ==" ; hammer job-invocation create --feature katello_errata_install --search-query "name = $HOST" --inputs errata=<em>My_Erratum_ID_1</em>,<em>My_Erratum_ID_2</em> ;
done</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command identifies all hosts with <em>My_Erratum_ID</em> as an applicable erratum and then applies the erratum to each host.</p>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Locate the task ID of your errata application in task listing:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer task list</pre>
</div>
</div>
</li>
<li>
<p>Inspect the state of the selected task:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer task progress --id <em>My_Task_ID</em></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.theforeman.org/nightly/Administering_Project/index-foremanctl-katello.html#Searching_and_Bookmarking_admin">Searching and bookmarking</a> in <em>Administering Foreman</em></p>
</li>
<li>
<p><code>hammer erratum list --help</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing-ostree-content"><a class="anchor" href="#managing-ostree-content"></a>14. Managing OSTree content</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use OSTree to manage bootable, immutable, versioned file system trees.</p>
</div>
<div class="paragraph">
<p>OSTree makes it easy to install and update Linux-based operating systems on hosts and to switch between versions of operating systems on hosts.
If a host update fails, you can easily revert the operating system on the host to the previous working version.</p>
</div>
<div class="paragraph">
<p>You can create an OSTree image by using an image builder and expose it in an OSTree repository on an HTTP server.
Then you can use your Foreman to synchronize and manage OSTree branches from the exposed OSTree repository.</p>
</div>
<div class="sect2">
<h3 id="enabling-ostree-content"><a class="anchor" href="#enabling-ostree-content"></a>14.1. Enabling OSTree content</h3>
<div class="paragraph">
<p>You can enable OSTree on your Foreman to synchronize and manage OSTree branches from the exposed OSTree repository.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>On your Foreman&#160;server, enable OSTree content:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-installer --foreman-proxy-content-enable-ostree true</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="importing-ostree-content_content-management"><a class="anchor" href="#importing-ostree-content_content-management"></a>14.2. Importing OSTree content</h3>
<div class="paragraph">
<p>You can import and synchronize OSTree content from custom online sources over HTTPS.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A published HTTP location, known as an <em>upstream URL</em>, for the OSTree to import.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong> and click <strong>Create Product</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for your OSTree content.
This automatically populates the <strong>Label</strong> field.</p>
</li>
<li>
<p>Optional: From the <strong>GPG Key</strong> list, select the GPG key for the product.</p>
</li>
<li>
<p>Optional: From the <strong>SSL CA Cert</strong> list, select the SSL CA certificate for the product.</p>
</li>
<li>
<p>Optional: From the <strong>SSL Client Cert</strong> list, select the SSL client certificate for the product.</p>
</li>
<li>
<p>Optional: From the <strong>SSL Client Key</strong> list, select the SSL client key for the product.</p>
</li>
<li>
<p>Optional: From the <strong>Sync Plan</strong> list, select an existing sync plan or click <strong>Create Sync Plan</strong> and create a sync plan for your product requirements.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description of the product.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>When the product creation completes, click <strong>New Repository</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the repository.
This automatically populates the <strong>Label</strong> field.</p>
</li>
<li>
<p>From the <strong>Type</strong> list, select <code>ostree</code>.</p>
</li>
<li>
<p>In the <strong>Upstream URL</strong> field, enter the URL of the external repository to use as a source.
For example <code>http://www.example.com/rpm-ostree/</code>.</p>
</li>
<li>
<p>Optional: Select the <strong>Verify SSL</strong> checkbox if you want to verify that the upstream repository&#8217;s SSL certificates are signed by a trusted CA.</p>
</li>
<li>
<p>In the <strong>Upstream Username</strong> field, enter the user name for the upstream repository if required for authentication.
Clear this field if the repository does not require authentication.</p>
</li>
<li>
<p>In the <strong>Upstream Password</strong> field, enter the corresponding password for the upstream repository.</p>
</li>
<li>
<p>In the <strong>Upstream Authentication Token</strong> field, enter the corresponding token for the upstream repository.</p>
</li>
<li>
<p>Optional: In the <strong>Exclude Refs</strong> field, enter a list of OSTree head refs separated with commas to exclude from importing to Foreman.
The excludes are evaluated after the includes.</p>
</li>
<li>
<p>Optional: In the <strong>Include Refs</strong> field, enter a list of OSTree head refs separated with commas to include in importing to Foreman.
For example <code>fedora/x86_64/coreos/stable</code>.</p>
</li>
<li>
<p>Optional: In the <strong>Depth</strong> field, enter the number of commits to traverse.</p>
</li>
<li>
<p>From the <strong>Mirroring Policy</strong> menu, select one of the following policies to mirror OSTree content for this repository:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Additive</strong> &#8211; new content available during sync will be added to the repository, and no content will be removed.</p>
</li>
<li>
<p><strong>Mirror Content Only</strong> &#8211; any new content available during sync will be added to the repository and any content removed from the upstream repository will be removed from the local repository.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optional: In the <strong>HTTP Proxy Policy</strong> field, select an HTTP proxy.</p>
</li>
<li>
<p>Optional: Disable the <strong>Unprotected</strong> checkbox to require a subscription entitlement certificate for accessing the published repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL CA Cert</strong> field, select the SSL CA Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client cert</strong> field, select the SSL Client Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client Key</strong> field, select the SSL Client Key for the repository.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>When the repository creation completes, select the new repository and click <strong>Sync Now</strong> to start the synchronization process.</p>
</li>
<li>
<p>To view the synchronization status, navigate to <strong>Content</strong> &gt; <strong>Sync Status</strong> and expand the entry that you want to view.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Create a product for your OSTree content:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer product create \
--name "<em>OSTree</em>" \
--sync-plan "<em>Example_Plan</em>" \
--description "OSTree Content" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Create the repository for the OSTree:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository create \
--name "<em>OSTree</em>" \
--content-type "ostree" \
--url "<em>http://www.example.com/rpm-ostree/</em>" \
--product "<em>OSTree Content</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Synchronize the repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository synchronize \
--name "<em>OSTree</em>" \
--product "OSTree Content" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="uploading-ostree-content-by-using-cli"><a class="anchor" href="#uploading-ostree-content-by-using-cli"></a>14.3. Uploading OSTree content by using Hammer CLI</h3>
<div class="paragraph">
<p>In deployments in which the Foreman&#160;server does not have internet access, you can upload OSTree image archives using Hammer CLI.</p>
</div>
<div class="paragraph">
<p>You can create images using the Image Builder or OSBuild tool.</p>
</div>
<div class="paragraph">
<p>You can also create an OSTree image archive by downloading a repository from an upstream URL, such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ wget --no-parent -r <em>https://repos.example.com/ostree/repo_name/</em>
$ tar --exclude="index.html" -cvf "<em>example_archive_repo</em>.tar" -C <em>repos.example.com/ostree</em> "<em>repo_name</em>"</pre>
</div>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an OSTree image archive ready and present on your file system.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>On your Foreman&#160;server, upload your OSTree archive:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository upload-content \
--content-type ostree_ref \
--id <em>My_Repository_id</em> \
--ostree-repository-name <em>My_Repository_Name</em> \
--path <em>/path/to/image/file.tar</em></pre>
</div>
</div>
<div class="paragraph">
<p>The value of <code>--ostree-repository-name</code> must match the name of the OSTree repository in the archive.</p>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index"><em>Red&#160;Hat Enterprise Linux&#160;8 Composing, installing, and managing RHEL for Edge images using Image Builder</em></a></p>
</li>
<li>
<p><a href="https://osbuild.org/docs/on-premises/commandline/building-ostree-images">Building OSTree images using the OSBuild tool</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="managing-ostree-content-with-content-views_content-management"><a class="anchor" href="#managing-ostree-content-with-content-views_content-management"></a>14.4. Managing OSTree content with content views</h3>
<div class="paragraph">
<p>Use content views to manage OSTree branches across the application lifecycle.
This process uses the same publication and promotion method as RPMs or Puppet modules.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have created a product and added an OSTree repository to it.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Content Views</strong>.</p>
</li>
<li>
<p>Click <strong>Create content view</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a plain text name for the view.
This automatically populates the <strong>Label</strong> field.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, enter a description of the OSTree content view.</p>
</li>
<li>
<p>If you want to use a composite content view, select the <strong>Composite View</strong> checkbox.</p>
</li>
<li>
<p>Optional: If you want to solve dependencies automatically every time you publish this content view, select the <strong>Solve Dependencies</strong> checkbox. Dependency solving slows the publishing time and might ignore any content view filters you use.</p>
</li>
<li>
<p>Click <strong>Save</strong> to complete.</p>
</li>
<li>
<p>Navigate to the <strong>Repositories</strong> tab.</p>
</li>
<li>
<p>Select the OSTree repository that you want to use.
Click <strong>Add Repository</strong> to add the OSTree content from this repository to the content view.</p>
</li>
<li>
<p>Click <strong>Publish new version</strong>.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description for the version.</p>
</li>
<li>
<p>Optional: Enable the <strong>Promote</strong> switch to promote this content view across environments in the application lifecycle.</p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>Review details and click <strong>Finish</strong>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Obtain a list of repository IDs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository list --organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Create the content view and add the repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view create \
--name "<em>OSTree</em>" \
--description "<em>Example content view for the OSTree</em>" \
--repository-ids <em>My_Repository_IDs</em> \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Publish the content view:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-view publish \
--name "<em>OSTree</em>" \
--description "<em>Example content view for the OSTree</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Installing_OSTree_Content_from_foreman_Server_content-management"><a class="anchor" href="#Installing_OSTree_Content_from_foreman_Server_content-management"></a>14.5. Installing OSTree content from Foreman&#160;server on hosts</h3>
<div class="paragraph">
<p>OSTree content from Foreman on hosts is managed by Subscription Manager and can be accessed by using <code>rpm-ostree</code>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have synchronized or uploaded an OSTree head to Foreman.
For more information, see <a href="#importing-ostree-content_content-management">Importing OSTree content</a> and <a href="#uploading-ostree-content-by-using-cli">Uploading OSTree content by using Hammer CLI</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On your hosts, view the available heads:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ rpm-ostree remote list</pre>
</div>
</div>
</li>
<li>
<p>Rebase to a new remote from Foreman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ rpm-ostree rebase --remote=<em>My_Organization_OSTree_Content_OSTree</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_Container_Images_content-management"><a class="anchor" href="#Managing_Container_Images_content-management"></a>15. Managing container images</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With Foreman, you can import container images from various sources and distribute them to external containers by using content views.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For information about containers for Red&#160;Hat Enterprise Linux 10, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10/html-single/building_running_and_managing_containers/index"><em>Red&#160;Hat Enterprise Linux&#160;10 Building, running, and managing containers</em></a>.</p>
</li>
<li>
<p>For information about containers for Red&#160;Hat Enterprise Linux 9, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/building_running_and_managing_containers/index"><em>Red&#160;Hat Enterprise Linux&#160;9 Building, running, and managing containers</em></a>.</p>
</li>
<li>
<p>For information about containers for Red&#160;Hat Enterprise Linux 8, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html-single/building_running_and_managing_containers/index"><em>Red&#160;Hat Enterprise Linux&#160;8 Building, running, and managing containers</em></a>.</p>
</li>
<li>
<p>For information about containers for Red&#160;Hat Enterprise Linux Atomic Host 7, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux_atomic_host/7/html/getting_started_with_containers/index">Getting Started with Containers</a> in <em>Red&#160;Hat Enterprise Linux Atomic Host 7</em>.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="Importing_Container_Images_content-management"><a class="anchor" href="#Importing_Container_Images_content-management"></a>15.1. Importing container images</h3>
<div class="paragraph">
<p>You can import container image repositories from Red Hat Registry or from other image registries.</p>
</div>
<div class="paragraph">
<p>To use the CLI instead of the Foreman web UI, see the <a href="#cli-importing-container-images">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure with repository discovery</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong> and click <strong>Repo Discovery</strong>.</p>
</li>
<li>
<p>From the <strong>Repository Type</strong> list, select <strong>Container Images</strong>.</p>
</li>
<li>
<p>In the <strong>Registry to Discover</strong> field, enter the URL of the registry to import images from.</p>
</li>
<li>
<p>In the <strong>Registry Username</strong> field, enter the name that corresponds with your user name for the container image registry.</p>
</li>
<li>
<p>In the <strong>Registry Password</strong> field, enter the password that corresponds with the user name that you enter.</p>
</li>
<li>
<p>In the <strong>Registry Search Parameter</strong> field, enter any search criteria that you want to use to filter your search, and then click <strong>Discover</strong>.</p>
</li>
<li>
<p>Optional: To further refine the <strong>Discovered Repository</strong> list, in the <strong>Filter</strong> field, enter any additional search criteria that you want to use.</p>
</li>
<li>
<p>From the <strong>Discovered Repository</strong> list, select any repositories that you want to import, and then click <strong>Create Selected</strong>.</p>
</li>
<li>
<p>Optional: To change the download policy for this container repository to <em>on demand</em>, see <a href="#changing-the-download-policy-for-a-repository-by-using-web-ui">Changing the download policy for a repository by using Foreman web UI</a>.</p>
</li>
<li>
<p>Optional: If you want to create a product, from the <strong>Product</strong> list, select <strong>New Product</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a product name.</p>
</li>
<li>
<p>Optional: In the <strong>Repository Name</strong> and <strong>Repository Label</strong> columns, you can edit the repository names and labels.</p>
</li>
<li>
<p>Click <strong>Run Repository Creation</strong>.</p>
</li>
<li>
<p>When repository creation is complete, you can click each new repository to view more information.</p>
</li>
<li>
<p>Optional: To filter the content you import to a repository, click a repository, and then navigate to <strong>Limit Sync Tags</strong>.
Click to edit, and add any tags that you want to limit the content that synchronizes to Foreman.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong> and select the name of your product.</p>
</li>
<li>
<p>Select the new repositories and then click <strong>Sync Now</strong> to start the synchronization process.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Procedure with creating a repository manually</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.
Click the name of the required product.</p>
</li>
<li>
<p>Click <strong>New repository</strong>.</p>
</li>
<li>
<p>From the <strong>Type</strong> list, select <strong>docker</strong>.
Enter the details for the repository, and click <strong>Save</strong>.</p>
</li>
<li>
<p>Select the new repository, and click <strong>Sync Now</strong>.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Next steps</div>
<ul>
<li>
<p>To view the progress of the synchronization, navigate to <strong>Content</strong> &gt; <strong>Sync Status</strong> and expand the repository tree.</p>
</li>
<li>
<p>When the synchronization completes, you can click <strong>Container Image Manifests</strong> to list the available manifests.
From the list, you can also remove any manifests that you do not require.</p>
</li>
</ul>
</div>
<div id="cli-importing-container-images" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Create the custom <code>Red Hat Container Catalog</code> product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer product create \
--description "<em>My_Description</em>" \
--name "Red Hat Container Catalog" \
--organization "<em>My_Organization</em>" \
--sync-plan "<em>My_Sync_Plan</em>"</pre>
</div>
</div>
</li>
<li>
<p>Create the repository for the container images:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository create \
--content-type "docker" \
--docker-upstream-name "rhel7" \
--name "RHEL7" \
--organization "<em>My_Organization</em>" \
--product "Red Hat Container Catalog" \
--url "http://registry.access.redhat.com/"</pre>
</div>
</div>
</li>
<li>
<p>Synchronize the repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository synchronize \
--name "RHEL7" \
--organization "<em>My_Organization</em>" \
--product "Red Hat Container Catalog"</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For more information about creating a product and repository manually, see <a href="#Importing_Content_content-management">Importing content</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Managing_Container_Name_Patterns_content-management"><a class="anchor" href="#Managing_Container_Name_Patterns_content-management"></a>15.2. Managing container name patterns</h3>
<div class="paragraph">
<p>When you use Foreman to create and manage your containers, as the container moves through content view versions and different stages of the Foreman lifecycle environment, the container name changes at each stage.
For example, if you synchronize a container image with the name <code>ssh</code> from an upstream repository, when you add it to a Foreman product and organization and then publish as part of a content view, the container image can have the following name: <code>my_organization_production-custom_spin-my_product-custom_ssh</code>.
This can create problems when you want to pull a container image because container registries can contain only one instance of a container name.
To avoid problems with Foreman naming conventions, you can set a registry name pattern to override the default name to ensure that your container name is clear for future use.</p>
</div>
<div class="paragraph">
<div class="title">Limitations</div>
<p>If you use a registry name pattern to manage container naming conventions, because registry naming patterns must generate globally unique names, you might experience naming conflict problems.
For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you set the <code>repository.docker_upstream_name</code> registry name pattern, you cannot publish or promote content views with container content with identical repository names to the <code>Production</code> lifecycle.</p>
</li>
<li>
<p>If you set the <code>lifecycle_environment.name</code> registry name pattern, this can prevent the creation of a second container repository with the identical name.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You must proceed with caution when defining registry naming patterns for your containers.</p>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To manage container naming with a registry name pattern, complete the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Lifecycle Environments</strong>.</p>
</li>
<li>
<p>Create a lifecycle environment or select an existing lifecycle environment to edit.</p>
</li>
<li>
<p>In the <strong>Container Image Registry</strong> area, click the edit icon to the right of <strong>Registry Name Pattern</strong> area.</p>
</li>
<li>
<p>Use the list of variables and examples to determine which registry name pattern you require.</p>
</li>
<li>
<p>In the <strong>Registry Name Pattern</strong> field, enter the registry name pattern that you want to use.
For example, to use the <code>repository.docker_upstream_name</code>:</p>
<div class="listingblock">
<div class="content">
<pre>&lt;%= repository.docker_upstream_name %&gt;</pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Managing_Container_Registry_Authentication_content-management"><a class="anchor" href="#Managing_Container_Registry_Authentication_content-management"></a>15.3. Managing container registry authentication</h3>
<div class="paragraph">
<p>You can manage the authentication settings for accessing containers images from Foreman.
By default, users must authenticate to access containers images in Foreman.</p>
</div>
<div class="paragraph">
<p>You can specify whether you want users to authenticate to access container images in Foreman in a lifecycle environment.
For example, you might want to permit users to access container images from the <code>Production</code> lifecycle without any authentication requirement and restrict access the <code>Development</code> and <code>QA</code> environments to authenticated users.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Lifecycle</strong> &gt; <strong>Lifecycle Environments</strong>.</p>
</li>
<li>
<p>Select the lifecycle environment that you want to manage authentication for.</p>
</li>
<li>
<p>To permit unauthenticated access to the containers in this lifecycle environment, select the <strong>Unauthenticated Pull</strong> checkbox.
To restrict unauthenticated access, clear the <strong>Unauthenticated Pull</strong> checkbox.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Configuring_podman_to_trust_the_CA_content-management"><a class="anchor" href="#Configuring_podman_to_trust_the_CA_content-management"></a>15.4. Configuring Podman and Docker to trust the certificate authority</h3>
<div class="paragraph">
<p>Podman uses two paths to locate the CA file, namely, <code>/etc/containers/certs.d/</code> and <code>/etc/docker/certs.d/</code>.</p>
</div>
<div class="paragraph">
<p>Copy the root CA file to one of these locations, with the exact path determined by the server hostname, and naming the file <code>ca.crt</code></p>
</div>
<div class="paragraph">
<p>In the following examples, replace <code>hostname.example.com</code> with <code>foreman.example.com</code> or <code>smartproxy.example.com</code>, depending on your use case.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You might first need to create the relevant location using:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># mkdir -p /etc/containers/certs.d/hostname.example.com</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># mkdir -p /etc/docker/certs.d/hostname.example.com</pre>
</div>
</div>
</li>
<li>
<p>For podman, use:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cp rootCA.pem /etc/containers/certs.d/hostname.example.com/ca.crt</pre>
</div>
</div>
</li>
<li>
<p>Alternatively, if you are using Docker, copy the root CA file to the equivalent Docker directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cp rootCA.pem /etc/docker/certs.d/hostname.example.com/ca.crt</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You no longer need to use the <code>--tls-verify=false</code> option when logging in to the registry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ podman login hostname.example.com

Username: admin
Password:
Login Succeeded!</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Using_Container_Registries_content-management"><a class="anchor" href="#Using_Container_Registries_content-management"></a>15.5. Using container registries</h3>
<div class="paragraph">
<p>You can use Podman and Docker to fetch content from container registries and push the content to the Foreman container registry.
The Foreman registry follows the Open Containers Initiative (OCI) specification, so you can push content to Foreman by using the same methods that apply to other registries.
For more information about OCI, see <a href="https://opencontainers.org/">Open Container Initiative Distribution Specification</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>To push content to Foreman, ensure your Foreman account has the <code>edit_products</code> permission.</p>
</li>
<li>
<p>Ensure that a product exists before pushing a repository.
For more information, see <a href="#creating-a-custom-product-by-using-web-ui">Creating a product by using Foreman web UI</a>.</p>
</li>
<li>
<p>To pull content from Foreman, ensure that your Foreman account has the <code>view_lifecycle_environments</code>, <code>view_products</code>, and <code>view_content_views</code> permissions, unless the lifecycle environment allows unauthenticated pull.</p>
</li>
<li>
<p>Your Foreman account has a role that grants the <code>create_personal_access_tokens</code> permission to generate an access token for authentication.
The token generates automatically when you run <code>podman login</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Container registries on Smart&#160;Proxies</div>
<p>On Smart&#160;Proxies with content, the <a href="https://github.com/Katello/smart_proxy_container_gateway">Container Gateway</a> Smart&#160;Proxy plugin acts as the container registry.
It caches authentication information from Katello and proxies incoming requests to Pulp.
The Container Gateway is available by default on Smart&#160;Proxies with content.</p>
</div>
<div class="ulist">
<div class="title">Considerations for pushing content to the Foreman container registry</div>
<ul>
<li>
<p>You can only push content to the Foreman&#160;server itself.
If you need pushed content on Smart&#160;Proxy&#160;servers as well, use Smart&#160;Proxy syncing.</p>
</li>
<li>
<p>The pushed container registry name must contain only lowercase characters.</p>
</li>
<li>
<p>Unless pushed repositories are published in a content view version, they do not follow the registry name pattern.
For more information, see <a href="#Managing_Container_Name_Patterns_content-management">Managing container name patterns</a>.
This is to ensure that users can push and pull from the same path.</p>
</li>
<li>
<p>Users are required to push and pull from the same path.
If you use the label-based schema, pull using labels.
If you use the ID-based schema, pull using IDs.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Logging in to the container registry:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># podman login <em>foreman.example.com</em></pre>
</div>
</div>
</li>
<li>
<p>Listing container images:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># podman search foreman.example.com/</pre>
</div>
</div>
</li>
<li>
<p>Pulling container images:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># podman pull foreman.example.com/my-image:&lt;optional_tag&gt;</pre>
</div>
</div>
</li>
<li>
<p>Pushing container images to the Foreman container registry:</p>
<div class="ulist">
<ul>
<li>
<p>To indicate which organization, product, and repository the container image belongs to, include the organization and product in the container registry name.</p>
</li>
<li>
<p>You can address the container destination by using one of the following schemas:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ podman push <em>My_Container_Image_Hash</em> <em>foreman.example.com</em>/<em>My_Organization_Label</em>/<em>My_Product_Label</em>/<em>My_Repository_Name</em>[:_My_Tag_]
$ podman push <em>My_Container_Image_Hash</em> <em>foreman.example.com</em>/id/<em>My_Organization_ID</em>/<em>My_Product_ID</em>/<em>My_Repository_Name</em>[:_My_Tag_]</pre>
</div>
</div>
</li>
<li>
<p>After the content push has completed, a repository is created in Foreman.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing-flatpak-repositories-in-project"><a class="anchor" href="#managing-flatpak-repositories-in-project"></a>16. Managing Flatpak repositories in Foreman</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Flatpak allows users to install, manage, and run portable applications on Foreman, primarily for desktop environments.
In Foreman, you can integrate Flatpak repositories to distribute and control Flatpak applications across managed hosts.
By configuring Flatpak repositories, you ensure that systems have access to the necessary application packages while maintaining centralized control over application deployment.</p>
</div>
<div class="paragraph">
<p>Flatpak repositories function similarly to other content repositories in Foreman.
You can synchronize, manage access permissions, and assign repositories to specific lifecycle environments to control which applications are available to systems.
You can also use Hammer CLI to manage Flatpak repositories.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/administering_the_system_using_the_gnome_desktop_environment/assembly_installing-applications-using-flatpak_administering-the-system-using-the-gnome-desktop-environment">Installing applications using Flatpak</a>.</p>
</div>
<div class="sect2">
<h3 id="creating-a-flatpak-remote-by-using-web-ui"><a class="anchor" href="#creating-a-flatpak-remote-by-using-web-ui"></a>16.1. Creating a Flatpak remote by using Foreman web UI</h3>
<div class="paragraph">
<p>You can create a Flatpak remote to access and manage Flatpak repositories in Foreman web UI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your Foreman account has a role that grants the <code>create_flatpak_remotes</code> permission.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Flatpak Remotes</strong>.</p>
</li>
<li>
<p>Click <strong>Create new</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the Flatpak remote.</p>
</li>
<li>
<p>In the <strong>URL</strong> field, enter the URL of the Flatpak remote.
For example, to use the Red&#160;Hat Flatpak index, enter: <code><a href="https://flatpaks.redhat.io/rhel/" class="bare">https://flatpaks.redhat.io/rhel/</a></code>.
To use the Fedora Flatpak index, enter: <code><a href="https://registry.fedoraproject.org/" class="bare">https://registry.fedoraproject.org/</a></code>.</p>
</li>
<li>
<p>If the Flatpak remote requires authentication, enter the required credentials.
For example, synchronizing Red&#160;Hat Flatpaks from <code>registry.redhat.io</code> requires authentication.
For more information, see <a href="https://access.redhat.com/articles/RegistryAuthentication#creating-registry-service-accounts-6">Creating Registry Service Accounts</a>.</p>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-flatpak-remote-by-using-cli"><a class="anchor" href="#creating-a-flatpak-remote-by-using-cli"></a>16.2. Creating a Flatpak remote by using Hammer CLI</h3>
<div class="paragraph">
<p>You can create a Flatpak remote to access and manage Flatpak repositories by using Hammer CLI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your Foreman account has a role that grants the <code>create_flatpak_remotes</code> permission.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Create your Flatpak remote:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote create \
--name <em>My_Flatpak_Remote_Name</em> \
--organization-id <em>My_Organization_ID</em> \
--url <em>My_Flatpak_Remote_URL</em></pre>
</div>
</div>
<div class="paragraph">
<p>For example, to use the Red&#160;Hat Flatpak index, enter: <code><a href="https://flatpaks.redhat.io/rhel/" class="bare">https://flatpaks.redhat.io/rhel/</a></code>.
To use the Fedora Flatpak index, enter: <code><a href="https://registry.fedoraproject.org/" class="bare">https://registry.fedoraproject.org/</a></code>.</p>
</div>
<div class="paragraph">
<p>If the Flatpak remote requires authentication, enter the required credentials.
For example, synchronizing Red&#160;Hat Flatpaks from <code>registry.redhat.io</code> requires authentication.
For more information, see <a href="https://access.redhat.com/articles/RegistryAuthentication#creating-registry-service-accounts-6">Creating Registry Service Accounts</a>.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="scanning-a-flatpak-remote-by-using-web-ui"><a class="anchor" href="#scanning-a-flatpak-remote-by-using-web-ui"></a>16.3. Scanning a Flatpak remote by using Foreman web UI</h3>
<div class="paragraph">
<p>You can scan a Flatpak remote to fetch metadata about the repositories it provides.
Scanning a Flatpak remote creates remote repository artifacts for the repositories hosted by the Flatpak remote.
If new repositories are added to the Flatpak remote, scan it again to pull in the changes.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your Foreman account has a role that grants the <code>view_flatpak_remotes</code> and <code>edit_flatpak_remotes</code> permissions.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Flatpak Remotes</strong>.</p>
</li>
<li>
<p>Select the Flatpak remote that you want to scan.</p>
</li>
<li>
<p>Click <strong>Scan</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="scanning-a-flatpak-remote-by-using-cli"><a class="anchor" href="#scanning-a-flatpak-remote-by-using-cli"></a>16.4. Scanning a Flatpak remote by using Hammer CLI</h3>
<div class="paragraph">
<p>You can scan a Flatpak remote to fetch metadata about the repositories it provides.
Scanning a Flatpak remote creates remote repository artifacts for the repositories hosted by the Flatpak remote.
If new repositories are added to the Flatpak remote, scan it again to pull in the changes.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your Foreman account has a role that grants the <code>view_flatpak_remotes</code> and <code>edit_flatpak_remotes</code> permissions.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Scan your Flatpak remote:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote scan --id <em>My_Flatpak_Remote_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="viewing-flatpak-remote-details-by-using-web-ui"><a class="anchor" href="#viewing-flatpak-remote-details-by-using-web-ui"></a>16.5. Viewing Flatpak remote details by using Foreman web UI</h3>
<div class="paragraph">
<p>You can view a list of the repositories a scanned Flatpak remote provides.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your Foreman account has a role that grants the <code>view_flatpak_remotes</code> permission.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Flatpak Remotes</strong>.</p>
</li>
<li>
<p>Click the name of the Flatpak remote you want to view.</p>
</li>
<li>
<p>The page displays a list of repositories available from the scanned Flatpak remote.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="viewing-flatpak-remote-details-by-using-cli"><a class="anchor" href="#viewing-flatpak-remote-details-by-using-cli"></a>16.6. Viewing Flatpak remote details by using Hammer CLI</h3>
<div class="paragraph">
<p>You can view a list of the repositories a scanned Flatpak remote provides.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your Foreman account has a role that grants the <code>view_flatpak_remotes</code> permission.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>View details of your Flatpak remote:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote info --id <em>My_Flatpak_Remote_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="mirroring-remote-flatpak-repositories-to-foreman-products-by-using-web-ui"><a class="anchor" href="#mirroring-remote-flatpak-repositories-to-foreman-products-by-using-web-ui"></a>16.7. Mirroring remote Flatpak repositories to Foreman products by using Foreman web UI</h3>
<div class="paragraph">
<p>You can mirror a Flatpak repository from a Flatpak remote into an existing product in Foreman to make it available for content management and distribution.</p>
</div>
<div class="paragraph">
<p>This action creates a new repository inside the product you selected.
You can now synchronize the repository to pull down its content.
Flatpak repositories are container repositories and you can add them to content views like other container repositories.</p>
</div>
<div class="paragraph">
<p>Flatpak applications require a corresponding runtime environment, which the Flatpak remote also provides.
To make the Enterprise Linux 10 Mozilla Firefox Flatpak available to a host, ensure that the host can access the matching <code>rhel10/flatpak-runtime</code> repository.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your Foreman account has a role that grants the <code>view_flatpak_remotes</code> and <code>edit_flatpak_remotes</code> permissions.</p>
</li>
<li>
<p>Ensure that Flatpak runtime repositories are available to hosts alongside application repositories.
Flatpak applications, such as <code>rhel9/firefox-flatpak</code>, depend on the runtime for installation.</p>
</li>
<li>
<p>You have created a product on Foreman.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Flatpak Remotes</strong>.</p>
</li>
<li>
<p>In the list of Flatpak Remotes, click the name of the remote you want to mirror.</p>
</li>
<li>
<p>In the list of remote repositories, locate the repository you want to mirror.</p>
</li>
<li>
<p>Select the <strong>Mirror Action</strong> menu on the row of the repository.</p>
</li>
<li>
<p>In the <strong>Mirror</strong> window, select the existing product where you want to create the new repository.</p>
</li>
<li>
<p>Click <strong>Mirror</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="mirroring-remote-flatpak-repositories-to-foreman-products-by-using-cli"><a class="anchor" href="#mirroring-remote-flatpak-repositories-to-foreman-products-by-using-cli"></a>16.8. Mirroring remote Flatpak repositories to Foreman products by using Hammer CLI</h3>
<div class="paragraph">
<p>You can mirror a Flatpak repository from a Flatpak remote into an existing product in Foreman to make it available for content management and distribution.</p>
</div>
<div class="paragraph">
<p>This action creates a new repository inside the product you selected.
You can now synchronize the repository to pull down its content.
Flatpak repositories are container repositories and you can add them to content views like other container repositories.</p>
</div>
<div class="paragraph">
<p>Flatpak applications require a corresponding runtime environment, which the Flatpak remote also provides.
To make the Enterprise Linux 10 Mozilla Firefox Flatpak available to a host, ensure that the host can access the matching <code>rhel10/flatpak-runtime</code> repository.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your Foreman account has a role that grants the <code>view_flatpak_remotes</code> and <code>edit_flatpak_remotes</code> permissions.</p>
</li>
<li>
<p>Ensure that Flatpak runtime repositories are available to hosts alongside application repositories.
Flatpak applications, such as <code>rhel9/firefox-flatpak</code>, depend on the runtime for installation.</p>
</li>
<li>
<p>You have created a product on Foreman.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Mirror a Flatpak repository into your product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote remote-repository mirror \
--flatpak-remote-id <em>My_Flatpak_Remote_ID</em> \
--id <em>My_Flatpak_Repository_ID</em> \
--product-id <em>My_Product_ID</em></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enabling-the-flatpak-remote-by-using-cli"><a class="anchor" href="#enabling-the-flatpak-remote-by-using-cli"></a>16.9. Enabling the Flatpak remote by using Hammer CLI</h3>
<div class="paragraph">
<p>This procedure configures and manages Flatpak repositories by using Hammer CLI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your Foreman account has a role that grants the permissions <code>view_flatpak_remotes</code>, <code>create_flatpak_remotes</code>, <code>edit_flatpak_remotes</code>, and <code>destroy_flatpak_remotes</code>.</p>
</li>
<li>
<p>Set up Flatpak.
For more information, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/administering_the_system_using_the_gnome_desktop_environment/assembly_installing-applications-using-flatpak_administering-the-system-using-the-gnome-desktop-environment#setting-up-flatpak_assembly_installing-applications-using-flatpak">Setting up Flatpak</a>.</p>
</li>
<li>
<p>Flatpak applications rely on Flatpak runtimes.
For example, <code>rhel9/firefox-flatpak</code> depends on <code>rhel9/flatpak-runtime</code>.</p>
</li>
<li>
<p>Ensure that runtime repositories are available to clients alongside application repositories for installations to work.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Enable a Flatpak remote on the Foreman&#160;server by using standalone Enterprise Linux systems or Foreman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote create \
--name=<em>My_Flatpak_Remote_Name</em> \
--organization=<em>My_Organization</em> \
--url=<em>My_Flatpak_Remote_URL</em></pre>
</div>
</div>
<div class="paragraph">
<p>You can include authentication details by using the options <code>--username=<em>My_User_Name</em> --token=<em>My_Token</em></code>.</p>
</div>
</li>
<li>
<p>Update the Flatpak remote with authentication credentials:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote update \
--id <em>My_Flatpak_Remote_ID</em> \
--token=<em>My_Token</em> \
--username=<em>My_User_Name</em></pre>
</div>
</div>
</li>
<li>
<p>Optional: List and view information about the Flatpak remote:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote list --organization-id <em>My_Organization_ID</em>
$ hammer flatpak-remote info --id <em>My_Flatpak_Remote_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Scan the Flatpak remote:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote scan --id=<em>My_ID</em></pre>
</div>
</div>
</li>
<li>
<p>List repositories in the Flatpak remote:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote remote-repository list --flatpak-remote-id=<em>My_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Mirror a Flatpak remote repository to a Foreman product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer flatpak-remote remote-repository mirror \
--id=<em>My_Remote_Repo_ID</em> \
--product-id=<em>Foreman_Product_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--id</code> in this command refers to the Flatpak remote repository ID, not the standard Foreman repository ID.</p>
</div>
<div class="paragraph">
<p>You can view the repository under the selected product in Foreman web UI.
Set the <strong>Include Tags</strong> field to <strong>latest</strong>.</p>
</div>
</li>
<li>
<p>Synchronize the Foreman repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository sync --id=<em>My_Repo_ID</em></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--id</code> in this command refers to the standard Foreman repository ID, not the Flatpak remote repository ID.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="installing-flatpak-applications-on-foreman-hosts"><a class="anchor" href="#installing-flatpak-applications-on-foreman-hosts"></a>16.10. Installing Flatpak applications on Foreman hosts</h3>
<div class="paragraph">
<p>Use the command line to install selected applications from the enabled Flatpak remotes.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Flatpak is installed on the host.</p>
</li>
<li>
<p>Set up Flatpak on the content host that consumes applications from Foreman&#160;server.
For more information, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/administering_the_system_using_the_gnome_desktop_environment/assembly_installing-applications-using-flatpak_administering-the-system-using-the-gnome-desktop-environment#setting-up-flatpak_assembly_installing-applications-using-flatpak">Setting up Flatpak</a>.</p>
</li>
<li>
<p>Ensure that Flatpak runtime repositories are available to hosts alongside application repositories.
Flatpak applications, such as <code>rhel9/firefox-flatpak</code>, depend on the runtime for installation.</p>
</li>
<li>
<p>Ensure that Podman is installed on the host.</p>
</li>
<li>
<p>To install Flatpak applications from Foreman, ensure that your Foreman account has the <code>view_lifecycle_environments</code>, <code>view_products</code>, and <code>view_content_views</code> permissions, unless the lifecycle environment allows unauthenticated pull.</p>
</li>
<li>
<p>Your Foreman account has a role that grants the <code>create_personal_access_tokens</code> permission to generate an access token for authentication.
The token generates automatically when you run <code>podman login</code>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On the managed host, add your Foreman&#160;server as a Flatpak remote:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ flatpak remote-add --authenticator-name=org.flatpak.Authenticator.Oci katello oci+https://<em>foreman.example.com</em>/</pre>
</div>
</div>
</li>
<li>
<p>Log in the host to the container registry using one of the following methods:</p>
<div class="ulist">
<ul>
<li>
<p>Certificate authentication</p>
<div class="ulist">
<ul>
<li>
<p>When registering a host to Foreman or Smart&#160;Proxy, select the <strong>Set up container registry certs</strong> checkbox.</p>
</li>
<li>
<p>If the host is already registered, run the <strong>Flatpak - Login to registry via podman</strong> job template on the host.
Set <strong>Set up certificate authentication</strong> to <code>true</code> and enter the URL of your Smart&#160;Proxy as the registry URL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Using Podman</p>
<div class="ulist">
<ul>
<li>
<p>Log in using Podman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ podman login <em>foreman.example.com</em></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Install your application.
For example, to install the Mozilla Firefox Flatpak:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ flatpak install firefox</pre>
</div>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For more information about launching Flatpak applications, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/administering_the_system_using_the_gnome_desktop_environment/assembly_installing-applications-using-flatpak_administering-the-system-using-the-gnome-desktop-environment#launching-flatpak-applications_assembly_installing-applications-using-flatpak">Launching Flatpak applications</a>.</p>
</li>
<li>
<p>For more information about updating Flatpak applications, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/administering_the_system_using_the_gnome_desktop_environment/assembly_installing-applications-using-flatpak_administering-the-system-using-the-gnome-desktop-environment#updating-flatpak-applications_assembly_installing-applications-using-flatpak">Updating Flatpak applications</a>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-flatpak-remote-for-smart-proxy"><a class="anchor" href="#setting-up-flatpak-remote-for-smart-proxy"></a>16.11. Setting up Flatpak remote for Smart&#160;Proxy</h3>
<div class="paragraph">
<p>Configure Smart&#160;Proxy&#160;servers to synchronize and distribute Flatpak repositories to managed hosts.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Smart&#160;Proxies synchronize Flatpaks and make them available to all hosts, but not organizations, content views, or lifecycle environments.
Clients receive the latest Flatpaks synchronized on the Smart&#160;Proxy globally.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Synchronize Flatpak repositories to the Smart&#160;Proxy.
For more information, see <a href="#repository-synchronization">Repository synchronization</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On the managed host, add the Smart&#160;Proxy as a Flatpak remote:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ flatpak remote-add --authenticator-name=org.flatpak.Authenticator.Oci katello oci+https://smartproxy.example.com/</pre>
</div>
</div>
</li>
<li>
<p>Log in the host to the container registry using one of the following methods:</p>
<div class="ulist">
<ul>
<li>
<p>Certificate authentication</p>
<div class="ulist">
<ul>
<li>
<p>When registering a host to Smart&#160;Proxy, select the <strong>Set up container registry certs</strong> checkbox.</p>
</li>
<li>
<p>If the host is already registered, run the <strong>Flatpak - Login to registry via podman</strong> job template on the host.
Set <strong>Set up certificate authentication</strong> to <code>true</code> and enter the URL of your Smart&#160;Proxy as the registry URL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Using Podman</p>
<div class="ulist">
<ul>
<li>
<p>Log in using Podman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ podman login <em>foreman.example.com</em></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about logging in using Podman, see <a href="#Configuring_podman_to_trust_the_CA_content-management">Configuring Podman and Docker to trust the certificate authority</a>.</p>
</div>
<div class="paragraph">
<p>You might need to log in to the registry again if you have not saved your credentials.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Optional: Save your credentials permanently using one of the following options:</p>
<div class="ulist">
<ul>
<li>
<p>To save the credentials for the current user:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ cp $XDG_RUNTIME_DIR/containers/auth.json $HOME/.config/flatpak/oci-auth.json</pre>
</div>
</div>
</li>
<li>
<p>To save the credentials system-wide:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ cp $XDG_RUNTIME_DIR/containers/auth.json /etc/flatpak/oci-auth.json</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Install your application.
For example, to install the Mozilla Firefox Flatpak:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ flatpak install firefox</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="importing-and-exporting-content-to-foreman-server-for-flatpak"><a class="anchor" href="#importing-and-exporting-content-to-foreman-server-for-flatpak"></a>16.12. Importing and exporting content to Foreman&#160;server for Flatpak</h3>
<div class="paragraph">
<p>Use Hammer CLI to transfer Flatpak content to Foreman&#160;server in environments with disconnected Foreman&#160;server instances.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Enable the Flatpak remote.
For more information about enabling the Flatpak remote, see <a href="#enabling-the-flatpak-remote-by-using-cli">Enabling the Flatpak remote by using Hammer CLI</a>.</p>
</li>
<li>
<p>Use download policy <strong>Immediate</strong> to synchronize Flatpak content to Foreman&#160;server.
For more information, see <a href="#changing-the-download-policy-for-a-repository-by-using-web-ui">Changing the download policy for a repository by using Foreman web UI</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On your connected Foreman&#160;server, export your Flatpak repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-export complete repository \
--id <em>My_Repository_ID</em></pre>
</div>
</div>
</li>
<li>
<p>Transfer the Flatpak repository from your connected Foreman&#160;server to your disconnected Foreman&#160;server.
Ensure that the <code>pulp</code> user can read and write the directory and place it under <code>/var/lib/pulp/imports/</code>.</p>
<div class="paragraph">
<p>For more information, see <a href="#Synchronizing_Content_Between_Servers_content-management">Synchronizing content between Foreman&#160;servers</a>.</p>
</div>
</li>
<li>
<p>On your disconnected Foreman&#160;server, import your Flatpak repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-import repository \
--organization-id <em>My_Organization_ID</em> \
--path /var/lib/pulp/imports/<em>My_Exported_Flatpak_Repository</em>/</pre>
</div>
</div>
</li>
<li>
<p>On your host, add the disconnected Foreman&#160;server as a Flatpak remote:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ flatpak remote-add --authenticator-name=org.flatpak.Authenticator.Oci katello oci+https://<em>foreman.example.com</em>/</pre>
</div>
</div>
</li>
<li>
<p>Log in using Podman:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ podman login <em>foreman.example.com</em></pre>
</div>
</div>
</li>
<li>
<p>Install your application.
For example, to install the Mozilla Firefox Flatpak:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ flatpak install firefox</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_ISO_Images_content-management"><a class="anchor" href="#Managing_ISO_Images_content-management"></a>17. Managing ISO images</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use Foreman to store ISO images, either from Red&#160;Hat&#8217;s Content Delivery Network or other sources.
You can also upload other files, such as virtual machine images, and publish them in repositories.</p>
</div>
<div class="sect2">
<h3 id="Importing_ISO_Images_from_Red_Hat_content-management"><a class="anchor" href="#Importing_ISO_Images_from_Red_Hat_content-management"></a>17.1. Importing ISO images from Red Hat</h3>
<div class="paragraph">
<p>The Red&#160;Hat Content Delivery Network provides ISO images for certain products.
The procedure for importing this content is similar to the procedure for enabling repositories for RPM content.</p>
</div>
<div class="paragraph">
<p>To use the CLI instead of the Foreman web UI, see the <a href="#cli-importing-iso-images-from-red-hat">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Red&#160;Hat Repositories</strong>.</p>
</li>
<li>
<p>In the <strong>Search</strong> field, enter an image name, for example, <code>Red&#160;Hat Enterprise Linux 7 Server (ISOs)</code>.</p>
</li>
<li>
<p>In the Available Repositories window, expand <strong>Red&#160;Hat Enterprise Linux 7 Server (ISOs)</strong>.</p>
</li>
<li>
<p>For the <strong>x86_64 7.2</strong> entry, click the <strong>Enable</strong> icon to enable the repositories for the image.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong> and click <strong>Red&#160;Hat Enterprise Linux Server</strong>.</p>
</li>
<li>
<p>Click the <strong>Repositories</strong> tab of the Red&#160;Hat Enterprise Linux Server window, and click <strong>Red&#160;Hat Enterprise Linux 7 Server ISOs x86_64 7.2</strong>.</p>
</li>
<li>
<p>In the upper right of the Red&#160;Hat Enterprise Linux 7 Server ISOs x86_64 7.2 window, click <strong>Select Action</strong> and select <strong>Sync Now</strong>.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">To view the synchronization status</div>
<ul>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Sync Status</strong> and expand <strong>Red&#160;Hat Enterprise Linux Server</strong>.</p>
</li>
</ul>
</div>
<div id="cli-importing-iso-images-from-red-hat" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Locate the Red&#160;Hat Enterprise Linux Server product for <code>file</code> repositories:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository-set list \
--product "Red Hat Enterprise Linux Server" \
--organization "<em>My_Organization</em>" | grep "file"</pre>
</div>
</div>
</li>
<li>
<p>Enable the <code>file</code> repository for Red&#160;Hat Enterprise Linux 7.2 Server ISO:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository-set enable \
--product "Red Hat Enterprise Linux Server" \
--name "Red Hat Enterprise Linux 7 Server (ISOs)" \
--releasever 7.2 \
--basearch x86_64 \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Locate the repository in the product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository list \
--product "Red Hat Enterprise Linux Server" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Synchronize the repository in the product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository synchronize \
--name "Red Hat Enterprise Linux 7 Server ISOs x86_64 7.2" \
--product "Red Hat Enterprise Linux Server" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Importing_Individual_ISO_Images_and_Files_content-management"><a class="anchor" href="#Importing_Individual_ISO_Images_and_Files_content-management"></a>17.2. Importing individual ISO images and files</h3>
<div class="paragraph">
<p>Use this procedure to manually import ISO content and other files to Foreman&#160;server.
To import files, you can complete the following steps in the Foreman web UI or using the Hammer CLI.
However, if the size of the file that you want to upload is larger than 15 MB, you must use the Hammer CLI to upload it to a repository.</p>
</div>
<div class="paragraph">
<p>To use the CLI instead of the Foreman web UI, see the <a href="#cli-importing-individual-iso-images-and-files">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong> and click <strong>Create Product</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name to identify the product.
This name populates the <strong>Label</strong> field.</p>
</li>
<li>
<p>Optional: In the <strong>GPG Key</strong> field, enter a GPG Key for the product.</p>
</li>
<li>
<p>Optional: From the <strong>Sync Plan</strong> list, select a synchronization plan for the product.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description of the product.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>In the <strong>Products</strong> window, click the new product and then click <strong>Create Repository</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the repository.
This automatically populates the <strong>Label</strong> field.</p>
</li>
<li>
<p>From the <strong>Type</strong> list, select <strong>file</strong>.</p>
</li>
<li>
<p>In the <strong>Upstream URL</strong> field, enter the URL of the registry to use as a source.
Add a corresponding user name and password in the <strong>Upstream Username</strong> and <strong>Upstream Password</strong> fields.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>Select the new repository.</p>
</li>
<li>
<p>Navigate to <strong>Upload File</strong> and click <strong>Browse</strong>.</p>
</li>
<li>
<p>Select the <code>.iso</code> file and click <strong>Upload</strong>.</p>
</li>
</ol>
</div>
<div id="cli-importing-individual-iso-images-and-files" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Create the product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer product create \
--name "<em>My_ISOs</em>" \
--sync-plan "Example Plan" \
--description "<em>My_Product</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Create the repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository create \
--name "<em>My_ISOs</em>" \
--content-type "file" \
--product "<em>My_Product</em>" \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
<li>
<p>Upload the ISO file to the repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository upload-content \
--path ~/bootdisk.iso \
--id <em>repo_ID</em> \
--organization "<em>My_Organization</em>"</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_Ansible_Content_content-management"><a class="anchor" href="#Managing_Ansible_Content_content-management"></a>18. Managing Ansible content</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can import Ansible collections from several sources to Foreman&#160;server.</p>
</div>
<div class="paragraph">
<p>For more information about Ansible integration in Foreman, see <a href="https://docs.theforeman.org/nightly/Managing_Configurations_Ansible/index-foremanctl-katello.html#"><em>Configuring hosts by using Ansible</em></a>.</p>
</div>
<div class="sect2">
<h3 id="synchronizing-ansible-collections_content-management"><a class="anchor" href="#synchronizing-ansible-collections_content-management"></a>18.1. Synchronizing Ansible Collections</h3>
<div class="paragraph _abstract">
<p>On Foreman, you can synchronize your Ansible Collections from any Ansible Galaxy and other Foreman instances.
Ansible Collections will appear on Foreman as a new repository type in the Foreman web UI menu under <strong>Content</strong> after the sync.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select the required product name.</p>
</li>
<li>
<p>In the <strong>Products</strong> window, select the name of a product that you want to create a repository for.</p>
</li>
<li>
<p>Click the <strong>Repositories</strong> tab, and then click <strong>New Repository</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the repository.</p>
<div class="paragraph">
<p>The <strong>Label</strong> field is populated automatically based on the name.</p>
</div>
</li>
<li>
<p>From the <strong>Type</strong> list, select <strong>ansible collection</strong>.</p>
</li>
<li>
<p>In the <strong>Upstream URL</strong> field, enter the URL for the upstream collections repository.</p>
<div class="paragraph">
<p>The URL can be any Ansible Galaxy endpoint.
For example, <code>https://galaxy.ansible.com</code>.</p>
</div>
</li>
<li>
<p>Optional: In the <strong>Requirements.yml</strong> field, you can specify the list of collections you want to sync from the endpoint, as well as their versions.</p>
<div class="paragraph">
<p>If you do not specify the list of collections, everything from the endpoint will be synced.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">---
collections:
- name: my_namespace.my_collection
  version: 1.2.3</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://docs.ansible.com/ansible/latest/galaxy/user_guide.html#installing-roles-and-collections-from-the-same-requirements-yml-file">Installing roles and collections from the same requirements.yml file</a> in the <em>Galaxy User Guide</em>.</p>
</div>
</li>
<li>
<p>Optional: Deselect <strong>Sync Dependencies</strong> if you do not want Foreman to resolve and synchronize dependencies.
By default, Foreman synchronizes all required dependencies.</p>
</li>
<li>
<p>Authenticate.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To sync Foreman from <strong>Private Automation Hub</strong>, enter your token in the <strong>Auth Token</strong> field.</p>
</li>
<li>
<p>To sync Foreman from <code>console.redhat.com</code>, enter your token in the <strong>Auth Token</strong> field and enter your SSO URL in the the <strong>Auth URL</strong> field.</p>
</li>
<li>
<p>To sync Foreman from Foreman, leave both authentication fields blank.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>Navigate to the Ansible Collections repository.</p>
</li>
<li>
<p>From the <strong>Select Action</strong> menu, select <strong>Sync Now</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_Custom_File_Type_Content_content-management"><a class="anchor" href="#Managing_Custom_File_Type_Content_content-management"></a>19. Managing file type content</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Foreman, you might require methods of managing and distributing SSH keys and source code files or larger files such as virtual machine images and ISO files.
To achieve this, products in Foreman include repositories for file types.
This provides a generic method to incorporate arbitrary files in a product.</p>
</div>
<div class="paragraph">
<p>You can upload files to the repository and synchronize files from an upstream Foreman&#160;server.
When you add files to a file type repository, you can use the normal Foreman management functions such as adding a specific version to a content view to provide version control and making the repository of files available on various Smart&#160;Proxy&#160;servers.
You must download the files on clients over HTTP or HTTPS by using <code>curl -O</code>.</p>
</div>
<div class="paragraph">
<p>You can create a file type repository in Foreman&#160;server only in a product, but there is flexibility in how you create the repository source.
You can create an independent repository source in a directory on Foreman&#160;server, or on a remote HTTP server, and then synchronize the contents of that directory into Foreman.
This method is useful when you have multiple files to add to a Foreman repository.</p>
</div>
<div class="sect2">
<h3 id="Creating_a_Local_Source_for_a_Custom_File_Type_Repository_content-management"><a class="anchor" href="#Creating_a_Local_Source_for_a_Custom_File_Type_Repository_content-management"></a>19.1. Creating a local source for a file type repository</h3>
<div class="paragraph">
<p>You can create a file type repository source, from a directory of files, on the base system where Foreman is installed using <strong>Pulp Manifest</strong>.
You can then synchronize the files into a repository and manage the file type content like any other content type.</p>
</div>
<div class="paragraph">
<p>Use this procedure to configure a repository in a directory on the base system where Foreman is installed.
To create a file type repository in a directory on a remote server, see <a href="#Creating_a_Remote_Source_for_a_Custom_File_Type_Repository_content-management">Creating a remote source for a file type repository</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On your Foreman&#160;server, install the Pulp Manifest package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf install pulp-manifest</pre>
</div>
</div>
</li>
<li>
<p>Create a directory that you want to use as the file type repository, such as:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># mkdir -p /var/lib/pulp/<em>local_repos</em>/<em>my_file_repo</em></pre>
</div>
</div>
</li>
<li>
<p>Add the parent folder into allowed import paths:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-installer --foreman-proxy-content-pulpcore-additional-import-paths /var/lib/pulp/<em>local_repos</em></pre>
</div>
</div>
</li>
<li>
<p>Add files to the directory or create a test file:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># touch /var/lib/pulp/<em>local_repos</em>/<em>my_file_repo</em>/<em>test.txt</em></pre>
</div>
</div>
</li>
<li>
<p>Create the Pulp manifest:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># pulp-manifest /var/lib/pulp/<em>local_repos</em>/<em>my_file_repo</em></pre>
</div>
</div>
</li>
<li>
<p>Verify the manifest was created:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls /var/lib/pulp/<em>local_repos</em>/<em>my_file_repo</em>
PULP_MANIFEST test.txt</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now, you can import your local source as a file type repository.
Use the <code>file://</code> URL scheme and the name of the directory to specify an <strong>Upstream URL</strong>, such as <code>file:///var/lib/pulp/<em>local_repos</em>/<em>my_file_repo</em></code>.
For more information, see <a href="#Creating_a_Custom_File_Type_Repository_content-management">Creating a file type repository</a>.</p>
</div>
<div class="paragraph">
<p>If you update the contents of your directory, re-run Pulp Manifest and sync the repository in Foreman.
For more information, see <a href="#repository-synchronization">Repository synchronization</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="Creating_a_Remote_Source_for_a_Custom_File_Type_Repository_content-management"><a class="anchor" href="#Creating_a_Remote_Source_for_a_Custom_File_Type_Repository_content-management"></a>19.2. Creating a remote source for a file type repository</h3>
<div class="paragraph">
<p>You can create a file type repository source from a directory of files that is external to Foreman&#160;server using <strong>Pulp Manifest</strong>.
You can then synchronize the files into a repository on Foreman&#160;server over HTTP or HTTPS and manage the file type content like any other content type.</p>
</div>
<div class="paragraph">
<p>Use this procedure to configure a repository in a directory on a remote server.
To create a file type repository in a directory on the base system where Foreman&#160;server is installed, see <a href="#Creating_a_Local_Source_for_a_Custom_File_Type_Repository_content-management">Creating a local source for a file type repository</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have a server running Enterprise Linux 9 registered to your Foreman.</p>
</li>
<li>
<p>You have installed an HTTP server.
For more information about configuring a web server, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/deploying_web_servers_and_reverse_proxies/setting-apache-http-server_deploying-web-servers-and-reverse-proxies">Setting up the Apache HTTP web server</a> in Red&#160;Hat Enterprise Linux&#160;9 <em>Deploying web servers and reverse proxies</em>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On your HTTP server, enable the required repositories:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf config-manager --add-repo=https://yum.theforeman.org/pulpcore/3.73/el9/x86_64/
# echo "gpgkey=https://yum.theforeman.org/pulpcore/3.73/GPG-RPM-KEY-pulpcore" \
&gt;&gt; /etc/yum.repos.d/yum.theforeman.org_pulpcore_3.73_el9_x86_64_.repo</pre>
</div>
</div>
</li>
<li>
<p>Install the Pulp Manifest package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf install pulp-manifest</pre>
</div>
</div>
</li>
<li>
<p>Create a directory that you want to use as the file type repository in the HTTP server&#8217;s public folder:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># mkdir /var/www/html/pub/<em>my_file_repo</em></pre>
</div>
</div>
</li>
<li>
<p>Add files to the directory or create a test file:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># touch /var/www/html/pub/<em>my_file_repo</em>/<em>test.txt</em></pre>
</div>
</div>
</li>
<li>
<p>Create the Pulp manifest:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># pulp-manifest /var/www/html/pub/<em>my_file_repo</em></pre>
</div>
</div>
</li>
<li>
<p>Verify the manifest was created:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls /var/www/html/pub/<em>my_file_repo</em>
PULP_MANIFEST test.txt</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now, you can import your remote source as a file type repository.
Use the path to the directory to specify an <strong>Upstream URL</strong>, such as <code>http://server.example.com/<em>my_file_repo</em></code>.
For more information, see <a href="#Creating_a_Custom_File_Type_Repository_content-management">Creating a file type repository</a>.</p>
</div>
<div class="paragraph">
<p>If you update the contents of your directory, re-run Pulp Manifest and sync the repository in Foreman.
For more information, see <a href="#repository-synchronization">Repository synchronization</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="Creating_a_Custom_File_Type_Repository_content-management"><a class="anchor" href="#Creating_a_Custom_File_Type_Repository_content-management"></a>19.3. Creating a file type repository</h3>
<div class="paragraph">
<p>The procedure for creating a file type repository is the same as the procedure for creating any content, except that when you create the repository, you select the <strong>file</strong> type.
You must create a product and then add a repository.</p>
</div>
<div class="paragraph">
<p>To use the CLI instead of the Foreman web UI, see the <a href="#cli-creating-a-custom-file-type-repository_content-management">CLI procedure</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content &gt; Products</strong>.</p>
</li>
<li>
<p>Select a product that you want to create a repository for.</p>
</li>
<li>
<p>On the <strong>Repositories</strong> tab, click <strong>New Repository</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the repository.
Foreman automatically completes the <strong>Label</strong> field based on the name.</p>
</li>
<li>
<p>Optional: In the <strong>Description</strong> field, enter a description for the repository.</p>
</li>
<li>
<p>From the <strong>Type</strong> list, select <code>file</code> as type of repository.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream URL</strong> field, enter the URL of the upstream repository to use as a source.
If you do not enter an upstream URL, you can manually upload packages.
For more information, see <a href="#Uploading_Files_To_a_Custom_File_Type_Repository_content-management">Uploading files to a file type repository</a>.</p>
</li>
<li>
<p>Select <strong>Verify SSL</strong> to verify that the SSL certificates of the repository are signed by a trusted CA.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Username</strong> field, enter the user name for the upstream repository if required for authentication.
Clear this field if the repository does not require authentication.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Password</strong> field, enter the corresponding password for the upstream repository.
Clear this field if the repository does not require authentication.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Authentication Token</strong> field, provide the token of the upstream repository user for authentication.
Leave this field empty if the repository does not require authentication.</p>
</li>
<li>
<p>From the <strong>Download Policy</strong> list, select the type of synchronization Foreman&#160;server performs.
For more information, see <a href="#Download_Policies_Overview_content-management">Download policies overview</a>.</p>
</li>
<li>
<p>From the <strong>Mirroring Policy</strong> list, select the type of content synchronization Foreman&#160;server performs.
For more information, see <a href="#Mirroring_Policies_Overview_content-management">Mirroring policies overview</a>.</p>
</li>
<li>
<p>Optional: In the <strong>HTTP Proxy Policy</strong> field, select an HTTP proxy.
By default, it uses the <code>Global Default</code> HTTP proxy.</p>
</li>
<li>
<p>Optional: You can clear the <strong>Unprotected</strong> checkbox to require a subscription entitlement certificate for accessing this repository.
By default, the repository is published through HTTP.</p>
</li>
<li>
<p>Optional: In the <strong>SSL CA Cert</strong> field, select the SSL CA Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client Cert</strong> field, select the SSL Client Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client Key</strong> field, select the SSL Client Key for the repository.</p>
</li>
<li>
<p>Click <strong>Save</strong> to create the repository.</p>
</li>
</ol>
</div>
<div id="cli-creating-a-custom-file-type-repository_content-management" class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Create a product:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer product create \
--description "<em>My_Files</em>" \
--name "<em>My_File_Product</em>" \
--organization "<em>My_Organization</em>" \
--sync-plan "<em>My_Sync_Plan</em>"</pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 23. Optional parameters for the <code>hammer product create</code> command</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Option</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--gpg-key-id</code> <em>gpg_key_id</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPG key numeric identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--sync-plan-id</code> <em>sync_plan_id</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sync plan numeric identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--sync-plan</code> <em>sync_plan_name</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sync plan name to search by</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Create a <code>file</code> type repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository create \
--content-type "file" \
--name "<em>My_Files</em>" \
--organization "<em>My_Organization</em>" \
--product "<em>My_File_Product</em>"</pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 24. Optional parameters for the <code>hammer repository create</code> command</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Option</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--checksum-type</code> <em>sha_version</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repository checksum (either <code>sha256</code>, <code>sha384</code>, or <code>sha512</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--download-policy</code> <em>policy_name</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download policy for repositories (either <code>immediate</code> or <code>on_demand</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--gpg-key-id</code> <em>gpg_key_id</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPG key numeric identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--gpg-key</code> <em>gpg_key_name</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key name to search by</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--mirror-on-sync</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must this repo be mirrored from the source, and stale packages removed, when synced? Set to <code>true</code> or <code>false</code>, <code>yes</code> or <code>no</code>, <code>1</code> or <code>0</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--publish-via-http</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must this also be published using HTTP? Set to <code>true</code> or <code>false</code>, <code>yes</code> or <code>no</code>, <code>1</code> or <code>0</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--upstream-password</code> <em>repository_password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for the upstream repository user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--upstream-username</code> <em>repository_username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upstream repository user, if required for authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--url</code> <em>My_Repository_URL</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the remote repository</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--verify-ssl-on-sync</code> <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the upstream SSL certificates of the remote repository are signed by a trusted CA? Set to <code>true</code> or <code>false</code>, <code>yes</code> or <code>no</code>, <code>1</code> or <code>0</code>.</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Uploading_Files_To_a_Custom_File_Type_Repository_content-management"><a class="anchor" href="#Uploading_Files_To_a_Custom_File_Type_Repository_content-management"></a>19.4. Uploading files to a file type repository</h3>
<div class="paragraph">
<p>Use this procedure to upload files to a file type repository.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select a product by name.</p>
</li>
<li>
<p>Select a file type repository by name.</p>
</li>
<li>
<p>Click <strong>Browse</strong> to search and select the file you want to upload.</p>
</li>
<li>
<p>Click <strong>Upload</strong> to upload the selected file to Foreman&#160;server.</p>
</li>
<li>
<p>Visit the URL where the repository is published to see the file.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">CLI procedure</div>
<div class="content">
<pre class="nowrap">$ hammer repository upload-content \
--id <em>repo_ID</em> \
--organization "<em>My_Organization</em>" \
--path <em>example_file</em></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--path</code> option can indicate a file, a directory of files, or a glob expression of files.
Globs must be escaped by single or double quotes.</p>
</div>
</div>
<div class="sect2">
<h3 id="Downloading_Files_to_a_Host_from_a_Custom_File_Type_Repository_content-management"><a class="anchor" href="#Downloading_Files_to_a_Host_from_a_Custom_File_Type_Repository_content-management"></a>19.5. Downloading files to a host from a file type repository</h3>
<div class="paragraph">
<p>You can download files to a client over HTTPS using <code>curl -O</code>, and optionally over HTTP if the <strong>Unprotected</strong> option for repositories is selected.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have a file type repository.
For more information, see <a href="#Creating_a_Custom_File_Type_Repository_content-management">Creating a file type repository</a>.</p>
</li>
<li>
<p>You know the name of the file you want to download to clients from the file type repository.</p>
</li>
<li>
<p>To use HTTPS you require the following certificates on the client:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>katello-server-ca.crt</code>.
For more information, see <a href="https://docs.theforeman.org/nightly/Configuring_User_Authentication/index-foremanctl-katello.html#importing-the-katello-root-ca-certificate-using-foreman-web-ui">Importing the Katello root CA certificate using Foreman web UI</a> in <em>Configuring authentication for Foreman users</em>.</p>
</li>
<li>
<p>An Organization Debug Certificate.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Organizations_and_Locations/index-foremanctl-katello.html#Creating_an_Organization_Debug_Certificate_managing-organizations-locations">Creating an Organization Debug Certificate</a> in <em>Managing organizations and locations in Foreman</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select a product by name.</p>
</li>
<li>
<p>Select a file type repository by name.</p>
</li>
<li>
<p>Ensure to select the <strong>Unprotected</strong> checkbox to access the repository published through HTTP.</p>
</li>
<li>
<p>Copy the <strong>Published At</strong> URL.</p>
</li>
<li>
<p>On your client, download the file from Foreman&#160;server:</p>
<div class="ulist">
<ul>
<li>
<p>For HTTPS:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl \
--cacert <em>./_katello-server-ca.crt</em> \
--cert <em>./_My_Organization_key-cert.pem</em> \
--remote-name \
https://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_Product_Label</em>/<em>My_Repository_Label</em>/<em>My_File</em></pre>
</div>
</div>
</li>
<li>
<p>For HTTP:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl \
--remote-name \
http://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_Product_Label</em>/<em>My_Repository_Label</em>/<em>My_File</em></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>List the file type repositories.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository list --content-type file
---|------------|-------------------|--------------|----
ID | NAME       | PRODUCT           | CONTENT TYPE | URL
---|------------|-------------------|--------------|----
7  | <em>My_Files</em>   | <em>My_File_Product</em>   | file         |
---|------------|-------------------|--------------|----</pre>
</div>
</div>
</li>
<li>
<p>Display the repository information.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository info \
--name "<em>My_Files</em>" \
--organization-id <em>My_Organization_ID</em> \
--product "<em>My_File_Product</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>If <strong>Unprotected</strong> is enabled, the output is similar to this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"><strong>Publish Via HTTP:   yes</strong>
Published At:       https://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_File_Product_Label</em>/<em>My_Files_Label</em>/</pre>
</div>
</div>
<div class="paragraph">
<p>If <strong>Unprotected</strong> is not enabled, the output is similar to this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"><strong>Publish Via HTTP:   no</strong>
Published At:       https://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_File_Product_Label</em>/<em>My_Files_Label</em>/</pre>
</div>
</div>
</li>
<li>
<p>On your client, download the file from Foreman&#160;server:</p>
<div class="ulist">
<ul>
<li>
<p>For HTTPS:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl \
--cacert <em>./_katello-server-ca.crt</em> \
--cert <em>./_My_Organization_key-cert.pem</em> \
--remote-name \
https://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_Product_Label</em>/<em>My_Repository_Label</em>/<em>My_File</em></pre>
</div>
</div>
</li>
<li>
<p>For HTTP:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl \
--remote-name \
http://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_Product_Label</em>/<em>My_Repository_Label</em>/<em>My_File</em></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Managing_Python_Type_Content_content-management"><a class="anchor" href="#Managing_Python_Type_Content_content-management"></a>20. Managing Python type content</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use Foreman to manage Python type repositories.
To achieve this, products in Foreman include repositories for Python type content.
This provides a generic method to incorporate Python packages in a product.</p>
</div>
<div class="paragraph">
<p>You can upload Python packages to Python type repositories and synchronize files from an upstream Foreman&#160;server.
When you add Python packages to a Python type repository, you can use the normal Foreman management functions such as adding a specific version to a content view to provide version control and making the repository available on various Smart&#160;Proxy&#160;servers.
You must download the files on clients over HTTP or HTTPS by using <code>curl -O</code>.</p>
</div>
<div class="paragraph">
<p>You can create an independent repository source in a directory on Foreman&#160;server, or on a remote HTTP server, and then synchronize the contents of that directory into Foreman.
This method is useful when you have multiple Python packages to add to a repository.</p>
</div>
<div class="sect2">
<h3 id="Synchronizing_Python_Repositories_content-management"><a class="anchor" href="#Synchronizing_Python_Repositories_content-management"></a>20.1. Synchronizing Python repositories</h3>
<div class="paragraph">
<p>On Foreman, you can synchronize your Python repositories from any mirror and other Foreman instances.
You can view the Python packages in the Foreman web UI at <strong>Content</strong> &gt; <strong>Content Types</strong> &gt; <strong>Other Content Types</strong>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select a product by name.</p>
</li>
<li>
<p>In the <strong>Products</strong> window, select the name of a product that you want to create a repository for.</p>
</li>
<li>
<p>Click the <strong>Repositories</strong> tab, and then click <strong>New Repository</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter a name for the repository.</p>
<div class="paragraph">
<p>The <strong>Label</strong> field is populated automatically based on the name.</p>
</div>
</li>
<li>
<p>From the <strong>Type</strong> list, select <strong>python</strong>.</p>
</li>
<li>
<p>In the <strong>Upstream URL</strong> field, enter the URL for the upstream content source, for example, <code><a href="https://pypi.org" class="bare">https://pypi.org</a></code>.</p>
</li>
<li>
<p>Optional: Clear <strong>Verify SSL</strong> if you do not want Foreman&#160;server to verify the SSL certificate of the upstream content source.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Username</strong> field, enter the user name for the upstream repository if required for authentication.
Clear this field if the repository does not require authentication.</p>
</li>
<li>
<p>Optional: In the <strong>Upstream Password</strong> field, enter the corresponding password for the upstream repository.
Clear this field if the repository does not require authentication.</p>
</li>
<li>
<p>Optional: In the <strong>Excludes</strong> field, enter a list of Python packages separated by newlines to exclude from synchronizing to Foreman.</p>
</li>
<li>
<p>Optional: In the <strong>Includes</strong> field, enter a list of Python packages separated by newlines to limit the synchronization only to the included packages.</p>
</li>
<li>
<p>Optional: In the <strong>Keep latest packages</strong> field, enter a number to limit the amount of Python package versions kept after synchronization.
By default, Foreman keeps all package versions.</p>
</li>
<li>
<p>Optional: In the <strong>Package Types</strong> field, enter a list of package types separated by comma.
You can enter <code>sdist</code> to synchronize the source distribution or <code>bdist_wheel</code> to synchronize the built distribution.</p>
</li>
<li>
<p>From the <strong>Mirroring Policy</strong> list, select the type of content synchronization Foreman&#160;server performs.
For more information, see <a href="#Mirroring_Policies_Overview_content-management">Mirroring policies overview</a>.</p>
</li>
<li>
<p>Optional: In the <strong>HTTP Proxy Policy</strong> field, select an HTTP proxy.</p>
</li>
<li>
<p>Optional: You can clear the <strong>Unprotected</strong> checkbox to require a subscription entitlement certificate for accessing this repository.
By default, the repository is published through HTTP.</p>
</li>
<li>
<p>Optional: In the <strong>SSL CA Cert</strong> field, select the SSL CA Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client cert</strong> field, select the SSL Client Certificate for the repository.</p>
</li>
<li>
<p>Optional: In the <strong>SSL Client Key</strong> field, select the SSL Client Key for the repository.</p>
</li>
<li>
<p>Click <strong>Save</strong> to create the repository.</p>
</li>
<li>
<p>Select your repository.</p>
</li>
<li>
<p>From the <strong>Select Action</strong> menu, select <strong>Sync Now</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="Uploading_Files_To_a_Python_Type_Repository_content-management"><a class="anchor" href="#Uploading_Files_To_a_Python_Type_Repository_content-management"></a>20.2. Uploading files to a Python type repository</h3>
<div class="paragraph">
<p>You can upload files from your local machine to a Python type repository.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select a product by name.</p>
</li>
<li>
<p>Select a Python type repository by name.</p>
</li>
<li>
<p>Click <strong>Browse</strong> to search and select the file you want to upload.</p>
<div class="paragraph">
<p>You can upload <code>.whl</code> packages and <code>.tar.gz</code> archives that contain Python packages.</p>
</div>
</li>
<li>
<p>Click <strong>Upload</strong> to upload the selected file to Foreman&#160;server.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">CLI procedure</div>
<div class="content">
<pre class="nowrap">$ hammer repository upload-content \
--id <em>My_Repository_ID</em> \
--organization-id <em>My_Organization_ID</em> \
--path <em>Path_To_My_File</em></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--path</code> option can indicate a file, a directory of files, or a glob expression of files.
Globs must be escaped by single or double quotes.</p>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Visit the <strong>Published At</strong> URL to see the file.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Installing_Python_Packages_from_foreman_Server_content-management"><a class="anchor" href="#Installing_Python_Packages_from_foreman_Server_content-management"></a>20.3. Installing Python packages from Foreman&#160;server</h3>
<div class="paragraph">
<p>You can install Python packages from Foreman on hosts using <code>pip</code>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have uploaded or synchronized a Python package to Foreman.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>On your hosts, set the URL to Foreman&#160;server to install a Python package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ pip install \
--index-url https://foreman.example.com/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_Product</em>/<em>My_Python_Repository</em>/simple/ \
<em>My_Python_Package</em></pre>
</div>
</div>
<div class="paragraph">
<p>If your host does not trust the certificate of your Foreman&#160;server, add the <code>--trusted-host foreman.example.com</code> option.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Downloading_Files_to_a_Host_from_a_Python_Type_Repository_content-management"><a class="anchor" href="#Downloading_Files_to_a_Host_from_a_Python_Type_Repository_content-management"></a>20.4. Downloading files to a host from a Python type repository</h3>
<div class="paragraph">
<p>You can download files to a client over HTTPS using <code>curl -O</code>, and optionally over HTTP if the <strong>Unprotected</strong> option for repositories is selected.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have a Python type repository.</p>
</li>
<li>
<p>You know the name of the Python package you want to download to clients from the Python type repository.</p>
</li>
<li>
<p>To download the Python packages over HTTPS to your hosts, you require:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>katello-server-ca.crt</code>.
For more information, see <a href="https://docs.theforeman.org/nightly/Configuring_User_Authentication/index-foremanctl-katello.html#importing-the-katello-root-ca-certificate-using-foreman-web-ui">Importing the Katello root CA certificate using Foreman web UI</a> in <em>Configuring authentication for Foreman users</em>.</p>
</li>
<li>
<p>An Organization Debug Certificate.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Organizations_and_Locations/index-foremanctl-katello.html#Creating_an_Organization_Debug_Certificate_managing-organizations-locations">Creating an Organization Debug Certificate</a> in <em>Managing organizations and locations in Foreman</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select a product by name.</p>
</li>
<li>
<p>Select a Python type repository by name.</p>
</li>
<li>
<p>Optional: Select the <strong>Unprotected</strong> checkbox to access the repository published through HTTP.</p>
</li>
<li>
<p>Copy the <strong>Published At</strong> URL.</p>
</li>
<li>
<p>On your client, download the file from Foreman&#160;server:</p>
<div class="ulist">
<ul>
<li>
<p>For HTTPS:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl \
--cacert <em>./_katello-server-ca.crt</em> \
--cert <em>./_My_Organization_key-cert.pem</em> \
--remote-name \
https://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_Product_Label</em>/<em>My_Repository_Label</em>/<em>My_File</em></pre>
</div>
</div>
</li>
<li>
<p>For HTTP:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl \
--remote-name \
http://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_Product_Label</em>/<em>My_Repository_Label</em>/<em>My_File</em></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>List all <code>file</code> type repositories:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository list --content-type python</pre>
</div>
</div>
</li>
<li>
<p>View the repository information:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer repository info \
--name "<em>My_Python_Repository</em>" \
--organization-id <em>My_Organization_ID</em> \
--product "<em>My_Product</em>"</pre>
</div>
</div>
</li>
<li>
<p>On your client, download the file from Foreman&#160;server:</p>
<div class="ulist">
<ul>
<li>
<p>For HTTPS:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl \
--cacert <em>./_katello-server-ca.crt</em> \
--cert <em>./_My_Organization_key-cert.pem</em> \
--remote-name \
https://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_Product_Label</em>/<em>My_Repository_Label</em>/<em>My_File</em></pre>
</div>
</div>
</li>
<li>
<p>For HTTP:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># curl \
--remote-name \
http://<em>foreman.example.com</em>/pulp/content/<em>My_Organization_Label</em>/Library/custom/<em>My_Product_Label</em>/<em>My_Repository_Label</em>/<em>My_File</em></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="required-red-hat-repositories"><a class="anchor" href="#required-red-hat-repositories"></a>Appendix A: Required Red Hat repositories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You need the following repositories to manage hosts with Red&#160;Hat Enterprise Linux.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">For Red&#160;Hat Enterprise Linux 10 hosts</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 10 for x86_64 - BaseOS (RPMs)</strong></p>
</li>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 10 for x86_64 - AppStream (RPMs)</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">For Red&#160;Hat Enterprise Linux 9 hosts</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 9 for x86_64 - BaseOS (RPMs)</strong></p>
</li>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 9 for x86_64 - AppStream (RPMs)</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">For Red&#160;Hat Enterprise Linux 8 hosts</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 8 for x86_64 - BaseOS (RPMs)</strong></p>
</li>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 8 for x86_64 - AppStream (RPMs)</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">For Red&#160;Hat Enterprise Linux 7 hosts</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 7 Server (RPMs)</strong></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Additional repositories for provisioning</div>
<p>To provision hosts by using the Anaconda installer with Kickstart, you additionally need the following repositories.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">For Red&#160;Hat Enterprise Linux 10 hosts</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 10 for x86_64 - BaseOS (Kickstart)</strong></p>
</li>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 10 for x86_64 - AppStream (Kickstart)</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">For Red&#160;Hat Enterprise Linux 9 hosts</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 9 for x86_64 - BaseOS (Kickstart)</strong></p>
</li>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 9 for x86_64 - AppStream (Kickstart)</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">For Red&#160;Hat Enterprise Linux 8 hosts</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 8 for x86_64 - BaseOS (Kickstart)</strong></p>
</li>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 8 for x86_64 - AppStream (Kickstart)</strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">For Red&#160;Hat Enterprise Linux 7 hosts</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Red&#160;Hat Enterprise Linux 7 Server (Kickstart)</strong></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting-synchronization-errors"><a class="anchor" href="#troubleshooting-synchronization-errors"></a>Appendix B: Troubleshooting synchronization errors</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">"[Errno 1] Operation not permitted: &#8230;&#8203;" during repository syncing</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># chown --recursive pulp:pulp /var/lib/pulp/media/</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">"{"policy":[""" is not a valid choice."]}" during Debian repository syncing</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-rake katello:migrate_deb_content_attributes_to_pulp3</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">500 API error during syncing with "cryptography.fernet.InvalidToken" in /var/log/messages traceback</dt>
<dd>
<p>Run this on your Foreman&#160;server and all Smart&#160;Proxy&#160;servers:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sudo -u pulp PULP_SETTINGS='/etc/pulp/settings.py' pulpcore-manager datarepair-2327 --dry-run</pre>
</div>
</div>
<div class="paragraph">
<p>If you see values greater than 0, repair the content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sudo -u pulp PULP_SETTINGS='/etc/pulp/settings.py' pulpcore-manager datarepair-2327</pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Using_an_NFS_Share_for_Content_Storage_content-management"><a class="anchor" href="#Using_an_NFS_Share_for_Content_Storage_content-management"></a>Appendix C: Using an NFS share for content storage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Your environment requires adequate hard disk space to fulfill content storage.
In some situations, it is useful to use an NFS share to store this content.
This appendix shows how to mount the NFS share on your Foreman&#160;server&#8217;s content management component.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Use high-bandwidth, low-latency storage for the <code>/var/lib/pulp</code> file system.
Foreman has many I/O-intensive operations; therefore, high-latency, low-bandwidth storage might have issues with performance degradation.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create the NFS share.
This example uses a share at <code>nfs.example.com:/Foreman/pulp</code>.
Ensure this share provides the appropriate permissions to Foreman&#160;server and its <code>apache</code> user.</p>
</li>
<li>
<p>Stop Foreman services on your Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-maintain service stop</pre>
</div>
</div>
</li>
<li>
<p>Ensure Foreman&#160;server has the <code>nfs-utils</code> package installed:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf install nfs-utils</pre>
</div>
</div>
</li>
<li>
<p>You need to copy the existing contents of <code>/var/lib/pulp</code> to the NFS share.
First, mount the NFS share to a temporary location:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># mkdir /mnt/temp
# mount -o rw nfs.example.com:/Foreman/pulp /mnt/temp</pre>
</div>
</div>
<div class="paragraph">
<p>Copy the existing contents of <code>/var/lib/pulp</code> to the temporary location:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># cp -r /var/lib/pulp/* /mnt/temp/.</pre>
</div>
</div>
</li>
<li>
<p>Set the permissions for all files on the share to use the <code>pulp</code> user.</p>
</li>
<li>
<p>Unmount the temporary storage location:</p>
<div class="listingblock">
<div class="content">
<pre># umount /mnt/temp</pre>
</div>
</div>
</li>
<li>
<p>Remove the existing contents of <code>/var/lib/pulp</code>:</p>
<div class="listingblock">
<div class="content">
<pre># rm -rf /var/lib/pulp/*</pre>
</div>
</div>
</li>
<li>
<p>Edit the <code>/etc/fstab</code> file and add the following line:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">nfs.example.com:/Foreman/pulp    /var/lib/pulp   nfs    rw,hard,intr,context="system_u:object_r:pulpcore_var_lib_t:s0"</pre>
</div>
</div>
<div class="paragraph">
<p>This makes the mount persistent across system reboots.
Ensure to include the SELinux context.</p>
</div>
</li>
<li>
<p>Enable the mount:</p>
<div class="listingblock">
<div class="content">
<pre># mount -a</pre>
</div>
</div>
</li>
<li>
<p>Confirm the NFS share mounts to <code>var/lib/pulp</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># df
Filesystem                         1K-blocks     Used Available Use% Mounted on
...
nfs.example.com:/Foreman/pulp 309506048 58632800 235128224  20% /var/lib/pulp
...</pre>
</div>
</div>
<div class="paragraph">
<p>Also confirm that the existing content exists at the mount on <code>var/lib/pulp</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># ls /var/lib/pulp</pre>
</div>
</div>
</li>
<li>
<p>Start Foreman services on your Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-maintain service start</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Foreman&#160;server now uses the NFS share to store content.
Run a content synchronization to ensure the NFS share works as expected.
For more information, see <a href="#repository-synchronization">Repository synchronization</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Configuring-ISS_content-management"><a class="anchor" href="#Configuring-ISS_content-management"></a>Appendix D: Configuring Inter-Server Synchronization (ISS)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="configuring-projectserver-to-synchronize-content-by-using-exports_content-management"><a class="anchor" href="#configuring-projectserver-to-synchronize-content-by-using-exports_content-management"></a>D.1. Configuring Foreman&#160;server to synchronize content by using exports</h3>
<div class="paragraph">
<p>If you deployed your downstream Foreman&#160;server as air gapped, configure your Foreman&#160;server as such to avoid attempts to consume content from a network.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Subscriptions</strong>.</p>
</li>
<li>
<p>Click <strong>Manage Manifest</strong>.</p>
</li>
<li>
<p>Switch to the <strong>CDN Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Export Sync</strong> tab.</p>
</li>
<li>
<p>Click <strong>Update</strong>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Log in to your Foreman&#160;server by using SSH.</p>
</li>
<li>
<p>Set CDN configuration to sync by using exports:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer organization configure-cdn --name="<em>My_Organization</em>" --type=export_sync</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-server-to-synchronize-content-over-a-network_content-management"><a class="anchor" href="#configuring-server-to-synchronize-content-over-a-network_content-management"></a>D.2. Configuring Foreman&#160;server to synchronize content over a network</h3>
<div class="paragraph">
<p>Configure a downstream Foreman&#160;server to synchronize repositories from a connected upstream Foreman&#160;server over HTTPS.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A network connection exists between the upstream Foreman&#160;server and the downstream Foreman&#160;server.</p>
</li>
<li>
<p>You imported the same subscription manifest on both the upstream and downstream Foreman&#160;server.
For more information, see <a href="#Importing_a_Red_Hat_Subscription_Manifest_into_Server_content-management">Importing a Red&#160;Hat subscription manifest into Foreman&#160;server</a>.</p>
</li>
<li>
<p>On the upstream Foreman&#160;server, you enabled the required repositories for the organization.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#enabling-red-hat-repositories-by-using-web-ui">Enabling Red Hat Repositories</a> in <em>Managing content</em>.</p>
</li>
<li>
<p>The upstream user is an admin or has the following permissions:</p>
<div class="ulist">
<ul>
<li>
<p><code>view_organizations</code></p>
</li>
<li>
<p><code>view_products</code></p>
</li>
<li>
<p><code>export_content</code></p>
</li>
<li>
<p><code>view_lifecycle_environments</code></p>
</li>
<li>
<p><code>view_content_views</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>On the downstream Foreman&#160;server, you have imported the SSL certificate of the upstream Foreman&#160;server using the contents of <code>http://<em>upstream-foreman.example.com</em>/pub/katello-server-ca.crt</code>.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#importing-custom-ssl-certificates-by-using-web-ui">Importing SSL Certificates</a> in <em>Managing content</em>.</p>
</li>
<li>
<p>The downstream user is an admin or has the permissions to create product repositories and organizations.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Navigate to <strong>Content</strong> &gt; <strong>Subscriptions</strong>.</p>
</li>
<li>
<p>Click <strong>Manage Manifest</strong>.</p>
</li>
<li>
<p>Navigate to the <strong>CDN Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Network Sync</strong> tab.</p>
</li>
<li>
<p>In the <strong>URL</strong> field, enter the address of the upstream Foreman&#160;server.</p>
</li>
<li>
<p>In the <strong>Username</strong>, enter your username for upstream login.</p>
</li>
<li>
<p>In the <strong>Password</strong>, enter your password or personal access token for upstream login.</p>
</li>
<li>
<p>In the <strong>Organization label</strong> field, enter the label of the upstream organization.</p>
</li>
<li>
<p>Optional: In the <strong>Lifecycle Environment Label</strong> field, enter the label of the upstream lifecycle environment.
Default is <code>Library</code>.</p>
</li>
<li>
<p>Optional: In the <strong>Content view label</strong> field, enter the label of the upstream content view.
Default is <code>Default_Organization_View</code>.</p>
</li>
<li>
<p>From the <strong>SSL CA Content Credential</strong> menu, select a CA certificate used by the upstream Foreman&#160;server.</p>
</li>
<li>
<p>Click <strong>Update</strong>.</p>
</li>
<li>
<p>In the Foreman web UI, navigate to <strong>Content</strong> &gt; <strong>Products</strong>.</p>
</li>
<li>
<p>Select the product that contains the repositories that you want to synchronize.</p>
</li>
<li>
<p>From the <strong>Select Action</strong> menu, select <strong>Sync Now</strong> to synchronize all repositories within the product.</p>
<div class="paragraph">
<p>You can also create a synchronization plan to ensure updates on a regular basis.
For more information, see <a href="https://docs.theforeman.org/nightly/Managing_Content/index-foremanctl-katello.html#creating-a-sync-plan-by-using-web-ui">Creating a Synchronization Plan</a> in <em>Managing content</em>.</p>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">CLI procedure</div>
<ol class="arabic">
<li>
<p>Connect to your downstream Foreman&#160;server using SSH.</p>
</li>
<li>
<p>View information about the upstream CA certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer content-credential show \
--name="<em>My_Upstream_CA_Cert</em>" \
--organization="<em>My_Downstream_Organization</em>"</pre>
</div>
</div>
<div class="paragraph">
<p>Note the ID of the CA certificate for the next step.</p>
</div>
</li>
<li>
<p>Set CDN configuration to an upstream Foreman&#160;server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ hammer organization configure-cdn --name="<em>My_Downstream_Organization</em>" \
--type=network_sync \
--url https://<em>upstream-foreman.example.com</em> \
--username <em>upstream_username</em> --password <em>upstream_password</em> \
--ssl-ca-credential-id "<em>My_Upstream_CA_Cert_ID" \
--upstream-organization-label="_My_Upstream_Organization</em>" \
[--upstream-lifecycle-environment-label="<em>My_Lifecycle_Environment</em>"] \
[--upstream-content-view-label="<em>My_Content_View</em>"]</pre>
</div>
</div>
<div class="paragraph">
<p>The default lifecycle environment label is <code>Library</code>.
The default content view label is <code>Default_Organization_View</code>.</p>
</div>
</li>
</ol>
</div>
<!-- "Fork me on GitHub" CSS ribbon v0.2.3 | MIT License -->
<!-- https://github.com/simonwhitaker/github-fork-ribbon-css -->
<a class="release-ribbon right-top fixed" data-ribbon="Pre-release version" title="Pre-release version">
Pre-release version
</a>
<a class="issue-ribbon right-bottom fixed" href="https://github.com/theforeman/foreman-documentation/issues/new?template=report-issue.md" data-ribbon="Report issue" title="Report issue">
Report issue
</a>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version Nightly<br>
Last updated Dec 2025
</div>
</div>
<script>
;(function () { /*! Asciidoctor Tabs | Copyright (c) 2018-present Dan Allen | MIT License */
  'use strict'

  var config = (document.currentScript || {}).dataset || {}
  var forEach = Array.prototype.forEach

  init(document.querySelectorAll('.tabs'))

  function init (tabsBlocks) {
    if (!tabsBlocks.length) return
    forEach.call(tabsBlocks, function (tabs) {
      var syncIds = tabs.classList.contains('is-sync') ? {} : undefined
      var tablist = tabs.querySelector('.tablist ul')
      tablist.setAttribute('role', 'tablist')
      var start
      forEach.call(tablist.querySelectorAll('li'), function (tab, idx) {
        tab.tabIndex = -1
        tab.setAttribute('role', tab.classList.add('tab') || 'tab')
        var id, anchor, syncId
        if (!(id = tab.id) && (anchor = tab.querySelector('a[id]'))) {
          id = tab.id = anchor.parentNode.removeChild(anchor).id
        }
        var panel = id && tabs.querySelector('.tabpanel[aria-labelledby~="' + id + '"]')
        if (!panel) return idx ? undefined : toggleSelected(tab, true) // invalid state
        syncIds && (((syncId = tab.textContent.trim()) in syncIds) ? (syncId = undefined) : true) &&
          (syncIds[(tab.dataset.syncId = syncId)] = tab)
        idx || (syncIds && (start = { tab: tab, panel: panel })) ? toggleHidden(panel, true) : toggleSelected(tab, true)
        tab.setAttribute('aria-controls', panel.id)
        panel.setAttribute('role', 'tabpanel')
        var onClick = syncId === undefined ? activateTab : activateTabSync
        tab.addEventListener('click', onClick.bind({ tabs: tabs, tab: tab, panel: panel }))
      })
      if (!tabs.closest('.tabpanel')) {
        forEach.call(tabs.querySelectorAll('.tabpanel table.tableblock'), function (table) {
          var container = Object.assign(document.createElement('div'), { className: 'tablecontainer' })
          table.parentNode.insertBefore(container, table).appendChild(table)
        })
      }
      if (start) {
        var syncGroupId
        for (var i = 0, lst = tabs.classList, len = lst.length, className; i !== len; i++) {
          if (!(className = lst.item(i)).startsWith('data-sync-group-id=')) continue
          tabs.dataset.syncGroupId = syncGroupId = lst.remove(className) || className.slice(19).replace(/\u00a0/g, ' ')
          break
        }
        if (syncGroupId === undefined) tabs.dataset.syncGroupId = syncGroupId = Object.keys(syncIds).sort().join('|')
        var preferredSyncId = 'syncStorageKey' in config &&
          window[(config.syncStorageScope || 'local') + 'Storage'].getItem(config.syncStorageKey + '-' + syncGroupId)
        var tab = preferredSyncId && syncIds[preferredSyncId]
        tab && Object.assign(start, { tab: tab, panel: document.getElementById(tab.getAttribute('aria-controls')) })
        toggleSelected(start.tab, true) || toggleHidden(start.panel, false)
      }
    })
    onHashChange()
    toggleClassOnEach(tabsBlocks, 'is-loading', 'remove')
    window.setTimeout(toggleClassOnEach.bind(null, tabsBlocks, 'is-loaded', 'add'), 0)
    window.addEventListener('hashchange', onHashChange)
  }

  function activateTab (e) {
    var tab = this.tab
    var tabs = this.tabs || (this.tabs = tab.closest('.tabs'))
    var panel = this.panel || (this.panel = document.getElementById(tab.getAttribute('aria-controls')))
    querySelectorWithSiblings(tabs, '.tablist .tab', 'tab').forEach(function (el) {
      toggleSelected(el, el === tab)
    })
    querySelectorWithSiblings(tabs, '.tabpanel', 'tabpanel').forEach(function (el) {
      toggleHidden(el, el !== panel)
    })
    if (!this.isSync && 'syncStorageKey' in config && 'syncGroupId' in tabs.dataset) {
      var storageKey = config.syncStorageKey + '-' + tabs.dataset.syncGroupId
      window[(config.syncStorageScope || 'local') + 'Storage'].setItem(storageKey, tab.dataset.syncId)
    }
    if (!e) return
    var loc = window.location
    var hashIdx = loc.hash ? loc.href.indexOf('#') : -1
    if (~hashIdx) window.history.replaceState(null, '', loc.href.slice(0, hashIdx))
    e.preventDefault()
  }

  function activateTabSync (e) {
    activateTab.call(this, e)
    var thisTabs = this.tabs
    var thisTab = this.tab
    var initialY = thisTabs.getBoundingClientRect().y
    forEach.call(document.querySelectorAll('.tabs'), function (tabs) {
      if (tabs === thisTabs || tabs.dataset.syncGroupId !== thisTabs.dataset.syncGroupId) return
      querySelectorWithSiblings(tabs, '.tablist .tab', 'tab').forEach(function (tab) {
        if (tab.dataset.syncId === thisTab.dataset.syncId) activateTab.call({ tabs: tabs, tab: tab, isSync: true })
      })
    })
    var shiftedBy = thisTabs.getBoundingClientRect().y - initialY
    if (shiftedBy && (shiftedBy = Math.round(shiftedBy))) window.scrollBy({ top: shiftedBy, behavior: 'instant' })
  }

  function querySelectorWithSiblings (scope, selector, siblingClass) {
    var el = scope.querySelector(selector)
    if (!el) return []
    var result = [el]
    while ((el = el.nextElementSibling) && el.classList.contains(siblingClass)) result.push(el)
    return result
  }

  function toggleClassOnEach (elements, className, method) {
    forEach.call(elements, function (el) {
      el.classList[method](className)
    })
  }

  function toggleHidden (el, state) {
    el.classList[(el.hidden = state) ? 'add' : 'remove']('is-hidden')
  }

  function toggleSelected (el, state) {
    el.setAttribute('aria-selected', '' + state)
    el.classList[state ? 'add' : 'remove']('is-selected')
    el.tabIndex = state ? 0 : -1
  }

  function onHashChange () {
    var id = window.location.hash.slice(1)
    if (!id) return
    var tab = document.getElementById(~id.indexOf('%') ? decodeURIComponent(id) : id)
    if (!(tab && tab.classList.contains('tab'))) return
    'syncId' in tab.dataset ? activateTabSync.call({ tab: tab }) : activateTab.call({ tab: tab })
  }
})()
</script>
</body>
</html>