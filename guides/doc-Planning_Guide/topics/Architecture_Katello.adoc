[[sect-Architecture_Guide-Introduction_to_Red_Hat_Satellite-System_Architecture]]
=== System Architecture

The following diagram represents the high-level architecture of {ProjectName}.

ifndef::satellite[]
include::../common/modules/snip_red-hat-images.adoc[]
endif::[]

[[figu-Architecture_System_Architecture-System_Architecture]]
.{ProjectName} System Architecture

image::satellite_6_system_architecture.png[{ProjectName} System Architecture]


There are four stages through which content flows in this architecture:

[[varl-Architecture_System_Architecture-External_Content_Sources]]
*External Content Sources*:: The _{ProjectName} Server_ can consume diverse types of content from various sources.
The Red{nbsp}Hat Customer Portal is the primary source of software packages, errata, and container images.
In addition, you can use other supported content sources (Git repositories, Docker Hub, Puppet Forge, SCAP repositories) as well as your organization's internal data store.


[[varl-Architecture_System_Architecture-RednbspHat_Satellite_Server]]
*{ProjectName} Server*:: The {ProjectName} Server enables you to plan and manage the content life cycle and the configuration of {SmartProxyServer}s and hosts through GUI, CLI, or API.
+
{ProjectServer} organizes the life cycle management by using organizations as principal division units.
Organizations isolate content for groups of hosts with specific requirements and administration tasks.
For example, the OS build team can use a different organization than the web development team.
+
{ProjectServer} also contains a fine-grained authentication system to provide {Project} operators with permissions to access precisely the parts of the infrastructure that lie in their area of responsibility.


[[varl-Architecture_System_Architecture-Capsule_Servers]]
*{SmartProxyServer}s*:: {SmartProxyServer}s mirror content from {ProjectServer} to establish content sources in various geographical locations.
This enables host systems to pull content and configuration from {SmartProxyServer}s in their location and not from the central {ProjectServer}.
The recommended minimum number of {SmartProxyServer}s is therefore given by the number of geographic regions where the organization that uses {Project} operates.
+
Using Content Views, you can specify the exact subset of content that {SmartProxyServer} makes available to hosts.
See xref:figu-{Project_Link}-Architecture_Guide-{Project_Link}_6_System_Architecture-Content_Life_Cycle_in_{Project_Link}_6[] for a closer look at life cycle management with the use of Content Views.
+
The communication between managed hosts and {ProjectServer} is routed through {SmartProxyServer} that can also manage multiple services on behalf of hosts.
Many of these services use dedicated network ports, but {SmartProxyServer} ensures that a single source IP address is used for all communications from the host to {ProjectServer}, which simplifies firewall administration.
For more information on {SmartProxyServer}s see xref:chap-Documentation-Architecture_Guide-Capsule_Server_Overview[].


[[varl-Architecture_System_Architecture-Managed_Hosts]]
*Managed Hosts*:: Hosts are the recipients of content from {SmartProxyServer}s.
Hosts can be either physical or virtual.
{ProjectServer} can have directly managed hosts.
The base system running a {SmartProxyServer} is also a managed host of {ProjectServer}.

The following diagram provides a closer look at the distribution of content from {ProjectServer} to {SmartProxies}.

ifndef::satellite[]
include::../common/modules/snip_red-hat-images.adoc[]
endif::[]

[[figu-Architecture_System_Architecture-Content_Life_Cycle_in_Red_Hat_Satellite_6]]
.Content Life Cycle in {ProjectName}

image::satellite_6_life_cycle.png[Content Life Cycle in {ProjectName}]


By default, each organization has a Library of content from external sources.
Content Views are subsets of content from the Library created by intelligent filtering.
You can publish and promote Content Views into life cycle environments (typically Dev, QA, and Production).
When creating a {SmartProxyServer}, you can choose which life cycle environments will be copied to that {SmartProxy} and made available to managed hosts.

Content Views can be combined to create Composite Content Views.
It can be beneficial to have a separate Content View for a repository of packages required by an operating system and a separate one for a repository of packages required by an application.
One advantage is that any updates to packages in one repository only requires republishing the relevant Content View.
You can then use Composite Content Views to combine published Content Views for ease of management.

Which Content Views should be promoted to which {SmartProxyServer} depends on the {SmartProxy}'s intended functionality.
Any {SmartProxyServer} can run DNS, DHCP, and TFTP as infrastructure services that can be supplemented, for example, with content or configuration services.

You can update {SmartProxyServer} by creating a new version of a Content View using synchronized content from the Library.
The new Content View version is then promoted through life cycle environments.
You can also create in-place updates of Content Views.
This means creating a minor version of the Content View in its current life cycle environment without promoting it from the Library.
For example, if you need to apply a security erratum to a Content View used in Production, you can update the Content View directly without promoting to other life cycles.
For more information on content management see the {ContentManagementDocURL}[Content Management Guide].

[[sect-Architecture_System_Components]]
=== System Components

ifdef::satellite[]
{ProjectName} consists of several open source projects which are integrated, verified, delivered and supported as {Project}.
This information is maintained and regularly updated on the Red{nbsp}Hat Customer Portal; see https://access.redhat.com/articles/1343683[Satellite 6 Component Versions].
endif::[]

{ProjectName} consists of the following open source projects:

[[varl-Architecture_System_Components-Foreman]]
*Foreman*:: Foreman is an open source application used for provisioning and life cycle management of physical and virtual systems.
Foreman automatically configures these systems using various methods, including kickstart and Puppet modules.
Foreman also provides historical data for reporting, auditing, and troubleshooting.

[[varl-Architecture_System_Components-Katello]]
ifdef::satellite[]
*Katello*:: Katello is a Foreman plug-in for subscription and repository management.
It provides a means to subscribe to Red{nbsp}Hat repositories and download content.
You can create and manage different versions of this content and apply them to specific systems within user-defined stages of the application life cycle.
endif::[]
ifndef::satellite[]
*Katello*:: Katello is an optional Foreman plug-in for subscription and repository management.
It provides a means to subscribe to repositories and download content.
You can create and manage different versions of this content and apply them to specific systems within user-defined stages of the application life cycle.
endif::[]


[[varl-Architecture_System_Components-Candlepin]]
*Candlepin*:: Candlepin is a service within Katello that handles subscription management.


[[varl-Architecture_System_Components-Pulp]]
*Pulp*:: Pulp is a service within Katello that handles repository and content management.
Pulp ensures efficient storage space by not duplicating RPM packages even when requested by Content Views in different organizations.


[[varl-Architecture_System_Components-Hammer]]
*Hammer*:: Hammer is a CLI tool that provides command line and shell equivalents of most {ProjectWebUI} functions.


[[varl-Architecture_System_Components-REST_API]]
*REST API*:: {ProjectName} includes a RESTful API service that allows system administrators and developers to write custom scripts and third-party applications that interface with {ProjectName}.

The terminology used in {ProjectName} and its components is extensive.
For explanations of frequently used terms, see xref:appe-{Project_Link}-Architecture_Guide-Glossary_of_Terms[].

