= Katello 4.13.0

A full list of changes is available on https://projects.theforeman.org/issues?set_filter=1&sort=id%3Adesc&status_id=closed&f%5B%5D=cf_12&op%5Bcf_12%5D=%3D&v%5Bcf_12%5D%5B%5D=1788[Redmine]

== Katello

* pass:[Package rubygem-dynflow not listed in a list of packages] - https://projects.theforeman.org/issues/37457[#37457]
* pass:[Cannot update packages on non-EL hosts] - https://projects.theforeman.org/issues/37340[#37340]
* pass:[Fix upstream lint issues] - https://projects.theforeman.org/issues/37331[#37331]
* pass:[It is possible to end up with the wrong remote type (uln vs. normal) for yum content] - https://projects.theforeman.org/issues/37279[#37279]
* pass:[Default Organization View is not listed first on the CV select screen in Change Content Source] - https://projects.theforeman.org/issues/37229[#37229]
* pass:[It should be possible to upload a package / repos profile from UI] - https://projects.theforeman.org/issues/37191[#37191]
* pass:[content_view_components is not preloaded in content_view controller] - https://projects.theforeman.org/issues/37108[#37108]

=== API

* pass:[--content-view-filter-id only works for ID-type filters] - https://projects.theforeman.org/issues/37394[#37394]
* pass:[API endpoint for activation_keys/:id/product_content should be TRUE by default] - https://projects.theforeman.org/issues/37350[#37350]

=== Activation Key

* pass:[Change the default setting for "Limit to environment" on the activationkey and content host pages to true] - https://projects.theforeman.org/issues/37214[#37214]

=== Alternate Content Sources

* pass:[Fix ACS randomly failing VCR tests] - https://projects.theforeman.org/issues/37277[#37277]

=== Container

* pass:[Allow pushing container images to Pulp without indexing] - https://projects.theforeman.org/issues/37302[#37302]
* pass:[`podman login` against the container registry returns 500 intermittently] - https://projects.theforeman.org/issues/37218[#37218]

=== Content Credentials

* pass:[asterisk symbol is missing for required field] - https://projects.theforeman.org/issues/37482[#37482]

=== Content Views

* pass:[Content view publish failing with katello_repository_rpms_id_seq reached maximum value error] - https://projects.theforeman.org/issues/37403[#37403]
* pass:[Content view repositories link points to broken link on composite view UI] - https://projects.theforeman.org/issues/37269[#37269]
* pass:[Newly imported content views show as needs publish] - https://projects.theforeman.org/issues/37254[#37254]
* pass:[Allow repairing content view versions] - https://projects.theforeman.org/issues/37237[#37237]
* pass:[[RFE] Block content view publishing during repository publication tasks] - https://projects.theforeman.org/issues/37139[#37139]
* pass:[Very slow content view list loading] - https://projects.theforeman.org/issues/36976[#36976]
* pass:[Python content not getting published to versions] - https://projects.theforeman.org/issues/36611[#36611]

=== Foreman Proxy Content

* pass:[Container gateway needs to send ACCEPT headers from podman to Pulp] - https://projects.theforeman.org/issues/37399[#37399]
* pass:[Allow granular repair functionality for capsules] - https://projects.theforeman.org/issues/37258[#37258]
* pass:[SmartProxy Content Sync should offer Verify Content Checksum] - https://projects.theforeman.org/issues/36803[#36803]

=== Hammer

* pass:[Improve displayed filter rules info in hammer] - https://projects.theforeman.org/issues/37181[#37181]

=== Host Collections

* pass:[Fetching Host's details does not scale wrt Hosts Collections] - https://projects.theforeman.org/issues/37346[#37346]

=== Hosts

* pass:[Add Setting to disable validation of host/lifecycle environment/content source coherence] - https://projects.theforeman.org/issues/37400[#37400]
* pass:[Add bulk CV/LCE assignment to new All Hosts page] - https://projects.theforeman.org/issues/37336[#37336]
* pass:[Add Katello column(s) to new host index page] - https://projects.theforeman.org/issues/37309[#37309]
* pass:[ katello:clean_backend_objects false alarms on systems with >1500 clients when PUTing customer facts] - https://projects.theforeman.org/issues/37283[#37283]
* pass:[Error undefined method `repository_url' when trying to use composed images for system deployments] - https://projects.theforeman.org/issues/37268[#37268]
* pass:[Link of Upgradable Content for Debian/Ubuntu is misaligned on Hosts page] - https://projects.theforeman.org/issues/37267[#37267]
* pass:[Hostgroup not showing associated Kickstart Repository in edit] - https://projects.theforeman.org/issues/37197[#37197]
* pass:[Remove the setting 'upload_profiles_without_dynflow'] - https://projects.theforeman.org/issues/37195[#37195]
* pass:[undefined method `family' for nil:NilClass after cloning a rhel8 host] - https://projects.theforeman.org/issues/37178[#37178]
* pass:[Managing a Hosts Repository Sets does not behave as expected] - https://projects.theforeman.org/issues/37169[#37169]
* pass:[Update Checkin time for ESXi hypervisors from virt-who report] - https://projects.theforeman.org/issues/37162[#37162]
* pass:[Postgresql logs contain PG::UniqueViolation: ERROR: duplicate key value violates unique constraint "katello_available_module_streams_name_stream_context"] - https://projects.theforeman.org/issues/37137[#37137]
* pass:[Offer a hint in the UI about how to get 'Synced Content' available] - https://projects.theforeman.org/issues/36992[#36992]
* pass:[When cloning a hostgroup the fields content source content view and lifecycle are empty] - https://projects.theforeman.org/issues/35215[#35215]

=== Inter Server Sync

* pass:[content export actions are failing in ruby 3] - https://projects.theforeman.org/issues/37381[#37381]
* pass:[cdn_ssl_version Setting enforces at most TLS1.0 version] - https://projects.theforeman.org/issues/36979[#36979]

=== Notifications

* pass:[Use with_enabled_email scope instead of handcrafting the query all over the place] - https://projects.theforeman.org/issues/37192[#37192]

=== Reporting

* pass:[Cannot create report "Host - All Installed Packages" for hosts running Debian/Ubuntu] - https://projects.theforeman.org/issues/37198[#37198]
* pass:[SCA-Only: Remove Subscription-Entitlement notification] - https://projects.theforeman.org/issues/37170[#37170]

=== Repositories

* pass:[Repository synchronization progress does not get updated in real time on Satellite Web UI's "Content ---> Sync Status" page - RHEL8 Satellite 6.16] - https://projects.theforeman.org/issues/37442[#37442]
* pass:[Upgrade pulp-container bindings to 2.20] - https://projects.theforeman.org/issues/37414[#37414]
* pass:[Fix typo for container_repository_name in metadata_generate_needed?] - https://projects.theforeman.org/issues/37408[#37408]
* pass:[Create a rake script that reindexes manifests with label information] - https://projects.theforeman.org/issues/37407[#37407]
* pass:[Add Include Refs and Exclude Refs options for OSTree repository type] - https://projects.theforeman.org/issues/37383[#37383]
* pass:[Container push can fail with a different JSON error] - https://projects.theforeman.org/issues/37380[#37380]
* pass:[Index Pulp manifest annotations, labels, is_bootable, is_flatpak and expose them via API] - https://projects.theforeman.org/issues/37379[#37379]
* pass:[Fix Katello (or maybe BATS) -- orphan cleanup tries deleting distributed repo versions] - https://projects.theforeman.org/issues/37371[#37371]
* pass:[Product level Verify checksum action spawns unessasary checksum tasks for cloned repositories of the root repository] - https://projects.theforeman.org/issues/37259[#37259]
* pass:[Registry Service Accounts token is not accepted in "Upstream Authentication Token"  of a docker repo] - https://projects.theforeman.org/issues/37238[#37238]
* pass:[Red Hat products that were never synced are reporting last synced time] - https://projects.theforeman.org/issues/31318[#31318]

=== Roles and Permissions

* pass:[Content Exporter role is missing the create_content_views permission] - https://projects.theforeman.org/issues/37430[#37430]

=== Subscriptions

* pass:[Org still holds stale cached manifest expiration date after manifest import/refresh] - https://projects.theforeman.org/issues/37481[#37481]
* pass:[subscription-manager release --unset doesn't reset the client information on foreman] - https://projects.theforeman.org/issues/37358[#37358]
* pass:[As a user I want to be warned before the manifest (upstream consumer identity certificate) will expire, and have a notification to refresh the manifest.] - https://projects.theforeman.org/issues/37271[#37271]
* pass:[As a user, when I refresh my manifest the expiration date of the identity certificate will get renewed, so that I am never caught with an expired manifest.] - https://projects.theforeman.org/issues/37266[#37266]
* pass:[Remove SCA-related API endpoints and params] - https://projects.theforeman.org/issues/37226[#37226]

=== Tests

* pass:[Update tests to stop using https://fixtures.pulpproject.org/rpm-zchunk/] - https://projects.theforeman.org/issues/37187[#37187]

=== Upgrades

* pass:[Upgrade pulpcore to 3.49] - https://projects.theforeman.org/issues/37301[#37301]

=== Web UI

* pass:[update ak results in hostgroup] - https://projects.theforeman.org/issues/37476[#37476]
* pass:[Update TableWrapper to comply with changes in SelectAllCheckbox] - https://projects.theforeman.org/issues/37378[#37378]
* pass:[refactor ak in hostgroups to react] - https://projects.theforeman.org/issues/37370[#37370]
* pass:[Change content source screen is still confusing coming from host edit] - https://projects.theforeman.org/issues/37313[#37313]
* pass:[Invalid PropType errors when selecting a content source on Change Content Source form] - https://projects.theforeman.org/issues/37303[#37303]
* pass:[Duplicate repositories in content view versions warning is always active] - https://projects.theforeman.org/issues/37240[#37240]

=== katello-tracer

* pass:[Use dnf needs-restarting to collect tracer information] - https://projects.theforeman.org/issues/36973[#36973]
