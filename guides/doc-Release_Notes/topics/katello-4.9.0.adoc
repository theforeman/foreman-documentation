= Katello 4.9.0

A full list of changes is available on https://projects.theforeman.org/issues?set_filter=1&sort=id%3Adesc&status_id=closed&f%5B%5D=cf_12&op%5Bcf_12%5D=%3D&v%5Bcf_12%5D%5B%5D=1645[Redmine]

== Katello

* Use plugin dsl for gettext registration - https://projects.theforeman.org/issues/36378[#36378]
* ACS delete via API returns empty response - https://projects.theforeman.org/issues/36346[#36346]
* DB Migration fails because of missing Setting::Content - https://projects.theforeman.org/issues/36343[#36343]
* Calculate needs_publish for composite content views based on component CV needs_publish - https://projects.theforeman.org/issues/36333[#36333]
* Bookmarks button for search in content -&gt; subscriptions is missing - https://projects.theforeman.org/issues/36324[#36324]
* Create an ESlint rule to enforce OUIA IDs - https://projects.theforeman.org/issues/36323[#36323]
* Ensure valid needs_published for old records and CVs with deleted audit records. - https://projects.theforeman.org/issues/36320[#36320]
* Enable tracer on host page (debian os) is always on - https://projects.theforeman.org/issues/36297[#36297]
* Make the EventDeamon runner safer to run - https://projects.theforeman.org/issues/36277[#36277]
* Hosts should upload package profile after content view / lifecycle environment change - https://projects.theforeman.org/issues/36256[#36256]
* undefined method `[]' for nil:NilClass" or undefined method `last' for nil:NilClass" when generating Host - applied errata report - https://projects.theforeman.org/issues/36182[#36182]
* Content -&gt; Errata does not display the year for the dates listed under column "Updated" - https://projects.theforeman.org/issues/36156[#36156]

=== API

* hammer does not show the how many times the activation key still can be used, also does not show the content host associated with the key - https://projects.theforeman.org/issues/36237[#36237]

=== Alternate Content Sources

* ACS page shows loading spinner forever after bulk removing ACSs - https://projects.theforeman.org/issues/36202[#36202]
* Simplified ACS products are not removed if the last repository in the product of th ACS\'s type has its URL removed - https://projects.theforeman.org/issues/35358[#35358]

=== Client/Agent

* Update katello-agent deprecation warning to show specific removal version - https://projects.theforeman.org/issues/36429[#36429]

=== Container

* Pulp headers are overwritten incorrectly during manifest pull - https://projects.theforeman.org/issues/36157[#36157]
* Docker tags, manifests, and manifest lists aren\'t displaying properly - https://projects.theforeman.org/issues/35710[#35710]

=== Content Credentials

* SSL cert content credential reported on ACS but not SSL key - https://projects.theforeman.org/issues/35976[#35976]

=== Content Views

* Set needs_publish to true for versions published with a failed task - https://projects.theforeman.org/issues/36410[#36410]
* Needs_publish icon doesn\'t refresh when publish wizard is closed with task running - https://projects.theforeman.org/issues/36402[#36402]
* Update UI to reflect needs_publish disabled flag for CVs with audits cleaned up - https://projects.theforeman.org/issues/36397[#36397]
* Add filters_applied? to cv version API. - https://projects.theforeman.org/issues/36322[#36322]
* Getting "NoMethodError undefined method `get_status' for nil:NilClass" when publishing content view - https://projects.theforeman.org/issues/36303[#36303]
* Incremental update of the content view takes long time to complete - https://projects.theforeman.org/issues/36302[#36302]
* Missing repository name (image name) in Container tags CVv comparison - https://projects.theforeman.org/issues/36290[#36290]
* Hidden CV version number in CVv comparison - https://projects.theforeman.org/issues/36289[#36289]
* Update UI to reflect needs_publish on CV - https://projects.theforeman.org/issues/36270[#36270]
* Update API, publish action and rabl with "needs_publish" from content view - https://projects.theforeman.org/issues/36269[#36269]
* Add audit to filter and filter rules changes that need a publish of content view - https://projects.theforeman.org/issues/36268[#36268]
* Add audit to repository changes that need a publish of content view - https://projects.theforeman.org/issues/36267[#36267]
* Create a new applied_filters field in CV version table and store filters at time of publish in Human readable format. - https://projects.theforeman.org/issues/36251[#36251]
*  Add a link to filters in the review page of CV publish - https://projects.theforeman.org/issues/36250[#36250]
* Content view dropdown should be visible but disabled until you select an environment - https://projects.theforeman.org/issues/36184[#36184]
* Cannot force delete repositories that are included in export content view versions - https://projects.theforeman.org/issues/36123[#36123]

=== Errata Management

* Improve errata installation templates - https://projects.theforeman.org/issues/36075[#36075]
* "Installable Errata" in report template - https://projects.theforeman.org/issues/30664[#30664]

=== Hosts

* Module streams on Content tab is missing for Rocky Linux 8.7 and 9 - https://projects.theforeman.org/issues/36338[#36338]
* Should not be able to assign LE on the client profile which is not synced on the capsule server - https://projects.theforeman.org/issues/36316[#36316]
* Can\'t update host with Katello plugin installed - https://projects.theforeman.org/issues/36137[#36137]
* Package upgradable versions are not set correctly based on architecture - https://projects.theforeman.org/issues/36100[#36100]
* Host cloning is broken - https://projects.theforeman.org/issues/36064[#36064]
* Setting a Content Source is not persistent - https://projects.theforeman.org/issues/35834[#35834]
* 'System purpose' modal doesn\'t reset after switching hosts with switcher - https://projects.theforeman.org/issues/35324[#35324]
* Global registration form needs call-to-action link when there are no activation keys created - https://projects.theforeman.org/issues/35310[#35310]

=== Inter Server Sync

* Importing incremental content not recreating metadata properly - https://projects.theforeman.org/issues/36164[#36164]

=== Localization

* Update webpack translations and edit mo-files command to ignore .gitignore - https://projects.theforeman.org/issues/36409[#36409]
* migrate transifex configuration - https://projects.theforeman.org/issues/36335[#36335]

=== Repositories

* Make metadata_expire field optional - https://projects.theforeman.org/issues/36435[#36435]
* useless redirect when fetching pulp3 status - https://projects.theforeman.org/issues/36425[#36425]
* Bring back the option to Republish Repository\CV Version metadata in web UI - https://projects.theforeman.org/issues/36417[#36417]
* Add ability to skip syncing treeinfo files - https://projects.theforeman.org/issues/36411[#36411]
* Add metadata expire option for custom repo to UI and hammer - https://projects.theforeman.org/issues/36373[#36373]
* Container images Repository Discovery against v2-only API always reports "No discovered repositories" - https://projects.theforeman.org/issues/36362[#36362]
* [RFE] Allow updating metadata_expire for custom repositories - https://projects.theforeman.org/issues/36352[#36352]
* 20230119003859_ensure_repo_username_password_nil_not_blank.rb tries to update repo.upstream_username rather than repo.root.upstream_username - https://projects.theforeman.org/issues/36196[#36196]
* ACS Products in details should present a better empty view rather than blank. - https://projects.theforeman.org/issues/36176[#36176]
* Update ssl cert error message for ACS to include "Simplified" - https://projects.theforeman.org/issues/36174[#36174]
* Need to update Recommended Repositories page with Satellite 6.13 repos - https://projects.theforeman.org/issues/36158[#36158]
* use-http-proxy switch does not work properly - https://projects.theforeman.org/issues/36102[#36102]
* Add an easy way to enable/disable all custom repos on activation keys - https://projects.theforeman.org/issues/35722[#35722]

=== Subscriptions

* Switching on SCA should not give hosts access to new custom repositories - https://projects.theforeman.org/issues/36301[#36301]
* Test Candlepin 4.3.1 and tag to nightly - https://projects.theforeman.org/issues/36287[#36287]
* Add simple-content-access param to organization update command - https://projects.theforeman.org/issues/36197[#36197]
* Add an easy way to enable/disable all custom repos on a host - https://projects.theforeman.org/issues/36178[#36178]
* Custom products should be disabled by default - https://projects.theforeman.org/issues/36120[#36120]

=== Tests

* Re-record VCR cassettes once artifact structure is reverted in pulp_rpm 3.19 - https://projects.theforeman.org/issues/36205[#36205]

=== Tooling

* Sync redhat-uep.pem with subscription-manager-rhsm-certificates - https://projects.theforeman.org/issues/36326[#36326]
* Use Node 14 for katello CI - https://projects.theforeman.org/issues/36285[#36285]
* Using pulp with S3-storage throws exception on smartproxy overview-page - https://projects.theforeman.org/issues/36094[#36094]

=== Web UI

* Hostgroup edit form does not refresh operating system on LCE change if there is only 1 hostgroup - https://projects.theforeman.org/issues/36278[#36278]
* Clear search link doesn\'t work in any tables except maybe Host details - https://projects.theforeman.org/issues/36220[#36220]
* Refine empty states for CV UI - https://projects.theforeman.org/issues/36204[#36204]
* Columns are overlapping while adding columns through "Manage columns" tab in "All Hosts" - katello edition - https://projects.theforeman.org/issues/36172[#36172]
* Change default status of shown repositories in content view - https://projects.theforeman.org/issues/36035[#36035]
* move system statuses from deface to react - https://projects.theforeman.org/issues/26434[#26434]
