= Katello 4.11.0

A full list of changes is available on https://projects.theforeman.org/issues?set_filter=1&sort=id%3Adesc&status_id=closed&f%5B%5D=cf_12&op%5Bcf_12%5D=%3D&v%5Bcf_12%5D%5B%5D=1732[Redmine]

== Katello

* pass:[Notification via email when repo sync fail] - https://projects.theforeman.org/issues/17748[#17748]

=== API

* pass:[Remove deprecated docker_tags_whitelist] - https://projects.theforeman.org/issues/36695[#36695]
* pass:[Remove katello-agent API endpoints] - https://projects.theforeman.org/issues/36665[#36665]

=== Activation Key

* pass:[Add system purpose card to new AK details page] - https://projects.theforeman.org/issues/36610[#36610]

=== Ansible Collections

* pass:[Cannot sync ansible collections repositories to smart proxy] - https://projects.theforeman.org/issues/35746[#35746]

=== Container

* pass:[Taxonomy filtration on Container Image Tags page does not work as expected] - https://projects.theforeman.org/issues/36911[#36911]
* pass:[ Cannot discovery container repositories on private registries or on registries that only support api v2] - https://projects.theforeman.org/issues/36861[#36861]
* pass:[Katello container registries set wrong token expiration field] - https://projects.theforeman.org/issues/36827[#36827]

=== Content Views

* pass:[Katello showing the wrong date when using a filter when the 'end date'] - https://projects.theforeman.org/issues/36883[#36883]
* pass:[Promoting a composite content view to environment with registry name as "<%= lifecycle_environment.label %>/<%= repository.name %>"  fails with "'undefined method '#label' for NilClass::Jail (NilClass)'"] - https://projects.theforeman.org/issues/36776[#36776]
* pass:[Better content view filtering representation for packages vs modular packages] - https://projects.theforeman.org/issues/36683[#36683]
* pass:[Bring back duplicate content warning for composite CVs for non-docker repos] - https://projects.theforeman.org/issues/36492[#36492]
* pass:[Allow searching for composite content views that contain a content view] - https://projects.theforeman.org/issues/35901[#35901]

=== Errata Management

* pass:[Generate applicability tasks fails with error "ERROR:  insert or update on table "katello_content_facet_errata" violates foreign key constraint "katello_content_facet_errata_ca_id"] - https://projects.theforeman.org/issues/36914[#36914]
* pass:[errata's issued and updated times shouldn't be changed to local timezone on WebUI] - https://projects.theforeman.org/issues/36882[#36882]
* pass:[Timeout for "hammer  --no-headers erratum list --errata-restrict-applicable 1 --organization-id 1"] - https://projects.theforeman.org/issues/36835[#36835]
* pass:[Applied Errata report download fails with undefined method `value' for nil:NilClass error] - https://projects.theforeman.org/issues/36811[#36811]
* pass:[Recalculate button for Errata is not available on if no errata are present] - https://projects.theforeman.org/issues/36790[#36790]

=== Foreman Proxy Content

* pass:[Store all env_ids for smart_proxy complete sync in task input or output] - https://projects.theforeman.org/issues/36873[#36873]
* pass:[Trigger smart proxy content count update action after Orphan cleanup] - https://projects.theforeman.org/issues/36857[#36857]
* pass:[Last smart proxy sync date should have a way to query per environment] - https://projects.theforeman.org/issues/36852[#36852]
* pass:[Properly translate rpm.modulemd to "module_stream"] - https://projects.theforeman.org/issues/36820[#36820]
* pass:[As a user, I want to have a way to refresh the calculated counts on-demand on the UI] - https://projects.theforeman.org/issues/36807[#36807]
* pass:[Delete orphan content task doesn't remove orphaned remotes in the smart proxy] - https://projects.theforeman.org/issues/36787[#36787]
* pass:[As a user, I want to have package counts shown on smart proxy content page] - https://projects.theforeman.org/issues/36758[#36758]
* pass:[Add content counts to API results and add aggregated CV version content counts to smart proxy content counts] - https://projects.theforeman.org/issues/36750[#36750]
* pass:[Sync timeouts should be available for smart-proxy syn] - https://projects.theforeman.org/issues/36737[#36737]
* pass:[Non-admin user cannot list an individual smart proxy but can list all smart proxies] - https://projects.theforeman.org/issues/36726[#36726]
* pass:[Redesign smart proxy sync page to prepare for new enhancements on the page.] - https://projects.theforeman.org/issues/36720[#36720]
* pass:[As a user, I want to have the package counts pre-calculated on smart proxy sync] - https://projects.theforeman.org/issues/36702[#36702]
* pass:[Track reclaimspace task properly as an allowed action] - https://projects.theforeman.org/issues/35556[#35556]

=== Host Collections

* pass:[Host collections errata broken] - https://projects.theforeman.org/issues/36713[#36713]

=== Hosts

* pass:[katello:reimport fails with "TypeError: no implicit conversion of String into Integer" when there are product contents to move] - https://projects.theforeman.org/issues/36920[#36920]
* pass:[Support Foreman API bulk host deletion] - https://projects.theforeman.org/issues/36878[#36878]
* pass:[Slow generate applicability for Hosts with multiple modulestreams installed] - https://projects.theforeman.org/issues/36850[#36850]
* pass:[When installing a new package, the job is labeled with a job ID and not the package.] - https://projects.theforeman.org/issues/36846[#36846]
* pass:[Re-registering a host does not change content source] - https://projects.theforeman.org/issues/36840[#36840]
* pass:[Preselect upgradable packages when clicking on installable packages on the hosts page] - https://projects.theforeman.org/issues/36794[#36794]
* pass:[Recalculate errata uses out-of-date host package profile] - https://projects.theforeman.org/issues/36789[#36789]
* pass:[As a web UI user, I can view RHEL client lifecycle alerts on the content host detail page] - https://projects.theforeman.org/issues/36756[#36756]
* pass:[OraceLinux supports ModuleStreams, too] - https://projects.theforeman.org/issues/36754[#36754]
* pass:[PG::UniqueViolation on index_cve_cp_id during registration] - https://projects.theforeman.org/issues/36753[#36753]
* pass:[I have a new notification about how many RHEL clients are about to EOS] - https://projects.theforeman.org/issues/36735[#36735]
* pass:[Add new searchable host_status column that tells me about RHEL life cycle support in host index page] - https://projects.theforeman.org/issues/36732[#36732]
* pass:[RHEL lifecycle status depends on 'RedHat' operatingsystem name] - https://projects.theforeman.org/issues/36731[#36731]
* pass:[Discovery Provisioning fails as the sync media is getting diminished from the host page even though it's synced] - https://projects.theforeman.org/issues/36721[#36721]
* pass:[Add new host status for RHEL lifecycle alert] - https://projects.theforeman.org/issues/36693[#36693]
* pass:[Redefine append domain names setting in Katello] - https://projects.theforeman.org/issues/36328[#36328]
* pass:[In WebUI -> Hosts -> Register Host page >> Advanced Activation Keys should be auto selected in case of single Activation Key.] - https://projects.theforeman.org/issues/36295[#36295]

=== Inter Server Sync

* pass:[Better error message when content-export fails due to unsynced repository] - https://projects.theforeman.org/issues/36162[#36162]

=== Localization

* pass:[Make more strings translatable and extract strings for Katello 4.11] - https://projects.theforeman.org/issues/36884[#36884]

=== Performance

* pass:[[Improvement] RefreshRepos step in smart proxy sync to refresh just repos to sync] - https://projects.theforeman.org/issues/36926[#36926]
* pass:["Actions::Katello::Applicability::Hosts::BulkGenerate" tasks are processed in the default queue instead of hosts_queue causing congestion] - https://projects.theforeman.org/issues/36921[#36921]

=== Reporting

* pass:[Add methods to safemode jail for new products report] - https://projects.theforeman.org/issues/36828[#36828]

=== Repositories

* pass:[Add error handling in repo sync when trying to sync non-library repos] - https://projects.theforeman.org/issues/36844[#36844]
* pass:[Deb package applicability should consider architecture] - https://projects.theforeman.org/issues/36740[#36740]
* pass:[Change the color of the remove repository icon when repositories cannot be removed] - https://projects.theforeman.org/issues/36733[#36733]
* pass:[Use pulp_deb 3.0.0] - https://projects.theforeman.org/issues/36728[#36728]
* pass:['Module Streams' hyperlink missing in 'Content --> Module Streams --> $stream'] - https://projects.theforeman.org/issues/36708[#36708]
* pass:[Container images Repository Discovery ignores HTTP Link] - https://projects.theforeman.org/issues/36678[#36678]
* pass:[File content count in Product > Repositories is not presented as a link] - https://projects.theforeman.org/issues/36612[#36612]
* pass:[Removing manifest referenced by tag doesn't remove it from pulp but deletes it from katello] - https://projects.theforeman.org/issues/36538[#36538]

=== Subscriptions

* pass:[Subscription Details Page has a broken page header] - https://projects.theforeman.org/issues/36924[#36924]
* pass:[Prepare for SCA-Only: Deprecate API endpoints and params] - https://projects.theforeman.org/issues/36797[#36797]
* pass:[Prepare for SCA-Only: Update Web UI] - https://projects.theforeman.org/issues/36782[#36782]

=== Sync Plans

* pass:[Product without any repo is added to a Sync Plan regardless the error message] - https://projects.theforeman.org/issues/36739[#36739]
* pass:[Unclear error message when disabling last repo of a product that is in a sync plan] - https://projects.theforeman.org/issues/36690[#36690]

=== Tests

* pass:[Update Candlepin VCR's with new Candlepin 4.3.10] - https://projects.theforeman.org/issues/36901[#36901]
* pass:[Fix SIGKILL in test and nightly pipelines] - https://projects.theforeman.org/issues/36853[#36853]

=== Tooling

* pass:[Upgrade to Pulpcore 3.39] - https://projects.theforeman.org/issues/36903[#36903]
* pass:[Events can be incorrectly marked as In Progress by the Event Queue] - https://projects.theforeman.org/issues/36670[#36670]

=== Web UI

* pass:[Consume selectAll and TableHooks from Foreman] - https://projects.theforeman.org/issues/36866[#36866]
* pass:[Add the action for Change Content Sources ] - https://projects.theforeman.org/issues/36862[#36862]
* pass:[Host UI Details has storage unit set to bytes] - https://projects.theforeman.org/issues/36766[#36766]
* pass:[Katello css overrides foreman] - https://projects.theforeman.org/issues/36762[#36762]
* pass:[about page broken after katello-agent removal] - https://projects.theforeman.org/issues/36722[#36722]
* pass:[Update PermissionDenied snapshots ] - https://projects.theforeman.org/issues/36552[#36552]

=== katello-tracer

* pass:[katello-tracer-upload: command not found when executed via remote execution using effective user other than root.] - https://projects.theforeman.org/issues/36808[#36808]
