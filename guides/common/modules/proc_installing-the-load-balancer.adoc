:_mod-docs-content-type: PROCEDURE

[id="installing-the-load-balancer"]
= Installing the load balancer

[role="_abstract"]
The following example provides general guidance for configuring an HAProxy load balancer using {EL} 9.
However, you can install any suitable load balancing software solution that supports TCP forwarding.

.Procedure
. Install HAProxy:
+
[options="nowrap" subs="attributes"]
----
# {package-install} haproxy
----
. Install the following package that includes the `semanage` tool:
+
[options="nowrap" subs="attributes"]
----
# {package-install} policycoreutils-python-utils
----
. Configure SELinux to allow HAProxy to bind any port:
+
----
# semanage boolean --modify --on haproxy_connect_any
----
. Configure the load balancer to balance the network load for the ports as described in xref:ports-configuration-for-the-load-balancer[].
. Configure the load balancer to disable SSL offloading and allow client-side SSL certificates to pass through to back end servers.
This is required because communication from clients to {SmartProxyServers} depends on client-side SSL certificates.
. Start and enable the HAProxy service:
+
----
# systemctl enable --now haproxy
----
