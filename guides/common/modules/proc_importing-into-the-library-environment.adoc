:_mod-docs-content-type: PROCEDURE

[id="Importing_into_the_Library_Environment_{context}"]
= Importing into the Library environment

[role="_abstract"]
You can import exported Library content into the Library lifecycle environment of an organization on another {ProjectServer}.
For more information about exporting contents from the Library environment, see xref:Exporting_the_Library_Environment_{context}[].

.Prerequisites
* The exported files must be in a directory under `/var/lib/pulp/imports`.
* The importing organization must be configured to synchronize content through exports.
ifdef::satellite[]
For more information, see {InstallingServerDisconnectedDocURL}configuring-projectserver-to-synchronize-content-through-exports-by-using-web-ui[Configuring {ProjectServer} to synchronize content through exports by using {ProjectWebUI}] in _{InstallingServerDisconnectedDocTitle}_.
endif::[]
ifndef::satellite[]
For more information, see xref:configuring-projectserver-to-synchronize-content-through-exports-by-using-web-ui[].
endif::[]
ifdef::client-content-dnf[]
* If there are any Red Hat repositories in the exported content, the importing organization's manifest must contain subscriptions for the products contained within the export.
endif::[]
* The user importing the content must have the _Content Importer_ Role.

.Procedure
. Copy the exported files to a subdirectory of `/var/lib/pulp/imports` on {ProjectServer} where you want to import.
. Set the ownership of the import directory and its contents to `pulp:pulp`.
+
[options="nowrap" subs="+quotes"]
----
# chown -R pulp:pulp /var/lib/pulp/imports/2021-03-02T03-35-24-00-00/
----
. Verify that the ownership is set correctly:
+
[options="nowrap" subs="+quotes"]
----
# ls -lh /var/lib/pulp/imports/2021-03-02T03-35-24-00-00
total 68M
-rw-r--r--. 1 pulp pulp 68M Mar  2 04:29 export-1e25417c-6d09-49d4-b9a5-23df4db3d52a-20210302_0335.tar.gz
-rw-r--r--. 1 pulp pulp 333 Mar  2 04:29 export-1e25417c-6d09-49d4-b9a5-23df4db3d52a-20210302_0335-toc.json
-rw-r--r--. 1 pulp pulp 443 Mar  2 04:29 metadata.json
----
. Identify the Organization that you want to import into.
. Import the Library content to {ProjectServer}:
+
[subs="+quotes"]
----
$ hammer content-import library \
--organization="_My_Organization_" \
--path=/var/lib/pulp/imports/2021-03-02T03-35-24-00-00/
----
+
You must specify the absolute path as in the example: `/var/lib/pulp/imports/2021-03-02T03-35-24-00-00/`.
Relative paths do not work.
. Verify that you imported the Library content by checking the contents of the product and repositories.
A new content view called `Import-Library` is created in the target organization.
This content view is used to facilitate the Library content import.
+
By default, this content view is not shown in the {ProjectWebUI}.
`Import-Library` is not meant to be assigned directly to hosts.
Instead, assign your hosts to `Default Organization View` or another content view as you would normally.
+
The importing {ProjectServer} extracts the `/var/lib/pulp/imports` directory to `/var/lib/pulp/`.
. Delete the import files after a successful import:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
# rm -fr /var/lib/pulp/imports/2021-03-02T03-35-24-00-00/
----
