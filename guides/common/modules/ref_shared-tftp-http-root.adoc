:_mod-docs-content-type: REFERENCE

[id="ref_shared-tftp-http-root_{context}"]
= Shared TFTP and HTTP root

[role="_abstract"]
The {SmartProxy}’s *HTTPBoot* module and *TFTP* service share the same root directory. 
By default, this directory is `/var/lib/tftpboot/`.

[subs="+quotes"]
----
URL path:   http://_My_Smartproxy_Example.com_/httpboot/
Filesystem: /var/lib/tftpboot/
----

This mapping means that the `/httpboot/` HTTP URL path directly corresponds to the local filesystem under `/var/lib/tftpboot/`.
For example, a file located at:

----
/var/lib/tftpboot/pxegrub2/grubx64.efi
----

is available over HTTP at:
[subs="+quotes"]
----
http://_My_Smartproxy_Example.com_/httpboot/pxegrub2/grubx64.efi
----

This shared structure simplifies management by ensuring that both PXE (TFTP) and HTTP clients use the same set of boot loader binaries and configuration files.

.Model iPXE and HTTPBoot-related directory layout
====
----
# tree /var/lib/tftpboot/
/var/lib/tftpboot/
 ├── undionly-ipxe.0
 ├── ipxe.efi
 ├── ipxe-x64.efi
 └── grub2/
      ├── grubx64.efi
      └── shimx64.efi
----
====

.Default boot loader files

[cols="1,1", options="header"]
|===
| Default path
| Purpose

| `/var/lib/tftpboot/undionly-ipxe.0`
| iPXE boot loader for **iPXE Chain BIOS**.
Used in BIOS environments as the first-stage loader that transitions from TFTP-based PXE to HTTP-based iPXE boot.

| `/var/lib/tftpboot/ipxe.efi`
| iPXE boot loader for **iPXE Chain UEFI**.
Used in UEFI environments to chainload into iPXE for HTTP-based provisioning.

| `/var/lib/tftpboot/ipxe-x64.efi`
| Architecture-specific iPXE binary for **iPXE UEFI HTTP** boot.
Used for direct iPXE boot via HTTP without TFTP chainloading.

| `/var/lib/tftpboot/grub2/grubx64.efi`
| Grub2 UEFI boot loader for **Grub2 UEFI HTTP** or **HTTPS Boot**.
Used to start UEFI installations via the {SmartProxy}’s HTTPBoot module.

| `/var/lib/tftpboot/grub2/shimx64.efi`
| Secure Boot shim loader for Grub2.
Used when **Grub2 UEFI SecureBoot** or **Grub2 UEFI HTTPS SecureBoot** is selected.
|===

[NOTE]
====
Grub2 UEFI HTTPS Boot relies on the {SmartProxy}’s HTTPS service to securely deliver the `boot.efi`, `shim*.efi`, and similar boot loader binaries to UEFI clients. 
The configuration for this HTTPS service is defined in the {SmartProxy}’s main settings file 
`/etc/foreman-proxy/settings.yml`.
====
