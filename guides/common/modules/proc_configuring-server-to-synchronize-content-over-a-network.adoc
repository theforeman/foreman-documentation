[id="configuring-server-to-synchronize-content-over-a-network_{context}"]
= Configuring {Project} Server to Synchronize Content over a Network

Configure a downstream {ProjectServer} to synchronize repositories from a connected upstream {ProjectServer} over HTTPS.

.Prerequisites
* A network connection exists between the upstream {ProjectServer} and the downstream {ProjectServer}.
* You imported the subscriptions manifest on both the upstream and downstream {ProjectServer}.
* You enabled the required repositories for the organization on the upstream {ProjectServer}.
* You have user permissions to create product repositories and organizations on the downstream {ProjectServer}.

.Procedure
. Navigate to *Content* > *Subscriptions*.
. Click the *Manage Manifest* button.
. Navigate to the *CDN Configuration* tab.
. Select the *Upstream {ProjectServer}* tab.
. In the *URL* field, enter the address of the upstream {ProjectServer}.
. In the *Username*, enter your username for upstream login.
. In the *Password*, enter your password or personal access token for upstream login.
. In the *Organization label* field, enter the label of the upstream organization.
. Optional: In the *Lifecycle Environment Label* field, enter the label of the upstream lifecycle environment.
Default is `Library`.
. Optional: In the *Content view label* field, enter the label of the upstream Content View.
Default is `Default_Organization_View`.
. From the *SSL CA Content Credential* menu, select a CA certificate used by the upstream {ProjectServer}.
. Click *Update*.

The repositories should appear under *Content* > *Products*.

You can synchronize the repositories using the *Sync Now* feature.
You can also create a synchronization plan to ensure updates on a regular basis. For more information, see {ContentManagementDocURL}Creating_a_Sync_Plan_content-management[Creating a Synchronization Plan] in the _Content Management Guide_.

.CLI Procedure
. Log in to your {ProjectServer} using SSH.
. Display information about your organization: // TODO upstream or downstream?
+
[options="nowrap" subs="+quotes"]
----
# hammer organization show --name="_My_Organization_"
----
+
This shows some related info under the "CDN Configuration" section in the output // TODO What information is relevant for the next step? + Output sample
. Set CDN configuration to an upstream {ProjectServer}:
+
[options="nowrap" subs="+quotes"]
----
# hammer organization configure-cdn --name="_My_Downstream_Organization_" \
--type=upstream_server/network_sync  # TODO \
--url https://_upstream-server.example.com_ \ // TODO better example URL?
--username _upstream_username_ --password _upstream_password_ \
--ssl-ca-credential-id _8_ \
--upstream-organization-label="_My_Upstream_Organization_" \
[--upstream-lifecycle-environment-label="_My_Lifecycle_Environment_"] \
[--upstream-content-view-label="_My_Content_View_"]
----
+
The default lifecycle environment label is `Library`.
The default Content View label is `Default_Organization_View`.
