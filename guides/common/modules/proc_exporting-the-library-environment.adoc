:_mod-docs-content-type: PROCEDURE

[id="Exporting_the_Library_Environment_{context}"]
= Exporting the Library environment

[role="_abstract"]
You can export content in the Library environment of an organization to an archive file from {ProjectServer} and use this archive file to create the same repositories in another {ProjectServer} or in another {ProjectServer} organization.
The exported archive file contains the following data:

* A JSON file containing content view version metadata.
* An archive file containing all the repositories from the Library environment of the organization.

include::snip_content-types-export.adoc[]

.Prerequisites
* Ensure that the export directory has free storage space to accommodate the export.
* Ensure that the `/var/lib/pulp/exports` directory has free storage space equivalent to the size of the repositories being exported for temporary files created during the export process.
* Ensure that you set download policy to *Immediate* for all repositories within the Library lifecycle environment you export.
For more information, see xref:Download_Policies_Overview_{context}[].
* Ensure that you synchronize products that you export to the required date.

.Procedure
. Export the library environment for the organization:
+
[options="nowrap" subs="+quotes"]
----
$ hammer content-export complete library --organization="_My_Organization_"
----
+
In many cases the exported archive might be several gigabytes in size.
You might want to split it into chunks of a smaller size.
You can use the `--chunk-size-gb` option to split the export into smaller chunks, for example `--chunk-size-gb=2` to split the archive into 2 GB chunks.
. A new content view **Export-Library** is created in the organization.
This content view contains all the repositories belonging to this organization.
A new version of this content view is published and exported automatically.

.Verification
* Verify that the archive containing the exported version of a content view is located in the export directory:
+
[options="nowrap" subs="+quotes"]
----
# ls -lh /var/lib/pulp/exports/_My_Organization_/Export-Library/1.0/2021-03-02T03-35-24-00-00
----
+
You need all three files, the `tar.gz` archive file, the `toc.json` file, and the `metadata.json` file, to import the content successfully.
