:_mod-docs-content-type: PROCEDURE

[id="running-custom-code-while-applying-errata-by-using-cli"]
= Running custom code while applying errata by using Hammer CLI

[role="_abstract"]
You can use custom snippets to run code before and/or after applying errata on hosts by using Hammer CLI.

.Prerequisites
* Check your job template to ensure that it supports the custom snippets you want to use.
+
You can view all job templates that are in use under *Administer* > *Remote Execution Features*.
+
The job template must conditionally include the custom snippets ending in `custom pre` or `custom post`.

.Procedure
. Create a plain text file that contains your custom snippet.
. Upload the snippet file to {ProjectServer}:
+
[options="nowrap" subs="+quotes"]
----
$ hammer template create \
--file "~/_My_Snippet_" \
--locations "_My_Location_" \
--name "_My_Template_Name_custom_pre" \
--organizations "_My_Organization_" \
--type snippet
----
+
The name must start with the name of a template that supports custom snippets:
** Append `custom pre` to the name of a template to run code before applying errata on hosts.
** Append `custom post` to the name of a template to run code after applying errata on hosts.

+
For example, if your template is called `Install Errata - Katello Ansible Default`, name your snippet `Install Errata - Katello Ansible Default custom pre` or `Install Errata - Katello Ansible Default custom post`.
