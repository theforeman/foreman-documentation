:_mod-docs-content-type: PROCEDURE

[id="executing-a-remote-job-by-using-cli"]
= Executing a remote job by using Hammer CLI

[role="_abstract"]
You can execute a job that is based on a job template against one or more hosts.

[NOTE]
====
Ansible jobs run in batches on multiple hosts, so you cannot cancel a job running on a specific host.
A job completes only after the Ansible Playbook runs on all hosts in the batch.
====

For more information about creating, monitoring, or canceling remote jobs with Hammer CLI, enter `hammer job-template --help` and `hammer job-invocation --help`.

ifdef::foreman-el,foreman-deb[]
.Prerequisites
* You have the Remote Execution plugin enabled.
For more information, see xref:installing-the-remote-execution-plugin[].
endif::[]

.Procedure
. Enter the following command on {Project}:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ hammer settings set \
--name remote_execution_global_proxy \
--value false
----
. Find the ID of the job template you want to use:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ hammer job-template list
----
. Show the template details to see parameters required by your template:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ hammer job-template info --id _My_Template_ID_
----
. Execute a remote job with custom parameters:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ hammer job-invocation create \
--inputs _My_Key_1_="_My_Value_1_",_My_Key_2_="_My_Value_2_",... \
--job-template "_My_Template_Name_" \
--search-query "_My_Search_Query_"
----
+
Replace `_My_Search_Query_` with the filter expression that defines hosts, for example `"name ~ _My_Pattern_"`.
