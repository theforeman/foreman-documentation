[id="reset-custom-ssl-certificate-to-default-self-signed-certificate-on-{smart-proxy-context}_{context}"]
= Reset {customssl} certificate to default self-signed certificate on {SmartProxyServer}

Use this procedure to reset {customssl} certificate to default self-signed certificate on your {SmartProxyServer}.

.On {ProjectServer}
. Generate a new certificate tar bundle for {SmartProxyServer}.
+
[options="nowrap" subs="+quotes,attributes"]
----
# {certs-generate} \
--foreman-proxy-fqdn _{smart-proxy-context}.example.com_ \
--certs-tar /root/_{smart-proxy-context}.example.com_-certs.tar.gz \
--certs-update-all
----
. Note down the {foreman-installer} command generated by the above command.
. Copy the new certificate tar bundle to {SmartProxyServer}.
+
[options="nowrap" subs="+quotes,attributes"]
----
# scp /root/_{smart-proxy-context}.example.com_-certs.tar.gz \
root@_{smart-proxy-context}.example.com_:/root/_{smart-proxy-context}.example.com_-certs.tar.gz
----

.On {SmartProxyServer}
. Ensure you received the certificate tar file from {ProjectServer}.
. Update the new `katello-ca-consumer-latest.noarch.rpm` package:
+
[options="nowrap" subs="+quotes,attributes"]
----
# dnf install https://_{project-context}.example.com_/pub/katello-ca-consumer-latest.noarch.rpm
# subscription-manager refresh
----
. Execute the entire `{foreman-installer}` command provided by `{certs-generate}` command from {ProjectServer}.

.Verification
. On the {ProjectWebUI}, go to *Infrastructure > Capsules* and click on any {SmartProxyServer}.
. On the *Overview* tab, click *Refresh features*.

.Additional Resources
* {InstallingServerDocURL}reset-custom-ssl-certificate-to-default-self-signed-certificate-on-{project-context}_{project-context}[Reset {customssl} certificate to default self-signed certificate on {ProjectServer}] in __{InstallingServerDocTitle}__.
* * {ManagingHostsDocURL}reset-custom-ssl-certificate-to-default-self-signed-certificate-on-hosts_managing-hosts[Reset {customssl} certificate to default self-signed certificate on hosts] in _{ManagingHostsDocTitle}_.

