[id="Importing_and_Exporting_Content_to_Project_Server_for_Flatpak_{context}"]
= Importing and exporting content to {ProjectServer} for Flatpak 

Use this Hammer CLI procedure to set up and manage Flatpak repositories.

.CLI procedure
. Run the following command on the {ProjectServer} to create a Flatpak remote using either standalone {EL} systems or {ProjectName}:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote create --name=$name --url=$url
----
* Note that you can include authentication details during creation using the options `--username=$username --token=$token`.
* Red Hat official token can be generated at: https://access.redhat.com/terms-based-registry.
. Use the following command to update the Flatpak remote with authentication credentials:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote update --username=$username --token=$token
----
. Use these commands to display details:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote list
$ hammer flatpak-remote info
----
. Fetch repositories in the Flatpak remote by scanning it:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote scan --id=$ID
----
. Display a list of repositories in the remote:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote repository list --flatpak-remote-id=$ID
----
. Mirror a repository to a {Project} product:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote remote-repository mirror --id=$remote_repo_id --product-id=$satellite_product
----
After this step, you can view the repository under the selected product in Satellite. Ensure the *Include Tags* field is set to *latest*.
. Synchronize the product repository using the following command:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer repository sync --id=$repo_id
----
. Use the following command to export content from the connected {ProjectServer}:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer content-export start --id=$product_id --export-to=/path/to/export-dir
----
. Import the exported content to the disconnected {ProjectServer}:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer content-import start --path=/path/to/export-dir/export.tar
----
. Add the disconnected {Project} as a Flatpak remote:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ flatpak --user remote-add --authenticator-name=org.flatpak.Authenticator.Oci katello oci+https://satellite.example.com/
----
. Log in using podman:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ podman login
----
. Install the Firefox Flatpak:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ flatpak install firefox
----