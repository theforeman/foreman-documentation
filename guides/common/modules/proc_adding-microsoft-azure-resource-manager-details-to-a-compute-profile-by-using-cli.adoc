:_mod-docs-content-type: PROCEDURE

[id="adding-microsoft-azure-resource-manager-details-to-a-compute-profile-by-using-cli_{context}"]
= Adding Microsoft Azure Resource Manager details to a compute profile by using Hammer CLI

[role="_abstract"]
To standardize and more efficiently manage the deployment of your virtual machines in the Azure cloud, add Microsoft Azure hardware settings to a compute profile.
When you create a host on Microsoft Azure using this compute profile, these settings are automatically populated.

.Procedure

. Create a compute profile to use with the Azure Resource Manager compute resource:
+
[options="nowrap" subs="+quotes"]
----
$ hammer compute-profile create --name _compute_profile_name_
----
. Add Azure details to the compute profile.
With the `username` setting, enter the SSH user name for image access.
Note that the username that you enter for compute profile must be the same that you use when creating an image.
+
[options="nowrap" subs="+quotes"]
----
$ hammer compute-profile values create \
--compute-attributes="resource_group=_resource_group_,vm_size=_Standard_B1s_,username=_azure_user_,password=_azure_password_,platform=Linux,script_command=touch /var/tmp/text.txt" \
--compute-profile "_compute_profile_name_" \
--compute-resource _azure_cr_name_ \
--interface="compute_public_ip=Dynamic,compute_network=mysubnetID,compute_private_ip=false" \
--volume="disk_size_gb=_5_,data_disk_caching=_None_"
----
+
Optional: If you want to run scripts on the virtual machine after provisioning, specify the following settings:
+
* To enter the script directly, with the `script_command` setting, enter a command to be executed on the provisioned virtual machine.
* To run a script from a URI, with the `script_uris` setting, enter comma-separated file URIs of scripts to use.
The scripts must contain `sudo` at the beginning because {ProjectName} downloads files to the `/var/lib/waagent/custom-script/download/0/` directory on the host and therefore scripts require sudo privileges to be executed.
