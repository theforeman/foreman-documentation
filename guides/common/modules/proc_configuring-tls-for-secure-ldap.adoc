[id="Configuring_TLS_for_Secure_LDAP_{context}"]
= Configuring TLS for secure LDAP

If you require {Project} to use TLS to establish a secure LDAP connection (LDAPS), obtain certificates used by the LDAP server you are connecting to and mark them as trusted on the base operating system of your {ProjectServer}.

If your LDAP server uses a certificate chain with intermediate certificate authorities, all root and intermediate certificates in the chain must be trusted, so ensure you obtain all certificates.

.Procedure
. Obtain the certificate from the LDAP Server.
.. If you use Active Directory Certificate Services, export the Enterprise PKI CA Certificate using the Base-64 encoded X.509 format.
ifndef::orcharhino[]
See https://access.redhat.com/solutions/1498773[How to configure Active Directory authentication with `TLS` on {Project}] for information on creating and exporting a CA certificate from an Active Directory server.
endif::[]
.. Download the LDAP server certificate to a temporary location onto {ProjectServer}, such as `/tmp/_example.crt_`.
You will remove the certificate when finished.
+
The filename extensions `.cer` and `.crt` are only conventions and can refer to DER binary or PEM ASCII format certificates.
. Trust the LDAP server certificate.
.. Use the `install` command to install the imported certificate into the `/etc/pki/tls/certs/` directory with the correct permissions:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
# install /tmp/_example.crt_ /etc/pki/tls/certs/
----
+
{ProjectServer} requires the CA certificates for LDAP authentication to be individual files in `/etc/pki/tls/certs/` directory.
.. Create a symbolic link in `/etc/pki/tls/certs/` to configure `_example.crt_` as a trusted certificate:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
# ln -s _example.crt_ /etc/pki/tls/certs/$(openssl \
x509 -noout -hash -in \
/etc/pki/tls/certs/_example.crt_).0
----
.. Restart the `httpd` service:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
# systemctl restart httpd
----
. Remove the LDAP server certificate you previously downloaded from the temporary location on your {ProjectServer}.
