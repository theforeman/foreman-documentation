[id="Resolving_Package_Dependencies_{context}"]
= Resolving Package Dependencies

{Project} can add dependencies of packages in a Content View to the dependent repository when publishing the Content View.
To configure this, you can enable _dependency solving_.

For example, dependency solving is useful when you incrementally add a single package to a Content View version.
You might need to enable dependency solving to install that package.

However, dependency solving is unnecessary in most situations. For example:

* When incrementally adding a security errata to a Content View, dependency solving can cause significant delays to Content View publication without major benefits.
* In case of an outdated Content View version, the packages in a newer erratum might depend on packages outside that Content View.
Incrementally adding the erratum using dependency solving might include unwanted packages.
As an alternative, consider updating the Content View.

[NOTE]
====
Dependency solving only considers packages within the repositories of the Content View.
It does not consider packages installed on clients.
ifeval::["{client-os-family}" == "Red Hat"]
For example, if a Content View includes only AppStream, dependency solving does not include dependent BaseOS content at publish time.
endif::[]

For more information, see {ContentManagementDocURL}Limitations_to_Repository_Dependency_Resolution_content-management[Limitations to Repository Dependency Resolution] in _{ContentManagementDocTitle}_.
====

Dependency solving can lead to the following problems:

Dependency solving can significantly delay Content View publication::
{Project} examines every repository in a Content View for dependencies.
Therefore, publish time increases with more repositories.
+
To mitigate this problem: Use multiple Content Views with fewer repositories.
Combine them using composite Content Views.

{Project} does not apply content filters on dependent packages::
{Project} prioritizes resolving package dependencies over the rules in your filter.
+
Example: If you create a filter for security purposes but enable dependency solving, {Project} can add packages that you might consider insecure.
+
To mitigate this problem: Carefully test filtering rules to determine the required dependencies.
If dependency solving includes unwanted packages, manually identify the core basic dependencies that the extra packages and errata need.
ifeval::["{client-os-family}" == "Red Hat"]
See also xref:Combining_exclusion_filters_with_dependency_solving[].
endif::[]

ifeval::["{client-os-family}" == "Red Hat"]
[id="Combining_exclusion_filters_with_dependency_solving"]
.Combining exclusion filters with dependency solving
====
You want to recreate {RHEL}{nbsp}8.3 using Content View filters and include selected errata from a later {RHEL}{nbsp}8 minor release.
To achieve this, you create filters to exclude most of the errata after the {RHEL}{nbsp}8.3 release date, except a few that you need.
Then, you enable dependency solving.

In this situation, dependency solving might include more packages than expected.
As a result, the client digresses from being a {RHEL}{nbsp}8.3 machine.

If you do not need the extra errata and packages, do not configure Content View filtering.
Instead, enable and use the {RHEL}{nbsp}8.3 repository on the *Content* > *Red Hat Repositories* page in the {ProjectWebUI}.
====

ifeval::["{client-os-family}" == "Red Hat"]
In some cases, excluding packages makes dependency solving impossible for DNF.
For example, if you make a {RHEL}{nbsp}8.3 repository with a few excluded packages, `dnf update` can fail.
Instead of enabling dependency solving to resolve the problem, investigate the error from `dnf` and adjust the filters to stop excluding the missing dependency.  Otherwise, dependency solving might cause the repository to digress from {RHEL} 8.3.
endif::[]

.Enabling Dependency Solving

Dependency solving is useful only in limited contexts.
Before enabling it, ensure you read and understand xref:Resolving_Package_Dependencies_content-management[]

.Procedure

To enable dependency solving per Content View in the {ProjectWebUI}

. Select *Content > Content Views*.
. In the list of content views, select the required content view.
. Under *Details*, toggle *Solve dependencies*.

To enable dependency solving by default:

. Select *Administer > Settings*.
. Under *Content*, change the value for *content view Dependency Solving Default* to *yes*.