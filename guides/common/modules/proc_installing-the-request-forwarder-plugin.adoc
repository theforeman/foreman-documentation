:_mod-docs-content-type: PROCEDURE

[id="installing-the-request-forwarder-plugin"]
= Installing the Request Forwarder plugin

[role="_abstract"]
If you use port 8443 on {SmartProxyServer} to upload Puppet reports and host facts from hosts to {ProjectServer}, install the Request Forwarder plugin on your {SmartProxyServer}.
Afterwards, configure your OpenVox server to use the new API endpoint of your {SmartProxyServers}.

.Procedure
. Install the plugin on your {SmartProxyServer}:
+
[options="nowrap", subs="verbatim,quotes,attributes"]
----
# {project-package-install} rubygem-smart_proxy_request_forwarder
----
. Enable the plugin:
+
[options="nowrap", subs="verbatim,quotes,attributes"]
----
# cat > /etc/foreman-proxy/settings.d/request_forwarder.yml << EOF
---
:enabled: https
EOF
----
. Configure your {SmartProxyServer}:
+
[options="nowrap", subs="verbatim,quotes,attributes"]
----
# {foreman-installer}
----
. Restart {Project} services:
+
[options="nowrap", subs="verbatim,quotes,attributes"]
----
# {foreman-maintain} service restart --only foreman-proxy
----
. On your OpenVox server, replace the URL in `/etc/puppetlabs/puppet/foreman.yaml`:
+
[source, yaml, options="nowrap", subs="verbatim,quotes,attributes"]
----
:url: "https://{smartproxy-example-com}:{smartproxy_port}/"
----
. Restart the OpenVox service:
+
[options="nowrap", subs="verbatim,quotes,attributes"]
----
# systemctl restart puppetserver
----
