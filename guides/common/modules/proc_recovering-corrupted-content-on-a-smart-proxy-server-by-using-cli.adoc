:_mod-docs-content-type: PROCEDURE

[id="recovering-corrupted-content-on-a-{smart-proxy-context}-server-by-using-cli"]
= Recovering corrupted content on a {SmartProxyServer} by using CLI

[role="_abstract"]
If hosts can no longer consume content from {SmartProxyServers}, the content has been corrupted and needs to be repaired.
Depending on the amount of content on your {SmartProxyServer}, this task might take some time.

.Procedure
. Display a list of all {SmartProxies}:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ {hammer-smart-proxy} list
----
+
Note the ID of your {SmartProxyServer}.
. Recover corrupted content on your {SmartProxyServer}:
** Repair content in a content view:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ {hammer-smart-proxy} content verify-checksum \
--content-view-id _My_Content_View_ID_ \
--id __My_{smart-proxy-context-titlecase}_Server_ID__ \
--organization-id _My_Organization_ID_
----
** Repair content in a lifecycle environment:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ {hammer-smart-proxy} content verify-checksum \
--id __My_{smart-proxy-context-titlecase}_Server_ID__ \
--lifecycle-environment-id _My_Lifecycle_Environment_ID_ \
--organization-id _My_Organization_ID_
----
** Repair content in a repository:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ {hammer-smart-proxy} content verify-checksum \
--id __My_{smart-proxy-context-titlecase}_Server_ID__ \
--organization-id _My_Organization_ID_ \
--repository-id _My_Repository_ID_
----
** Repair all content on your {SmartProxyServer}:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ {hammer-smart-proxy} content verify-checksum \
--id __My_{smart-proxy-context-titlecase}_Server_ID__
----

.Verification
* Verify that the task completed successfully:
+
[options="nowrap", subs="+quotes,attributes"]
----
$ hammer task list --search "Verify checksum for content"
----
