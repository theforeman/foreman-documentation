[id="enabling-the-red-hat-flatpak-remote_{context}"]
= Enabling the Red Hat Flatpak remote

This Hammer CLI procedure enables and manages Flatpak repositories.

.CLI procedure
. Enable a Flatpak remote on the {ProjectServer} using either standalone {EL} systems or {ProjectName}:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote create --name=$name --url=$url
----
* Note that you can include authentication details during creation using the options `--username=$username --token=$token`.
* Red Hat official token can be generated at: https://access.redhat.com/terms-based-registry.
. Update the Flatpak remote with authentication credentials:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote update --username=$username --token=$token
----
. List and view information about the Flatpak remote:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote list
$ hammer flatpak-remote info
----
. Scan the Flatpak remote:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote scan --id=$ID
----
. List repositories in the Flatpak remote:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote repository list --flatpak-remote-id=$ID
----
. Mirror a Flatbak remote repository to a {Project} product:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer flatpak-remote remote-repository mirror --id=$remote_repo_id --product-id=$satellite_product
----
You can view the repository under the selected product in Satellite. Ensure the *Include Tags* field is set to *latest*.
. Synchronize the {Project} repository using the following command:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer repository sync --id=$repo_id
----

[NOTE]
====
Flatpak applications rely on Flatpak runtimes. 
For example, `rhel9/firefox-flatpak` depends on `rhel9/flatpak-runtime`. 
Ensure that runtime repositories are available to clients alongside application repositories for installations to work.
====
