[id="Configuring_Pulpcore_API-Workers_{context}"]
= Configuring Pulpcore API Workers

The pulpcore-api workers responds to incoming API requests. Less api workers consume less memory and results in better performance.

For example, we have compared these two setups:

[width="100%",cols="50%,50%",options="header",]
|===
|{Project} VM with 8 CPUs, 32 GiB RAM, 3 pulpcore-api_workers |{Project} VM with 8 CPUs, 32 GiB RAM, 10 pulpcore-api_workers
|===

Outcome looks similar in both cases, so the recommendation would be to lower the number of api workers  because of the improvement in memory consumption.

.Use the below procedure to tune the pulpcore API workers:

. Update the pulpcore api_service_worker_count on your {ProjectServer} or {SmartProxyServer} in the custom-hiera.yaml file.:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
pulpcore::api_service_worker_count: X
----
+
. Run the installer to apply your changes:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
foreman-installer
----
+

