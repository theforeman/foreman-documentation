:_mod-docs-content-type: PROCEDURE

[id="authenticating-hammer-using-sessions"]
= Authenticating Hammer using sessions

[role="_abstract"]
The hammer authentication session is a cache that stores your credentials, and you have to provide them only once, at the beginning of the session.
This method is suited to running several hammer commands in succession, for example a script containing hammer commands.
In this scenario, you enter your {Project} credentials once, and the script runs as expected.
By using the hammer authentication session, you avoid storing your credentials in the script itself and in the `~/.hammer/cli.modules.d/foreman.yml` hammer configuration file.

.Prerequisites
* You have enabled sessions by adding `:use_sessions: true` to the `~/.hammer/cli.modules.d/foreman.yml` file:
+
[source, yaml, options="nowrap", subs="+quotes,verbatim,attributes"]
----
:foreman:
 :use_sessions: true
----
+
Note that if you enable sessions, credentials stored in the configuration file will be ignored.
* Optional: You can change the length of a session, for example, 30 minutes:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer settings set \
--name idle_timeout \
--value 30
----
+
The default length is 60 minutes.

.Procedure
* Start a session:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer auth login
----
+
You are prompted for your {Project} credentials, and logged in.
You will not be prompted for the credentials again until your session expires.

.Verification
* View the current status of the session:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer auth status
----

.Next steps
* End the session:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ hammer auth logout
----
