:_mod-docs-content-type: CONCEPT

[id="api-request-composition"]
= API request composition

[role="_abstract"]
You can use the information from the built-in API reference documentation to compose API requests.
This example shows how to compose a `curl` API request.

The built-in API reference shows the API route, or path, preceded by an HTTP method:

[source, none, options="nowrap", subs="+quotes,attributes"]
----
HTTP_METHOD API_ROUTE
----

To work with the API, construct a command by using the `curl` command syntax and the API route from the reference document:

// verify rendered HTML to ensure that the numbers align nicely
[options="nowrap", subs="+quotes,attributes"]
----
$ curl \
--request _HTTP_METHOD_ \
--insecure \
--user _My_User_Name_:__My_Password__ \
--data @_My_Input_File_.json \
--header "Accept:application/json" \
--header "Content-Type:application/json" \
--output _My_Output_File_
_API_ROUTE_ \
| python3 -m json.tool
----

`--request`:: To use `curl` for the API call, specify an HTTP method with the `--request` option.
For example, `--request POST`.
`--insecure`:: Add the `--insecure` option to skip SSL peer certificate verification check.
{Team} recommends you to configure SSL authentication and use secured calls.
For more information, see xref:ssl-authentication-overview[].
`--user`:: Provide {Project} user credentials with the `--user` option.
`--data`:: For `POST` and `PUT` requests, use the `--data` option to pass JSON-formatted data.
For more information, see xref:passing-json-data-to-the-api-request[].
`--header`:: When passing the JSON data with the `--data` option, you must specify the following headers with the `--header` option.
For more information, see xref:passing-json-data-to-the-api-request[].
`--output`:: When downloading content from {ProjectServer}, specify the output file with the `--output` option.
`_API_ROUTE_`:: Use the API route in the following format: `https://_{foreman-example-com}_/api/architectures`.
In {ProjectX}, version 2 of the API is the default.
Therefore, it is not necessary to use `v2` in the URL for API calls.
`json.tool`:: Redirect the output to the Python `json.tool` module to make the output easier to read.
