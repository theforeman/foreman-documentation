:_mod-docs-content-type: PROCEDURE

[id="registering-a-host-by-using-cli"]
= Registering a host by using Hammer CLI

[role="_abstract"]
You can register a host by using Hammer CLI with registration templates.
This also enables you to set up various integration features and host tools during the registration process.

.Prerequisites
* Your {Project} account has the *Register hosts* role assigned or a role with equivalent permissions.
* You must have root privileges on the host that you want to register.
* You must have installed either `curl` or `wget` on the host that you want to register.
* You have configured your host for registration.
For more information, see xref:Configuring_a_Host_for_Registration_{context}[].
ifdef::satellite,orcharhino,katello[]
include::snip_prerequisite-activation-key-available.adoc[]
endif::[]
ifdef::satellite[]
* Optional: If you want to register your host to {Insights}, you must synchronize the `{RepoRHEL8BaseOS}` and `{RepoRHEL8AppStream}` repositories and make them available in the activation key that you use.
This is required to install the `insights-client` package on your host.
endif::[]
ifdef::katello,orcharhino,satellite[]
include::snip_prerequisite-project-client-repository-ak.adoc[]
This repository is required for the remote execution pull client, Puppet agent, Tracer, and other tools.
endif::[]
include::snip_prerequisite-configured-smart-proxy-registration-provisioning.adoc[]
ifdef::katello,orcharhino,satellite[]
* If your {ProjectServer} or {SmartProxyServer} is behind an HTTP proxy, configure the Subscription Manager on your host to use the HTTP proxy for connection.
endif::[]
ifdef::satellite[]
For more information, see https://access.redhat.com/solutions/65300[How to access Red Hat Subscription Manager (RHSM) through a firewall or proxy] in the _Red{nbsp}Hat Knowledgebase_.
endif::[]
ifdef::orcharhino[]
ifdef::debian[]
* Ensure that your host has `gpg` installed to import the GPG public key.
endif::[]
endif::[]
ifndef::satellite[]
* You have configured the operating system entry on {Project} for {client-os}.
endif::[]
ifdef::orcharhino[]
+
include::snip_creating-os-on-orcharhino.adoc[]
ifdef::orcharhino[]
ifdef::amazon_linux[]
* Ensure that `subscription-manager` and its dependencies come from {project-client-name}.
Disable the Yum repository priorities plugin using `--disableplugin=priorities` to mitigate dependency resolving issues:
+
[options="nowrap" subs="verbatim,quotes,attributes"]
----
# yum --disableplugin=priorities install subscription-manager
----
+
Alternatively, you can increase the priority of the {project-client-name} repository or decrease the priority of the default {client-os} repositories.
endif::[]
endif::[]
endif::[]
ifdef::orcharhino[]
ifdef::suse_linux_enterprise_server[]
// do not use any attributes in the table to simplify search using "grep"
* Ensure that you have synchronized the required content to {Project}.
The following table shows a list of required Yum repositories to register hosts running {SLES}.
+
[width="100%",cols="20%,40%,40%,options="header"]
|===
|Operating system |Products in SCC Manager |Content on {Project}

|SUSE Linux Enterprise Server 12 SP5
a|* `SUSE Linux Enterprise Server 12 SP5 x86_64`
a|* `SUSE Linux Enterprise Server 12 SP5 x86_64` > `SLES12-SP5-Pool for sle-12-x86_64`

|SUSE Linux Enterprise Server 15 SP2
a|* `SUSE Linux Enterprise Server 15 SP2 x86_64` including `Basesystem Module 15 SP2 x86_64` and `Python 2 Module 15 SP2 x86_64`
a|
* `Basesystem Module 15 SP2 x86_64` > `SLE-Module-Basesystem15-SP2-Pool for sle-15-x86_64`
* `Python 2 Module 15 SP2 x86_64` > `SLE-Module-Python2-15-SP2-Pool for sle-15-x86_64`
* `SUSE Linux Enterprise Server 15 SP2 x86_64` > `SLE-Product-SLES15-SP2-Pool for sle-15-x86_64`

|SUSE Linux Enterprise Server 15 SP3
a|* `SUSE Linux Enterprise Server 15 SP3 x86_64` including `Basesystem Module 15 SP3 x86_64` and `Python 2 Module 15 SP3 x86_64`
a|
* `Basesystem Module 15 SP3 x86_64` > `SLE-Module-Basesystem15-SP3-Pool for sle-15-x86_64`
* `Python 2 Module 15 SP3 x86_64` > `SLE-Module-Python2-15-SP3-Pool for sle-15-x86_64`
* `SUSE Linux Enterprise Server 15 SP3 x86_64` > `SLE-Product-SLES15-SP3-Pool for sle-15-x86_64`

|SUSE Linux Enterprise Server 15 SP4
a|* `SUSE Linux Enterprise Server 15 SP4 x86_64` including `Basesystem Module 15 SP4 x86_64`
a|
* `Basesystem Module 15 SP4 x86_64` > `SLE-Module-Basesystem15-SP4-Pool for sle-15-x86_64`
* `SUSE Linux Enterprise Server 15 SP4 x86_64` > `SLE-Product-SLES15-SP4-Pool for sle-15-x86_64`

|SUSE Linux Enterprise Server 15 SP5
a|* `SUSE Linux Enterprise Server 15 SP5 x86_64` including `Basesystem Module 15 SP5 x86_64`
a|
* `Basesystem Module 15 SP5 x86_64` > `SLE-Module-Basesystem15-SP5-Pool for sle-15-x86_64`
* `SUSE Linux Enterprise Server 15 SP5 x86_64` > `SLE-Product-SLES15-SP5-Pool for sle-15-x86_64`

|SUSE Linux Enterprise Server 15 SP6
a|* `SUSE Linux Enterprise Server 15 SP6 x86_64` including `Basesystem Module 15 SP6 x86_64`
a|
* `Basesystem Module 15 SP6 x86_64` > `SLE-Module-Basesystem15-SP6-Pool for sle-15-x86_64`
* `SUSE Linux Enterprise Server 15 SP6 x86_64` > `SLE-Product-SLES15-SP6-Pool for sle-15-x86_64`
|===
+
You can use the SCC Manager plugin to import SUSE products and repositories.
For more information, see {ContentManagementDocURL}Managing_SUSE_Content_content-management[Managing SUSE content] in _{ContentManagementDocTitle}_.
endif::[]
endif::[]

.Procedure
. Use the `hammer host-registration generate-command` to generate the registration command to register your host.
. On your host that you want to register, run the registration command as `root`.
+
For more information, see the Hammer CLI help with `hammer host-registration generate-command --help`.

.Next steps
* To set up monitoring of outdated services and applications using Tracer, see {ManagingHostsDocURL}configuring-tracer-on-a-host_managing-hosts[Configuring Tracer on a host] in _{ManagingHostsDocTitle}_.
