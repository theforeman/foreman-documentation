:_mod-docs-content-type: REFERENCE

[id="playbook-example-synchronize-repositories-and-publish-a-content-view"]
= Playbook example: Synchronize repositories and publish a content view

[role="_abstract"]
This is an example playbook for synchronizing repositories and publishing a content view.

This example playbook uses the following modules:

* `{ansible-namespace}.repository_sync`
* `{ansible-namespace}.content_view_version`

The playbook synchronizes repositories and publishes the content view that includes them.

Before you run this playbook, ensure that you have enabled the required repositories and created a content view.
For an example playbook that ensures this, see xref:playbook-example-enable-repositories-and-create-a-content-view[].

[options="nowrap" subs="+quotes,attributes"]
----
- name: Ensure {client-os} {client-os-major} repositories are synced and content view is published
  hosts: localhost
  vars_files:
    - _My_Vault.yml_
  module_defaults:
    group/{ansible-module-defaults-group}:
      username: "{{ _My_Username_ }}"
      password: "{{ _My_Password_ }}"
      server_url: "{{ _My_Server_URL_ }}"
  tasks:
    - name: Sync {client-os} repositories
      {ansible-namespace}.repository_sync:
        product: "{client-os} for x86_64"
        organization: "Default Organization"
    - name: Publish {client-os} {client-os-major} content view
      {ansible-namespace}.content_view_version:
        content_view: "{client-os} {client-os-major} content view"
        organization: "Default Organization"
----

For more information, see the Ansible module documentation with the following commands:

* `ansible-doc {ansible-namespace}.repository_sync`
* `ansible-doc {ansible-namespace}.content_view_version`
