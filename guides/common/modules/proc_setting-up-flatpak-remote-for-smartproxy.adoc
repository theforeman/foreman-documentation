[id="setting-up-Flatpak-remote_for_Smartproxy"]
= Setting up Flatpak remote for {SmartProxy}

This procedure configures {SmartProxy} servers to synchronize and distribute Flatpak repositories to managed hosts. 

.Prerequisites
* Ensure the Flatpak repositories are synced to the {SmartProxy}.

.Procedure
. On the managed host, add the {SmartProxy} as a Flatpak remote:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ flatpak remote-add --authenticator-name=org.flatpak.Authenticator.Oci katello oci+https://{smartproxy-example-com}/pulpcore_registry/
----
. Log in using podman:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ podman login
----
For more information about logging in using podman, see xref:Configuring_podman_to_trust_the_CA_{context}[Configuring Podman and Docker to trust the certificate authority].
+
You might need to log in to the registry again if you have not saved your credentials.

. Optional: Save your credentials permanently using one of the following options:
* To save the credentials for the current user:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ cp $XDG_RUNTIME_DIR/containers/auth.json \
   $HOME/.config/flatpak/oci-auth.json
----
* To save the credentials system-wide:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ cp $XDG_RUNTIME_DIR/containers/auth.json \
   /etc/flatpak/oci-auth.json
----
. Install the Mozilla Firefox Flatpak:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
$ flatpak install firefox
----

