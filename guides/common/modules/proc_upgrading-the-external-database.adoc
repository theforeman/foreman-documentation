[id="Upgrading_the_External_Database_{context}"]
= Upgrading the external database

* If you use an external database, use the `pg_upgrade` utility to upgrade from PostgreSQL 12 to PostgreSQL 13, without upgrading the underlying operating system from {EL} 8 to {EL} 9. 
For more information, see {RHELDocsBaseURL}8/html/deploying_different_types_of_servers/using-databases#fast-upgrade-using-the-pg_upgrade-tool_migrating-to-a-rhel-8-version-of-postgresql[Fast upgrade using the pg_upgrade utility] in _Deploying different types of servers_.
ifdef::katello,satellite,orcharhino[]
* Correct the permissions on the `evr` extension on the external database:
+
[options="nowrap", subs="+quotes,verbatim,attributes"]
----
# runuser -l postgres -c \
"psql -d foreman -c \"UPDATE pg_extension SET extowner = (SELECT oid FROM pg_authid WHERE rolname='foreman') WHERE extname='evr';\""
----
endif::[]
* Note that you can upgrade the underlying operating system from {EL} 8 to {EL} 9 separately. 
