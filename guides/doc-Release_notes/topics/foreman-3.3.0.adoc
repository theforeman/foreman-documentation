= Foreman 3.3.0

A full list of changes is available via https://projects.theforeman.org/issues?set_filter=1&sort=id%3Adesc&status_id=closed&f%5B%5D=cf_12&op%5Bcf_12%5D=%3D&v%5Bcf_12%5D%5B%5D=1564[Redmine]

== Foreman

* Support EC (and other non-RSA) keys in Foreman core - https://projects.theforeman.org/issues/34843[#34843]
* Remove the "Share your feedback"  link from the new host details page - https://projects.theforeman.org/issues/34841[#34841]
* Add a reports tab to the hosts details page - https://projects.theforeman.org/issues/34782[#34782]
* Add developer documentation for pagelets - https://projects.theforeman.org/issues/34544[#34544]
* Include the host comments to a host list page - https://projects.theforeman.org/issues/34516[#34516]
* Host list page should show the owner of the host - https://projects.theforeman.org/issues/34515[#34515]

=== DB migrations

* Pending migrations check in seeds does not take plugins into consideration - https://projects.theforeman.org/issues/34913[#34913]

=== Settings

* Settings - Issues with search - https://projects.theforeman.org/issues/34866[#34866]
* "Sync Connect Timeout" settings takes invalid value and shows update successful but doesnt reflect the change for invalid valuest reflect the change for invalid values - https://projects.theforeman.org/issues/34838[#34838]
* Deprecate other then DSL setting definitions - https://projects.theforeman.org/issues/34603[#34603]
* GraphQL is using Setting model directly - https://projects.theforeman.org/issues/34328[#34328]
* Initialize Setting for tests without fixtures - https://projects.theforeman.org/issues/33782[#33782]
* Move setting value collections to SettingPresenter - https://projects.theforeman.org/issues/30861[#30861]

=== JavaScript stack

* Show error when using node 16+ - https://projects.theforeman.org/issues/34857[#34857]
* Fix slots in system properties card - https://projects.theforeman.org/issues/34815[#34815]
* New host detail page - sentence case fixes - https://projects.theforeman.org/issues/34798[#34798]
* new host detail page - Fix host status card alignment - https://projects.theforeman.org/issues/34755[#34755]
* Adding the host parameters clears the values of the prior line - https://projects.theforeman.org/issues/34747[#34747]
* Better handling when no key is passed to API middleware - https://projects.theforeman.org/issues/34745[#34745]
* Remove PatternFly 3 OverlayTrigger - https://projects.theforeman.org/issues/34713[#34713]
* Use hostFriendlyId and hostName props for host ActionBar component - https://projects.theforeman.org/issues/34673[#34673]
* Provide helpers for dealing with global IDs returned by graphql queries - https://projects.theforeman.org/issues/34614[#34614]
* Remove pagination deprecations - https://projects.theforeman.org/issues/34580[#34580]
* Add ouiaId on components for easier testing - https://projects.theforeman.org/issues/34542[#34542]
* Update to the latest foreman-js - https://projects.theforeman.org/issues/34481[#34481]
* Create PatternFly 4 breadcrumb switcher - https://projects.theforeman.org/issues/34290[#34290]
* useAPI infinite loop - https://projects.theforeman.org/issues/33236[#33236]

=== Web Interface

* Change host status icon to green - https://projects.theforeman.org/issues/34831[#34831]
* Tabbable latest version 5.3.1 is not compatible with jest dom/ JSDom without changes to PF4. - https://projects.theforeman.org/issues/34802[#34802]
* Breadcrumb switcher use V for selected - https://projects.theforeman.org/issues/34662[#34662]
* Cancel host form redirects to legacy host UI - https://projects.theforeman.org/issues/34579[#34579]
* Add pagelet mountpoints for hosts list table - https://projects.theforeman.org/issues/34543[#34543]
* Add breadcrumbs switcher to new host page - https://projects.theforeman.org/issues/34511[#34511]
* Breadcrumb switcher doesnt work with katello contentt work with katello content - https://projects.theforeman.org/issues/34495[#34495]
* Close bookmarks dropdown after selecting a bookmark - https://projects.theforeman.org/issues/34228[#34228]
* New host detail page shows IP address over multiple lines - https://projects.theforeman.org/issues/33948[#33948]
* Add details Tab to the host details page - https://projects.theforeman.org/issues/33010[#33010]
* Refactor PageLayout to use PF4 components - https://projects.theforeman.org/issues/32991[#32991]

=== Inventory

* Submit button on Edit page of a host will revert back to a invalid page on Foreman - https://projects.theforeman.org/issues/34830[#34830]
* The Submit button on a host form redirects to an invalid page - https://projects.theforeman.org/issues/34572[#34572]
* Expose reported data in the API - https://projects.theforeman.org/issues/34391[#34391]

=== Statistics

* Host - Last Checkin report template is not showing any other content host apart from Foreman itself. - https://projects.theforeman.org/issues/34809[#34809]

=== TFTP

* "Kickstart default user data" Provisioning Template contains doubled description key
 - https://projects.theforeman.org/issues/34776[#34776]
* Make operatingsystem.bootfile useable in Jail - https://projects.theforeman.org/issues/34689[#34689]

=== API

* Taxonomies api does not accept per_page all - https://projects.theforeman.org/issues/34748[#34748]
* Refactor handling of External IPAM response - https://projects.theforeman.org/issues/34714[#34714]
* Turn off caching for apipie in production - https://projects.theforeman.org/issues/34643[#34643]
* Improve GraphQL association resolving - https://projects.theforeman.org/issues/34557[#34557]
* Add import_ipv4_subnets to API - https://projects.theforeman.org/issues/34251[#34251]

=== Reporting

* Remove reports deprecation from develop and 3.2 - https://projects.theforeman.org/issues/34744[#34744]
* Report template request: list enabled repositories and CV package counts - https://projects.theforeman.org/issues/34712[#34712]
* "Subscription - Entitlement Report" does not show correct number of subscriptions attached/consumed - https://projects.theforeman.org/issues/34610[#34610]

=== Templates

* Use foreman request address in windows iPXE  - https://projects.theforeman.org/issues/34710[#34710]
* Harmonize preseed templates - https://projects.theforeman.org/issues/34658[#34658]
* Ensure that the insights snippet is being called by honoring the value of host_registration_insights parameter - https://projects.theforeman.org/issues/34525[#34525]
* AutoYaST PXE templates fail to render if http-proxy parameter is set without http-proxy-port - https://projects.theforeman.org/issues/34489[#34489]
* Allow puppet setup to be skipped even if you set a puppet master - https://projects.theforeman.org/issues/34388[#34388]
* AutoYaST SLES template invalid for SLES 15 SP3 - https://projects.theforeman.org/issues/34311[#34311]
* Support unattented partitionning using crypto under Debian - https://projects.theforeman.org/issues/34307[#34307]
* Add driverdisk support to kickstart templates - https://projects.theforeman.org/issues/33938[#33938]
* Cannot change "local boot ipxe template" - https://projects.theforeman.org/issues/33937[#33937]
* Templates - vgname is hardcoded to vg_sda - https://projects.theforeman.org/issues/33930[#33930]
* Add DSL autocompletion in templates - https://projects.theforeman.org/issues/32035[#32035]
* Request to add UEFI Grub2 for SLES/SUSE - https://projects.theforeman.org/issues/20265[#20265]

=== Audit Log

* Add rake command that prints out documentation for Auditable attributes - https://projects.theforeman.org/issues/34690[#34690]
* PF4 bookmarks and search field - https://projects.theforeman.org/issues/34546[#34546]

=== Host registration

* The registration database migration could fail when template is not available - https://projects.theforeman.org/issues/34661[#34661]

=== Rails

* Upgrade Rails to 6.0.4.7 - https://projects.theforeman.org/issues/34649[#34649]
* Move initialization from application.rb into initializer - https://projects.theforeman.org/issues/34646[#34646]
* Order description syntax does not read right with Maruku - https://projects.theforeman.org/issues/34634[#34634]
* SettingPresenter - pass kwarks in Ruby 3 compatible format - https://projects.theforeman.org/issues/34570[#34570]
* Postpone LookupValue match validations - https://projects.theforeman.org/issues/34569[#34569]
* Switch Rails version to 6.1 - https://projects.theforeman.org/issues/34526[#34526]
* Add support for Rails 6.1 - https://projects.theforeman.org/issues/34500[#34500]
* Remove usage of force_ssl in controller - https://projects.theforeman.org/issues/30122[#30122]

=== Unattended installations

* Default boot template names - https://projects.theforeman.org/issues/34596[#34596]
* Trigger ansible provisioning callback for Preseed based installs - https://projects.theforeman.org/issues/34558[#34558]
* Use systemd based Ansible callback on Ubuntu &gt;= 15 and Debian &gt;= 8 - https://projects.theforeman.org/issues/34553[#34553]

=== Security

* Settings defined by DSL are not properly encrypted - https://projects.theforeman.org/issues/34573[#34573]

=== Host creation

* Installation Media does not find Ubuntu autoinstall kernel files - https://projects.theforeman.org/issues/34565[#34565]
* Ubuntu Autoinstall support - https://projects.theforeman.org/issues/32632[#32632]
* Reimplement !unattended mode support as mainline feature - https://projects.theforeman.org/issues/10413[#10413]

=== Power management

* Disable EFI local chainloading by default - https://projects.theforeman.org/issues/34532[#34532]

=== Database

* Undefined method format_errors' when db:seed failformat_errors when db:seed fail when db:seed fail - https://projects.theforeman.org/issues/34513[#34513]
* Ignore dynflow tables for schema dump - https://projects.theforeman.org/issues/33660[#33660]

=== Users, Roles and Permissions

* Infer of permission name for isolated namespace controllers doesnt work - https://projects.theforeman.org/issues/34506[#34506]

=== Compute resources - VMware

* Latest Hardware version for VMware vSphere 7.0 U2 and U3 is not available - https://projects.theforeman.org/issues/34499[#34499]
* CentOS9 and RHEL9 Guest OS are missing  - https://projects.theforeman.org/issues/34498[#34498]

=== Facts

* Shorten DNS timeout for primary NIC detection - https://projects.theforeman.org/issues/34462[#34462]
* Normalize fact parsers to use CentOS instead of centos - https://projects.theforeman.org/issues/34450[#34450]

=== Organizations and Locations

* Organization context fails to change in web UI - https://projects.theforeman.org/issues/34416[#34416]

=== Plugin integration

* Facets do not allow emptying their relations through mass assignment - https://projects.theforeman.org/issues/34375[#34375]

=== Compute resources

* Fix early load of fog_extensions - https://projects.theforeman.org/issues/34353[#34353]

=== Authentication

* Require foreman/telemetry' in ldap initializerforeman/telemetry in ldap initializer in ldap initializer - https://projects.theforeman.org/issues/34350[#34350]
* Provide alternative FIPS/NIST approved password hashing to bcrypt - https://projects.theforeman.org/issues/32572[#32572]

=== Compute resources - OpenStack

* Support Openstack Keystone sub-uri - https://projects.theforeman.org/issues/34346[#34346]

=== Tests

* Sanitize fqdn in tests - https://projects.theforeman.org/issues/34339[#34339]
* Improve a clarity of Api::HostsController test - https://projects.theforeman.org/issues/34326[#34326]

=== Dashboard

* Setting all_out_of_sync_disabled has no definition warning - https://projects.theforeman.org/issues/34240[#34240]

=== BMC

* Make setting bmc_credentials_accessible disabled by default - https://projects.theforeman.org/issues/31965[#31965]

== Installer

* Installer spams with katello-certs-check output when using custom certs - https://projects.theforeman.org/issues/34888[#34888]
* Display the mismatched FQDN additionally rather than just showing the commands to verify the output - https://projects.theforeman.org/issues/34883[#34883]
* Pulp: Add options to change the import and export path in  /etc/pulp/settings.py - https://projects.theforeman.org/issues/34882[#34882]
* Resetting nssdb certificate does not update private key and breaks Qpid - https://projects.theforeman.org/issues/34860[#34860]
* Installer does not restart foreman.service when changing Puma configuration - https://projects.theforeman.org/issues/34824[#34824]
* Puppet Agent enabled in Katello installations, even if it should not - https://projects.theforeman.org/issues/34819[#34819]
* Rename foreman_proxy::plugin::remote_execution::ssh to foreman_proxy::plugin::remote_execution::script - https://projects.theforeman.org/issues/34758[#34758]
* After upgrading to Katello 4.0+ ping check fails with "Some components are failing: katello_agent"
 - https://projects.theforeman.org/issues/34708[#34708]
* --reset-data does not remove /var/lib/candlepin/.puppet-candlepin-rpm-version - https://projects.theforeman.org/issues/34686[#34686]
* Drop apipie cache generation and indexing - https://projects.theforeman.org/issues/34640[#34640]
* Detect plugin installation and trigger Puma restart - https://projects.theforeman.org/issues/34602[#34602]
* Keytool does not work on FIPS enabled EL 8 - https://projects.theforeman.org/issues/34598[#34598]
* Add hammer-cli-foreman-host-reports to the installer - https://projects.theforeman.org/issues/34505[#34505]
* Add support for REX pull transport - https://projects.theforeman.org/issues/34239[#34239]
* Warning: postgresql.service changed on disk. Run systemctl daemon-reload' to reload units.systemctl daemon-reload to reload units. to reload units. - https://projects.theforeman.org/issues/32323[#32323]
* Make it possible to install Foremans httpd with mpm_events httpd with mpm_event - https://projects.theforeman.org/issues/20889[#20889]

=== Foreman modules

* OS upgrade keeps original TFTP setup preventing machines to boot from the network - https://projects.theforeman.org/issues/34774[#34774]

=== foreman-installer script

* Run Apache httpd without default modules from puppetlabs-apache - https://projects.theforeman.org/issues/34590[#34590]

== Packaging

* Require psql for foreman-maintain - https://projects.theforeman.org/issues/34855[#34855]
* Update foreman-protector yum and dnf source file paths - https://projects.theforeman.org/issues/34801[#34801]
* Drop apipie cache generation from RPM builds - https://projects.theforeman.org/issues/34641[#34641]

=== Debian/Ubuntu

* Updates oauth Gem installed by puppet-agent-oauth under Debian to a newer version (0.5.1 produces lots of warnings about URI.escape) - https://projects.theforeman.org/issues/34681[#34681]

=== RPMs

* foreman.rpm pulls in nodejs - https://projects.theforeman.org/issues/34507[#34507]
* Installer uses hostname, but that package can be absent - https://projects.theforeman.org/issues/34468[#34468]

== SELinux

=== Plugins

* Drop foreman_docker compatibility - https://projects.theforeman.org/issues/34730[#34730]
* Syncing the git templates on RHEL8 raise SElinux errors - https://projects.theforeman.org/issues/34726[#34726]

== Smart Proxy

* Support EC (and other non-RSA) keys in foreman proxy - https://projects.theforeman.org/issues/34844[#34844]
* Set the MALLOC_ARENA_MAX variable to counter memory bloating in production environments - https://projects.theforeman.org/issues/34624[#34624]
* Rewrite validate_ip to use a case statement - https://projects.theforeman.org/issues/34566[#34566]

=== SSL

* foreman-proxy does not log permissions errors when trying to read ssl_ca.pem - https://projects.theforeman.org/issues/34613[#34613]

=== Packaging

* rsec gem listed twice generates a warning - https://projects.theforeman.org/issues/34589[#34589]

=== Tests

* Drop single_test gem dependency - https://projects.theforeman.org/issues/34564[#34564]
* Drop rdoc from test dependencies - https://projects.theforeman.org/issues/34563[#34563]
* Allow calling load_test_settings without settings - https://projects.theforeman.org/issues/34162[#34162]
* Test fail locally: Error details for private method \`select called for nil:NilClass: called for nil:NilClass: - https://projects.theforeman.org/issues/27088[#27088]
