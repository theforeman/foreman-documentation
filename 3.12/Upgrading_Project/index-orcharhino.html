<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Upgrading orcharhino to 6.10</title>
<style>
﻿*,::before,::after{box-sizing:border-box}html{font-size:100%;-webkit-text-size-adjust:100%}body{background:#fff;color:rgba(0,0,0,0.8);padding:0;margin:0;font-family:"Noto Serif", "DejaVu Serif", serif;font-size:inherit;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,p,blockquote,th,td{margin:0;padding:0}a{background:none;color:#2156a5;text-decoration:underline;line-height:inherit}a:active,a:hover{cursor:pointer;outline:0}a:focus{outline:thin dotted}a:hover,a:focus{color:#1d4b8f}abbr{font-size:0.9em}abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}b,strong{font-weight:bold;line-height:inherit}strong strong{font-weight:400}code,kbd,pre{font-family:"Droid Sans Mono", "DejaVu Sans Mono", monospace;font-size:1em}code{font-weight:400;color:rgba(0,0,0,0.9)}pre{color:rgba(0,0,0,0.9);line-height:1.45;text-rendering:optimizeSpeed;white-space:pre-wrap}dfn{font-style:italic}em,i{font-style:italic;line-height:inherit}em em{font-style:normal}hr{border:solid #dddddf;border-width:1px 0 0;clear:both;height:0;margin:1.25em 0 1.1875em}mark{background:#ff0;color:#000}p{line-height:1.6;margin-bottom:1.25rem;text-rendering:optimizeLegibility}q{quotes:"“" "”" "‘" "’"}small{font-size:60%;line-height:inherit}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img,object[type^="image/"],svg{display:inline-block;height:auto;max-width:100%;vertical-align:middle}img{border:0;-ms-interpolation-mode:bicubic}object{max-width:100%}svg:not(:root){overflow:hidden}figure{margin:0}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}.left{float:left !important}.right{float:right !important}.text-left{text-align:left !important}.text-right{text-align:right !important}.text-center{text-align:center !important}.text-justify{text-align:justify !important}.hide{display:none}.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:0.25em}p aside{font-size:.875em;line-height:1.35;font-style:italic}h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans", "DejaVu Sans", sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.2;word-spacing:-0.05em}h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{color:#e99b8f;line-height:0}h1{font-size:2.125em}h2{font-size:1.6875em}h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}h4,h5{font-size:1.125em}h6{font-size:1em}ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}ul,ol{margin-left:1.5em}ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}ul.square{list-style-type:square}ul.circle{list-style-type:circle}ul.disc{list-style-type:disc}ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}dl dt{margin-bottom:.3125em;font-weight:bold}dl dd{margin-bottom:1.25em;margin-left:1.125em}blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,0.85)}@media screen and (min-width: 768px){h1{font-size:2.75em}h2{font-size:2.3125em}h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}h4{font-size:1.4375em}}table{background:#fff;border:1px solid #dedede;border-collapse:collapse;border-spacing:0;margin-bottom:1.25em;word-wrap:normal}table thead,table tfoot{background:#f7f8f7}table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,0.8);text-align:left}table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,0.8)}table tr.even,table tr.alt{background:#f8f8f7}table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:"";display:table}.clearfix::after,.float-group::after{clear:both}:not(pre).nobreak{word-wrap:normal}:not(pre).nowrap{white-space:nowrap}:not(pre).pre-wrap{white-space:pre-wrap}:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal !important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}pre>code{display:block}pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}.keyseq{color:rgba(51,51,51,0.8)}kbd{display:inline-block;color:rgba(0,0,0,0.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,0.2),inset 0 0 0 0.1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}.keyseq kbd:first-child{margin-left:0}.keyseq kbd:last-child{margin-right:0}.menuseq,.menuref{color:#000}.menuseq b:not(.caret),.menuref{font-weight:inherit}.menuseq{word-spacing:-0.02em}.menuseq b.caret{font-size:1.25em;line-height:0.8}.menuseq i.caret{font-weight:bold;text-align:center;width:0.45em}b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}b.button::before{content:"[";padding:0 3px 0 2px}b.button::after{content:"]";padding:0 2px 0 3px}p a>code:hover{color:rgba(0,0,0,0.9)}body>div[id]{margin:0 auto;max-width:62.5em;position:relative;padding-left:.9375em;padding-right:0.9375em}body>div[id]::before,body>div[id]::after,#content #footnotes::before{content:"";display:table;clear:both}#content{margin-top:1.25em;margin-bottom:0.625em}#content::before{content:none}#header>h1:first-child{color:rgba(0,0,0,0.85);margin-top:2.25rem;margin-bottom:0}#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,0.6);display:flex;flex-flow:row wrap}#header .details span:first-child{margin-left:-0.125em}#header .details span.email a{color:rgba(0,0,0,0.85)}#header .details br{display:none}#header .details br+span::before{content:" – "}#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,0.85)}#header .details br+span#revremark::before{content:" | "}#header #revnumber{text-transform:capitalize}#header #revnumber::after{content:" "}#content>h1:first-child:not([class]){color:rgba(0,0,0,0.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}#toc{border-bottom:1px solid #e7e7e9;padding-bottom:0.5em}#toc>ul{margin-left:0.125em}#toc ul.sectlevel0>li>a{font-style:italic}#toc ul.sectlevel0 ul.sectlevel1{margin:0.5em 0}#toc ul{font-family:"Open Sans", "DejaVu Sans", sans-serif;list-style-type:none}#toc li{line-height:1.3334;margin-top:0.3334em}#toc a{text-decoration:none}#toc a:active{text-decoration:underline}#toctitle{color:#7a2518;font-size:1.2em}@media screen and (min-width: 768px){#toctitle{font-size:1.375em}body.toc2{padding-left:15em;padding-right:0}#toc.toc2{margin-top:0 !important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0 !important;border-bottom-width:0 !important;z-index:1000;padding:1.25em 1em;height:calc(100% - (70px + 2.5em));overflow:auto}#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}#toc.toc2>ul{font-size:.9em;margin-bottom:0}#toc.toc2 ul ul{margin-left:0;padding-left:1em}#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:0.5em}body.toc2.toc-right{padding-left:0;padding-right:15em}body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}@media screen and (min-width: 1280px){body.toc2{padding-left:20em;padding-right:0}#toc.toc2{width:20em}#toc.toc2 #toctitle{font-size:1.375em}#toc.toc2>ul{font-size:0.95em}#toc.toc2 ul ul{padding-left:1.25em}body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}#content #toc>:first-child{margin-top:0}#content #toc>:last-child{margin-bottom:0}#footer{max-width:none;background:#025d8c;padding:1.25em;margin-left:2em}#footer-text{color:rgba(255,255,255,0.8);line-height:1.44}h1:before,h2:before,h3:before,h4:before,h5:before,h6:before,div.title:before{display:block;content:" ";height:90px;margin-top:-90px;visibility:hidden}.sect1{padding-bottom:0.625em}@media screen and (min-width: 768px){#content{margin-bottom:1.25em}.sect1{padding-bottom:1.25em}}.sect1:last-child{padding-bottom:0}.sect1+.sect1{border-top:1px solid #e7e7e9}#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none !important;visibility:hidden;text-align:center;font-weight:400}#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:0.1em}#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}details{margin-left:1.25rem}details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}details>summary::-webkit-details-marker{display:none}details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif", "DejaVu Serif", serif;font-size:1rem;font-style:italic}table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,0.85)}.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}.admonitionblock>table td.icon{text-align:center;width:80px}.admonitionblock>table td.icon img{max-width:none}.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans", "DejaVu Sans", sans-serif;text-transform:uppercase}.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,0.6);word-wrap:anywhere}.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}.exampleblock>.content{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#fffef7;border-radius:4px;box-shadow:0 1px 4px #e0e0dc}.exampleblock>.content>:first-child{margin-top:0}.exampleblock>.content>:last-child{margin-bottom:0}.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}.sidebarblock>:first-child{margin-top:0}.sidebarblock>:last-child{margin-bottom:0}.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:0.8125em}@media screen and (min-width: 768px){.literalblock pre,.listingblock>.content>pre{font-size:0.90625em}}@media screen and (min-width: 1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,0.9)}.listingblock>.content{position:relative}.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:0.5}.listingblock:hover code[data-lang]::before{display:block}.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:0.5}.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}.listingblock pre.highlightjs{padding:0}.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}.listingblock pre.prettyprint{border-width:0}.prettyprint{background:#f7f7f8}pre.prettyprint .linenums{line-height:1.45;margin-left:2em}pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}pre.prettyprint li code[data-lang]::before{opacity:1}pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}table.linenotable td.code{padding-left:0.75em}table.linenotable td.linenos{width:0.01%}table.linenotable td.linenos,pre.pygments .linenos,pre.rouge .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}pre.pygments span.linenos,pre.rouge span.linenos{display:inline-block;margin-right:0.75em}.quoteblock{margin:0 1em 1.25em 1.5em;display:table}.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:0.75em}.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,0.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}.quoteblock blockquote{margin:0;padding:0;border:0}.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,0.1)}.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}.verseblock{margin:0 1em 1.25em}.verseblock pre{font-family:"Open Sans", "DejaVu Sans", sans-serif;font-size:1.15rem;color:rgba(0,0,0,0.85);font-weight:300;text-rendering:optimizeLegibility}.verseblock pre strong{font-weight:400}.verseblock .attribution{margin-top:1.25rem;margin-left:0.5ex}.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}.quoteblock .attribution br,.verseblock .attribution br{display:none}.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,0.6)}.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}.quoteblock.abstract{margin:0 1em 1.25em;display:block}.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:0.25em solid #dddddf}.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}p.tableblock:last-child{margin-bottom:0}td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}td.tableblock>.content>:last-child{margin-bottom:-1.25em}table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}table.grid-all>*>tr>*{border-width:1px}table.grid-cols>*>tr>*{border-width:0 1px}table.grid-rows>*>tr>*{border-width:1px 0}table.frame-all{border-width:1px}table.frame-ends{border-width:1px 0}table.frame-sides{border-width:0 1px}table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}th.halign-left,td.halign-left{text-align:left}th.halign-right,td.halign-right{text-align:right}th.halign-center,td.halign-center{text-align:center}th.valign-top,td.valign-top{vertical-align:top}th.valign-bottom,td.valign-bottom{vertical-align:bottom}th.valign-middle,td.valign-middle{vertical-align:middle}table thead th,table tfoot th{font-weight:bold}tbody tr th{background:#f7f8f7}tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,0.8);font-weight:bold}p.tableblock>code:only-child{background:none;padding:0}p.tableblock{font-size:1em}ol{margin-left:1.75em}ul li ol{margin-left:1.5em}dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:0.625em}ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:0.625em}ul.unstyled,ol.unstyled{margin-left:0}li>p:empty:only-child::before{content:"";display:inline-block}ul.checklist>li>p:first-child{margin-left:-1em}ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:0.125em}ul.checklist>li>p:first-child>input[type=checkbox]:first-child{font:inherit;margin:0 .25em 0 0;padding:0}ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 0.625em -1.25em}ul.inline>li{margin-left:1.25em}.unstyled dl dt{font-weight:400;font-style:normal}ol.arabic{list-style-type:decimal}ol.decimal{list-style-type:decimal-leading-zero}ol.loweralpha{list-style-type:lower-alpha}ol.upperalpha{list-style-type:upper-alpha}ol.lowerroman{list-style-type:lower-roman}ol.upperroman{list-style-type:upper-roman}ol.lowergreek{list-style-type:lower-greek}.hdlist>table,.colist>table{border:0;background:none}.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}td.hdlist1,td.hdlist2{vertical-align:top;padding:0 0.625em}td.hdlist1{font-weight:bold;padding-bottom:1.25em}td.hdlist2{word-wrap:anywhere}.literalblock+.colist,.listingblock+.colist{margin-top:-0.5em}.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}.colist td:not([class]):first-child img{max-width:none}.colist td:not([class]):last-child{padding:0.25em 0}.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}.imageblock.left{margin:0.25em 0.625em 1.25em 0}.imageblock.right{margin:0.25em 0 1.25em 0.625em}.imageblock>.title{margin-bottom:0}.imageblock.thumb,.imageblock.th{border-width:6px}.imageblock.thumb>.title,.imageblock.th>.title{padding:0 0.125em}.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}.image.left{margin-right:0.625em}.image.right{margin-left:0.625em}a.image{text-decoration:none;display:inline-block}a.image object{pointer-events:none}sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}sup.footnote a,sup.footnoteref a{text-decoration:none}sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:0.625em}#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:0.2em}#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}#footnotes .footnote:last-of-type{margin-bottom:0}#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:0.75em 0}div.page-break{display:none}div.unbreakable{page-break-inside:avoid}.big{font-size:larger}.small{font-size:smaller}.underline{text-decoration:underline}.overline{text-decoration:overline}.line-through{text-decoration:line-through}.aqua{color:#00bfbf}.aqua-background{background:#00fafa}.black{color:#000}.black-background{background:#000}.blue{color:#0000bf}.blue-background{background:#0000fa}.fuchsia{color:#bf00bf}.fuchsia-background{background:#fa00fa}.gray{color:#606060}.gray-background{background:#7d7d7d}.green{color:#006000}.green-background{background:#007d00}.lime{color:#00bf00}.lime-background{background:#00fa00}.maroon{color:#600000}.maroon-background{background:#7d0000}.navy{color:#000060}.navy-background{background:#00007d}.olive{color:#606000}.olive-background{background:#7d7d00}.purple{color:#600060}.purple-background{background:#7d007d}.red{color:#bf0000}.red-background{background:#fa0000}.silver{color:#909090}.silver-background{background:#bcbcbc}.teal{color:#006060}.teal-background{background:#007d7d}.white{color:#bfbfbf}.white-background{background:#fafafa}.yellow{color:#bfbf00}.yellow-background{background:#fafa00}span.icon>.fa{cursor:default}a span.icon>.fa{cursor:inherit}.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,0.5);cursor:default}.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,0.8);color:#111}.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}.conum[data-value]{display:inline-block;color:#fff !important;background:rgba(0,0,0,0.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans", "DejaVu Sans", sans-serif;font-style:normal;font-weight:bold}.conum[data-value] *{color:#fff !important}.conum[data-value]+b{display:none}.conum[data-value]::after{content:attr(data-value)}pre .conum[data-value]{position:relative;top:-0.125em}b.conum *{color:inherit !important}.conum:not([data-value]):empty{display:none}dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}h1,h2,p,td.content,span.alt,summary{letter-spacing:-0.01em}p strong,td.content strong,div.footnote strong{letter-spacing:-0.005em}p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}.print-only{display:none !important}@page{margin:1.25cm 0.75cm}@media print{*{box-shadow:none !important;text-shadow:none !important}html{font-size:80%}a{color:inherit !important;text-decoration:underline !important}a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none !important}a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:0.25em}abbr[title]{border-bottom:1px dotted}abbr[title]::after{content:" (" attr(title) ")"}pre,blockquote,tr,img,object,svg{page-break-inside:avoid}thead{display:table-header-group}p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}body>div[id]{max-width:none}#toc,.sidebarblock,.exampleblock>.content{background:none !important}#toc{border-bottom:1px solid #dddddf !important;padding-bottom:0 !important}body.book #header{text-align:center}body.book #header>h1:first-child{border:0 !important;margin:2.5em 0 1em}body.book #header .details{border:0 !important;display:block;padding:0 !important}body.book #header .details span:first-child{margin-left:0 !important}body.book #header .details br{display:block}body.book #header .details br+span::before{content:none !important}body.book #toc{border:0 !important;text-align:left !important;padding:0 !important;margin:0 !important}body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}.listingblock code[data-lang]::before{display:block}div.page-break{display:block;page-break-after:always}#footer{padding:0 0.9375em}.hide-on-print{display:none !important}.print-only{display:block !important}.hide-for-print{display:none !important}.show-for-print{display:inherit !important}}@media amzn-kf8, print{#header>h1:first-child{margin-top:1.25rem}.sect1{padding:0 !important}.sect1+.sect1{border:0}#footer{background:none}#footer-text{color:rgba(0,0,0,0.6);font-size:0.9em}}@media amzn-kf8{body>div[id]{padding:0}}body{padding:0;margin:0;margin-top:70px !important}.container{position:relative;z-index:1;padding-top:50px;min-height:100%}.container p{font-family:sans-serif;font-size:1.2em}nav{position:fixed;z-index:9999;left:0;right:0;top:0;height:70px;padding:0 1.5em;background-color:#025d8c;font-family:sans-serif;line-height:70px}nav .logo{width:50px;vertical-align:middle}nav .nav-menu{position:absolute;right:0.3em;top:0;padding:0;margin:0;list-style:none}nav .nav-item{display:inline-block}nav .nav-item>a{display:inline-block;padding:0 2.5em;line-height:70px;color:#fff;text-decoration:none}nav .dropdown{position:relative}nav .dropdown a::after{content:"";display:inline-block;margin-left:0.5em;vertical-align:middle;border-top:0.3em solid #fff;border-right:0.3em solid transparent;border-left:0.3em solid transparent}nav .dropdown.show a::after{transform:rotate(180deg)}nav .dropdown-menu{display:none;position:absolute;left:0;right:0;top:100%;padding:0.5em 0;margin-top:-0.5em;border:1px solid rgba(0,0,0,0.3);border-radius:0.5em;background-color:#fff;width:max-content}nav .dropdown-menu-left{left:auto;right:0}nav .dropdown.show .dropdown-menu{display:block}nav .dropdown-div{display:block;padding:0.4em 0;line-height:4em}nav .dropdown-div a::after{content:none;margin-left:0;border-top:0;border-right:0;border-left:0}nav .dropdown-item{display:block;padding:0 1.5em;font-size:0.875em;color:#000;line-height:1.6em;text-decoration:none}nav .btn-hamburger{display:none;position:absolute;right:1.5em;top:50%;background-color:transparent;border:0;cursor:pointer;outline:none;transform:translateY(-50%)}nav .btn-hamburger span{display:block;width:30px;height:4px;background-color:#fff;margin:6px;border-radius:2px;transition:0.3s ease-in-out}nav .btn-hamburger span:nth-child(4),nav .btn-hamburger span:nth-child(5){position:absolute;top:10px;opacity:0.5}nav .btn-hamburger span:nth-child(4){transform:rotate(45deg) scale(0)}nav .btn-hamburger span:nth-child(5){transform:rotate(-45deg) scale(0)}nav.opened .btn-hamburger span:nth-child(4){opacity:1;transform:rotate(45deg) scale(1)}nav.opened .btn-hamburger span:nth-child(5){opacity:1;transform:rotate(-45deg) scale(1)}nav.opened .btn-hamburger span:nth-child(1),nav.opened .btn-hamburger span:nth-child(2),nav.opened .btn-hamburger span:nth-child(3){opacity:0}@media screen and (max-width: 768px){nav .nav-menu{position:fixed;left:0;right:0;top:70px;bottom:100%;display:flex;flex-direction:column;justify-content:start;background-color:#363d4e;transition:bottom 0.5s ease-in-out;overflow:hidden}nav.opened .nav-menu{bottom:0}nav .nav-item>a{display:block}nav .dropdown-menu{position:relative;top:0;margin:0 1.5em}nav .btn-hamburger{display:block}}/*!
* "Fork me on GitHub" CSS ribbon v0.2.3 | MIT License
* https://github.com/simonwhitaker/github-fork-ribbon-css

The MIT License (MIT)

Copyright (c) 2013 Simon Whitaker

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/.github-fork-ribbon,.release-ribbon,.issue-ribbon{width:12.1em;height:12.1em;position:absolute;overflow:hidden;top:70px;right:0;z-index:9998;pointer-events:none;font-size:13px;text-decoration:none;text-indent:-999999px}.github-fork-ribbon.fixed,.fixed.release-ribbon,.fixed.issue-ribbon{position:fixed}.github-fork-ribbon:hover,.release-ribbon:hover,.issue-ribbon:hover,.github-fork-ribbon:active,.release-ribbon:active,.issue-ribbon:active{background-color:transparent}.github-fork-ribbon:before,.release-ribbon:before,.issue-ribbon:before,.github-fork-ribbon:after,.release-ribbon:after,.issue-ribbon:after{position:absolute;display:block;width:15.38em;height:1.54em;top:3.23em;right:-3.23em;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.github-fork-ribbon:before,.release-ribbon:before,.issue-ribbon:before{content:"";padding:.38em 0;background-color:#a00;background-image:-webkit-gradient(linear, left top, left bottom, from(transparent), to(rgba(0,0,0,0.15)));background-image:-webkit-linear-gradient(top, transparent, rgba(0,0,0,0.15));background-image:-moz-linear-gradient(top, transparent, rgba(0,0,0,0.15));background-image:-ms-linear-gradient(top, transparent, rgba(0,0,0,0.15));background-image:-o-linear-gradient(top, transparent, rgba(0,0,0,0.15));background-image:linear-gradient(to bottom, transparent, rgba(0,0,0,0.15));-webkit-box-shadow:0 0.15em 0.23em 0 rgba(0,0,0,0.5);-moz-box-shadow:0 0.15em 0.23em 0 rgba(0,0,0,0.5);box-shadow:0 0.15em 0.23em 0 rgba(0,0,0,0.5);pointer-events:auto}.github-fork-ribbon:after,.release-ribbon:after,.issue-ribbon:after{content:attr(data-ribbon);color:#fff;font:700 1em "Helvetica Neue", Helvetica, Arial, sans-serif;line-height:1.54em;text-decoration:none;text-shadow:0 -0.08em rgba(0,0,0,0.5);text-align:center;text-indent:0;padding:.15em 0;margin:.15em 0;border-width:.08em 0;border-style:dotted;border-color:#fff;border-color:rgba(255,255,255,0.7)}.github-fork-ribbon.left-top,.left-top.release-ribbon,.left-top.issue-ribbon,.github-fork-ribbon.left-bottom,.left-bottom.release-ribbon,.left-bottom.issue-ribbon{right:auto;left:0}.github-fork-ribbon.left-bottom,.left-bottom.release-ribbon,.left-bottom.issue-ribbon,.github-fork-ribbon.right-bottom,.right-bottom.release-ribbon,.right-bottom.issue-ribbon{top:auto;bottom:0}.github-fork-ribbon.left-top:before,.left-top.release-ribbon:before,.left-top.issue-ribbon:before,.github-fork-ribbon.left-top:after,.left-top.release-ribbon:after,.left-top.issue-ribbon:after,.github-fork-ribbon.left-bottom:before,.left-bottom.release-ribbon:before,.left-bottom.issue-ribbon:before,.github-fork-ribbon.left-bottom:after,.left-bottom.release-ribbon:after,.left-bottom.issue-ribbon:after{right:auto;left:-3.23em}.github-fork-ribbon.left-bottom:before,.left-bottom.release-ribbon:before,.left-bottom.issue-ribbon:before,.github-fork-ribbon.left-bottom:after,.left-bottom.release-ribbon:after,.left-bottom.issue-ribbon:after,.github-fork-ribbon.right-bottom:before,.right-bottom.release-ribbon:before,.right-bottom.issue-ribbon:before,.github-fork-ribbon.right-bottom:after,.right-bottom.release-ribbon:after,.right-bottom.issue-ribbon:after{top:auto;bottom:3.23em}.github-fork-ribbon.left-top:before,.left-top.release-ribbon:before,.left-top.issue-ribbon:before,.github-fork-ribbon.left-top:after,.left-top.release-ribbon:after,.left-top.issue-ribbon:after,.github-fork-ribbon.right-bottom:before,.right-bottom.release-ribbon:before,.right-bottom.issue-ribbon:before,.github-fork-ribbon.right-bottom:after,.right-bottom.release-ribbon:after,.right-bottom.issue-ribbon:after{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg)}.release-ribbon:before{background-color:#a00}.issue-ribbon:before{background-color:#025d8c}@media screen{div.narrow{max-width:1080px;margin:0 auto !important;margin-top:70px auto !important;float:none !important}#toc.toc2{margin-top:70px !important}}

</style>
<!-- Generate a nice TOC -->
<script src="/js/jquery-1.11.3.min.js"></script>
<script src="/js/jquery-ui.min.js"></script>
<script src="/js/jquery.tocify.min.js"></script>
<!-- We do not need the tocify CSS because the asciidoc CSS already provides most of what we neeed -->

<style>
.tocify-header {
    /* font-style: italic; */
}

.tocify-subheader {
    font-style: normal;
    font-size: 95%;
}

.tocify ul {
    margin: 0;
 }

.tocify-focus {
    /* background-color: rgba(0, 0, 0, 0.05);*/
}

.tocify-focus > a {
    color: #ba3925;
}
</style>

<script type="text/javascript">
    $(function () {
        // Add a new container for the tocify toc into the existing toc so we can re-use its
        // styling
        $("#toc").append("<div id='generated-toc'></div>");
        $("#generated-toc").tocify({
            extendPage: true,
            context: "#content",
            highlightOnScroll: true,
            hideEffect: "slideUp",
            // Use the IDs that asciidoc already provides so that TOC links and intra-document
            // links are the same. Anything else might confuse users when they create bookmarks.
            hashGenerator: function(text, element) {
                return $(element).attr("id");
            },
            // Smooth scrolling doesn't work properly if we use the asciidoc IDs
            smoothScroll: false,
            // Set to 'none' to use the tocify classes
            theme: "none",
            // Handle book (may contain h1) and article (only h2 deeper)
            selectors: $( "#content" ).has( "h1" ).size() > 0 ? "h1,h2,h3,h4,h5" : "h2,h3,h4,h5",
            ignoreSelector: ".discrete"
        });

        // Switch between static asciidoc toc and dynamic tocify toc based on browser size
        // This is set to match the media selectors in the asciidoc CSS
        // Without this, we keep the dynamic toc even if it is moved from the side to preamble
        // position which will cause odd scrolling behavior
        var handleTocOnResize = function() {
            if ($(document).width() < 768) {
                $("#generated-toc").hide();
                $(".sectlevel0").show();
                $(".sectlevel1").show();
            }
            else {
                $("#generated-toc").show();
                $(".sectlevel0").hide();
                $(".sectlevel1").hide();
            }
        }

        $(window).resize(handleTocOnResize);
        handleTocOnResize();
    });
</script>
</head>
<body class="book toc2 toc-left">
    <div id="wrap">
      <script src="/js/versions.js"></script>
      <script src="/js/nav.js"></script>
      <script>
        document.open();
        document.write(buildNavigation());
        addNavbarListeners();
        document.close();
      </script>
    </div>
<div id="header">
<h1>Upgrading orcharhino to 6.10</h1>
<div class="details">
<span id="revnumber">version 6.10 (unsupported),</span>
<span id="revdate">published Oct 01 2025</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#upgrading_overview_upgrading-connected">1. Upgrading overview</a>
<ul class="sectlevel2">
<li><a href="#upgrade_paths_upgrading-connected">1.1. Upgrade paths</a></li>
<li><a href="#upgrading_prerequisites_upgrading-connected">1.2. Prerequisites</a></li>
<li><a href="#Upgrading_Proxies_Separately_from_Server_upgrading-connected">1.3. Upgrading orcharhino&#160;Proxies separately from orcharhino</a></li>
<li><a href="#following_the_progress_of_the_upgrade_upgrading-connected">1.4. Following the progress of the upgrade</a></li>
</ul>
</li>
<li><a href="#Upgrading_orcharhino_upgrading-connected">2. Upgrading orcharhino</a>
<ul class="sectlevel2">
<li><a href="#Project_Upgrade_Considerations_upgrading-connected">2.1. orcharhino&#160;Server upgrade considerations</a></li>
<li><a href="#Upgrading_the_External_Database_upgrading-connected">2.2. Upgrading the external database</a>
<ul class="sectlevel3">
<li><a href="#Upgrading_PostgreSQL_on_the_External_Database_System_upgrading-connected">2.2.1. Upgrading PostgreSQL on the external database system</a></li>
<li><a href="#upgrading-the-external-database-operating-system">2.2.2. Upgrading the external database operating system</a></li>
</ul>
</li>
<li><a href="#upgrading_a_connected_orcharhino_server_upgrading-connected">2.3. Upgrading a connected orcharhino&#160;Server</a></li>
<li><a href="#performing-post-upgrade-tasks_upgrading-connected">2.4. Performing post-upgrade tasks</a></li>
<li><a href="#upgrading_orcharhino-proxy_server_upgrading-connected">2.5. Upgrading orcharhino&#160;Proxy&#160;Servers</a></li>
</ul>
</li>
<li><a href="#upgrading_EL_on_orcharhino_or_proxy_upgrading-connected">3. Upgrading Enterprise Linux on orcharhino or orcharhino&#160;Proxy</a>
<ul class="sectlevel2">
<li><a href="#upgrading-orcharhino-or-orcharhino-proxy-in-place-using-leapp_upgrading-connected">3.1. Upgrading orcharhino or orcharhino&#160;Proxy to EL 9 in-place by using Leapp</a></li>
<li><a href="#migrating-orcharhino-or-proxy-using-backup-restore_upgrading-connected">3.2. Migrating orcharhino or orcharhino&#160;Proxy to EL&#160;9 using backup and restore</a></li>
</ul>
</li>
<li><a href="#troubleshooting-permission-issues">Appendix A: Troubleshooting permission issues</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="upgrading_overview_upgrading-connected"><a class="anchor" href="#upgrading_overview_upgrading-connected"></a>1. Upgrading overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Review the following prerequisites and available upgrade paths before upgrading your current orcharhino installation to orcharhino 6.10.</p>
</div>
<div class="sect2">
<h3 id="upgrade_paths_upgrading-connected"><a class="anchor" href="#upgrade_paths_upgrading-connected"></a>1.1. Upgrade paths</h3>
<div class="paragraph">
<p>You can upgrade to orcharhino 6.10 from orcharhino 6.9.
For complete instructions on how to upgrade, see <a href="#Upgrading_orcharhino_upgrading-connected">Upgrading orcharhino</a>.</p>
</div>
<div class="paragraph">
<p>The high-level steps in upgrading orcharhino to 6.10 are as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you use an external database, upgrade the external database to PostgreSQL 13.
Optionally, upgrade the underlying operating system from Enterprise Linux&#160;8 to Enterprise Linux&#160;9.</p>
</li>
<li>
<p>Upgrade your orcharhino&#160;Server:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Upgrade your orcharhino&#160;Server to 6.10.</p>
</li>
<li>
<p>Optional: Upgrade the operating system on your orcharhino&#160;Server to Enterprise Linux&#160;9.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Although upgrading the operating system of your orcharhino&#160;Server to Enterprise Linux&#160;9 is optional, you will need to do it before you can upgrade to the next orcharhino version after 6.10.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Upgrade your orcharhino&#160;Proxy&#160;Servers:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Upgrade all orcharhino&#160;Proxy&#160;Servers to 6.10.</p>
</li>
<li>
<p>Optional: Upgrade the operating system on your orcharhino&#160;Proxy&#160;Servers to Enterprise Linux&#160;9.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Although upgrading the operating system of your orcharhino&#160;Proxy&#160;Servers to Enterprise Linux&#160;9 is optional, you will need to do it before you can upgrade to the next orcharhino version after 6.10.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>orcharhino&#160;Proxies at version 6.9 will keep working with your upgraded orcharhino&#160;Server 6.10.
After you upgrade orcharhino&#160;Server to 6.10, you can upgrade your orcharhino&#160;Proxies separately over multiple maintenance windows.</p>
</div>
<div class="paragraph">
<p>orcharhino services are shut down during the upgrade.
Ensure to plan for the required downtime.
The upgrade process duration might vary depending on your hardware configuration, network speed, and the amount of data that is stored on the server.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Upgrading orcharhino&#160;Server takes approximately 1&#8202;&#8211;&#8202;2 hours.</p>
</li>
<li>
<p>Upgrading orcharhino&#160;Proxy&#160;Server takes approximately 10&#8202;&#8211;&#8202;30 minutes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Hammer and API considerations</div>
<p>If you have any scripts that use the Hammer CLI tool, ensure that you modify these scripts according to the changes in Hammer.
If you have any integrations that use the orcharhino REST API, ensure that you modify these integrations according to the changes in the API.
For more information about changes in Hammer and API, see <a href="https://docs.theforeman.org/3.12/Release_Notes/index-orcharhino.html#"><em>Release notes</em></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="upgrading_prerequisites_upgrading-connected"><a class="anchor" href="#upgrading_prerequisites_upgrading-connected"></a>1.2. Prerequisites</h3>
<div class="paragraph">
<p>Upgrading to orcharhino 6.10 affects your entire orcharhino infrastructure.
Before proceeding, complete the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Read the orcharhino 6.10 <a href="https://docs.theforeman.org/3.12/Release_Notes/index-orcharhino.html#">Release Notes</a>.</p>
</li>
<li>
<p>Ensure that you have sufficient storage space on your server.
For more information, see <a href="https://docs.theforeman.org/3.12/Installing_Server/index-orcharhino.html#Preparing_your_Environment_for_Installation_orcharhino">Preparing your Environment for Installation</a> in <em>Installing orcharhino&#160;Server</em> and <a href="https://docs.theforeman.org/3.12/Installing_Proxy/index-orcharhino.html#preparing-environment-for-capsule-installation">Preparing your Environment for Installation</a> in <em>Installing orcharhino&#160;Proxy&#160;Server</em>.</p>
</li>
<li>
<p>Ensure that you have at least the same amount of free space on <code>/var/lib/pgsql</code> as that consumed by <code>/var/lib/pgsql/data</code>.
Upgrading to orcharhino 6.10 involves a PostgreSQL 12 to PostgreSQL 13 upgrade.
The contents of <code>/var/lib/pgsql/data</code> are backed up during the PostgreSQL upgrade.</p>
</li>
<li>
<p>Back up your orcharhino&#160;Server and all orcharhino&#160;Proxy&#160;Servers.
For more information, see <a href="https://docs.theforeman.org/3.12/Administering_Project/index-orcharhino.html#backing-up-orcharhino-server-and-orcharhino-proxy_admin">Backing Up orcharhino&#160;Server and orcharhino&#160;Proxy&#160;Server</a> in <em>Administering orcharhino</em>.</p>
</li>
<li>
<p>Plan for updating any scripts you use that contain orcharhino API commands because some API commands differ between versions of orcharhino.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If you customize configuration files, manually or using a tool such as Hiera, these changes are overwritten when the maintenance script runs during upgrading or updating.
You can use the <code>--noop</code> option with the foreman-installer to test for changes.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Upgrading_Proxies_Separately_from_Server_upgrading-connected"><a class="anchor" href="#Upgrading_Proxies_Separately_from_Server_upgrading-connected"></a>1.3. Upgrading orcharhino&#160;Proxies separately from orcharhino</h3>
<div class="paragraph">
<p>You can upgrade orcharhino to version 6.10 and keep orcharhino&#160;Proxies at version 6.9 until you have the capacity to upgrade them too.</p>
</div>
<div class="paragraph">
<p>All the functionality that worked previously works on 6.9 orcharhino&#160;Proxies.
However, the functionality added in the 6.10 release will not work until you upgrade orcharhino&#160;Proxies to 6.10.</p>
</div>
<div class="paragraph">
<p>Upgrading orcharhino&#160;Proxies after upgrading orcharhino can be useful in the following example scenarios:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you want to have several smaller outage windows instead of one larger window.</p>
</li>
<li>
<p>If orcharhino&#160;Proxies in your organization are managed by several teams and are located in different locations.</p>
</li>
<li>
<p>If you use a load-balanced configuration, you can upgrade one load-balanced orcharhino&#160;Proxy and keep other load-balanced orcharhino&#160;Proxies at one version lower.
This allows you to upgrade all orcharhino&#160;Proxies one after another without any outage.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="following_the_progress_of_the_upgrade_upgrading-connected"><a class="anchor" href="#following_the_progress_of_the_upgrade_upgrading-connected"></a>1.4. Following the progress of the upgrade</h3>
<div class="paragraph">
<p>Because of the lengthy upgrade time, use a utility such as <code>tmux</code> to suspend and reattach a communication session.
You can then check the upgrade progress without staying connected to the command shell continuously.
For more information, see the <code>tmux</code> manual page.</p>
</div>
<div class="paragraph">
<p>If you lose connection to the command shell where the upgrade command is running you can see the logs in <code>/var/log/foreman-installer/katello.log</code> to check if the process completed successfully.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Upgrading_orcharhino_upgrading-connected"><a class="anchor" href="#Upgrading_orcharhino_upgrading-connected"></a>2. Upgrading orcharhino</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the following procedures to upgrade your existing orcharhino to orcharhino 6.10.</p>
</div>
<div class="sect2">
<h3 id="Project_Upgrade_Considerations_upgrading-connected"><a class="anchor" href="#Project_Upgrade_Considerations_upgrading-connected"></a>2.1. orcharhino&#160;Server upgrade considerations</h3>
<div class="paragraph">
<p>This section describes how to upgrade orcharhino&#160;Server from 6.9 to 6.10.
You can upgrade from any minor version of orcharhino&#160;Server 6.9.</p>
</div>
<div class="ulist">
<div class="title">Before you begin</div>
<ul>
<li>
<p>Review <a href="#upgrading_prerequisites_upgrading-connected">Prerequisites</a>.</p>
</li>
<li>
<p>Note that you can upgrade orcharhino&#160;Proxies separately from orcharhino.
For more information, see <a href="#Upgrading_Proxies_Separately_from_Server_upgrading-connected">Upgrading orcharhino&#160;Proxies separately from orcharhino</a>.</p>
</li>
<li>
<p>Review and update your firewall configuration.
For more information, see <a href="https://docs.theforeman.org/3.12/Installing_Server/index-orcharhino.html#Preparing_your_Environment_for_Installation_orcharhino">Preparing your environment for installation</a> in <em>Installing orcharhino&#160;Server</em>.</p>
</li>
<li>
<p>Ensure that you do not delete the manifest from the Customer Portal or in the orcharhino management UI because this removes all the entitlements of your content hosts.</p>
</li>
<li>
<p>If you have edited any of the default templates, back up the files either by cloning or exporting them.
Cloning is the recommended method because that prevents them being overwritten in future updates or upgrades.
To confirm if a template has been edited, you can view its <strong>History</strong> before you upgrade or view the changes in the audit log after an upgrade.
In the orcharhino management UI, navigate to <strong>Monitor</strong> &gt; <strong>Audits</strong> and search for the template to see a record of changes made.
If you use the export method, restore your changes by comparing the exported template and the default template, manually applying your changes.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">orcharhino&#160;Proxy considerations</div>
<ul>
<li>
<p>If you use content views to control updates to a orcharhino&#160;Proxy&#160;Server’s base operating system, or for orcharhino&#160;Proxy&#160;Server repository, you must publish updated versions of those content views.</p>
</li>
<li>
<p>Note that orcharhino&#160;Server upgraded from 6.9 to 6.10 can use orcharhino&#160;Proxy&#160;Servers still at 6.9.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you implemented custom certificates, you must retain the content of both the <code>/root/ssl-build</code> directory and the directory in which you created any source files associated with your custom
certificates.</p>
</div>
<div class="paragraph">
<p>Failure to retain these files during an upgrade causes the upgrade to fail.
If these files have been deleted, they must be restored from a backup in order for the upgrade to proceed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">FIPS mode</div>
<p>You cannot upgrade orcharhino&#160;Server from a RHEL base system that is not operating in FIPS mode to a RHEL base system that is operating in FIPS mode.</p>
</div>
<div class="paragraph">
<p>To run orcharhino&#160;Server on a Red&#160;Hat Enterprise Linux base system operating in FIPS mode, you must install orcharhino on a freshly provisioned RHEL base system operating in FIPS mode.
For more information, see <a href="https://docs.theforeman.org/3.12/Installing_Server/index-orcharhino.html#Preparing_your_Environment_for_Installation_orcharhino">Preparing your environment for installation</a> in <em>Installing orcharhino&#160;Server</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="Upgrading_the_External_Database_upgrading-connected"><a class="anchor" href="#Upgrading_the_External_Database_upgrading-connected"></a>2.2. Upgrading the external database</h3>
<div class="paragraph">
<p>If you use an external database, upgrade the external database to PostgreSQL 13.
Optionally, you can upgrade the underlying operating system from Enterprise Linux 8 to Enterprise Linux 9.</p>
</div>
<div class="sect3">
<h4 id="Upgrading_PostgreSQL_on_the_External_Database_System_upgrading-connected"><a class="anchor" href="#Upgrading_PostgreSQL_on_the_External_Database_System_upgrading-connected"></a>2.2.1. Upgrading PostgreSQL on the external database system</h4>
<div class="paragraph">
<p>Upgrade the external database to PostgreSQL 13 and rectify the permissions.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Follow the instructions in <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/using-databases#fast-upgrade-using-the-pg_upgrade-tool_migrating-to-a-rhel-8-version-of-postgresql">Fast upgrade using the pg_upgrade utility</a> in <em>Red&#160;Hat Enterprise Linux&#160;8 Deploying different types of servers</em> to upgrade the external database.</p>
</li>
<li>
<p>Correct the permissions on the <code>evr</code> extension on the external database:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># runuser -l postgres -c \
"psql -d foreman -c \"UPDATE pg_extension SET extowner = (SELECT oid FROM pg_authid WHERE rolname='foreman') WHERE extname='evr';\""</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="upgrading-the-external-database-operating-system"><a class="anchor" href="#upgrading-the-external-database-operating-system"></a>2.2.2. Upgrading the external database operating system</h4>
<div class="paragraph">
<p>Optionally, you can upgrade the external database from Enterprise Linux 8 to Enterprise Linux 9 using backup and restore.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A host running Enterprise Linux 9 for PostgreSQL server that follows the external database on Enterprise Linux 9 documentation.
For more information, see <a href="https://docs.theforeman.org/3.12/Installing_Server/index-orcharhino.html#using-external-databases">Using external databases with orcharhino</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a backup of your existing external database.</p>
</li>
<li>
<p>Restore the backup on the new Enterprise Linux 9 server.</p>
</li>
<li>
<p>Verify that orcharhino can reach the new database:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># PGPASSWORD='<em>My_Foreman_Database_Password</em>' psql -h <em>postgres.example.com</em> -p 5432 -U foreman -d foreman -c "SELECT 1 as ping"</pre>
</div>
</div>
</li>
<li>
<p>If your orcharhino&#160;Server can reach the new database server by using the old name, no further changes are required.
Otherwise, reconfigure orcharhino to use the new name:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-installer \
--foreman-db-host <em>newpostgres.example.com</em> \
--katello-candlepin-db-host <em>newpostgres.example.com</em> \
--foreman-proxy-content-pulpcore-postgresql-host <em>newpostgres.example.com</em></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="upgrading_a_connected_orcharhino_server_upgrading-connected"><a class="anchor" href="#upgrading_a_connected_orcharhino_server_upgrading-connected"></a>2.3. Upgrading a connected orcharhino&#160;Server</h3>
<div class="paragraph">
<p>Use this procedure for a orcharhino&#160;Server with access to the public internet</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If you customize configuration files, manually or using a tool such as Hiera, these changes are overwritten when the maintenance script runs during upgrading or updating.
You can use the <code>--noop</code> option with the foreman-installer to test for changes.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Upgrade orcharhino&#160;Server</div>
<ol class="arabic">
<li>
<p>Stop all orcharhino services:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-maintain service stop</pre>
</div>
</div>
</li>
<li>
<p>Take a snapshot or create a backup:</p>
<div class="ulist">
<ul>
<li>
<p>On a virtual machine, take a snapshot.</p>
</li>
<li>
<p>On a physical machine, create a backup.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Start all orcharhino services:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-maintain service start</pre>
</div>
</div>
</li>
<li>
<p>Optional: If you made manual edits to DNS or DHCP configuration in the <code>/etc/zones.conf</code> or <code>/etc/dhcp/dhcpd.conf</code> files, back up the configuration files because the installer only supports one domain or subnet, and therefore restoring changes from these backups might be required.</p>
</li>
<li>
<p>Optional: If you made manual edits to DNS or DHCP configuration files and do not want to overwrite the changes, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-installer \
--foreman-proxy-dhcp-managed=false \
--foreman-proxy-dns-managed=false</pre>
</div>
</div>
</li>
<li>
<p>In the orcharhino management UI, navigate to <strong>Hosts</strong> &gt; <strong>Discovered hosts</strong>.
On the Discovered Hosts page, power off and then delete the discovered hosts.
From the <strong>Select an Organization</strong> menu, select each organization in turn and repeat the process to power off and delete the discovered hosts.
Make a note to reboot these hosts when the upgrade is complete.</p>
</li>
<li>
<p>Determine if the system needs a reboot:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf needs-restarting --reboothint</pre>
</div>
</div>
</li>
<li>
<p>If the previous command told you to reboot, then reboot the system:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># reboot</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>Optional: Upgrade the operating system to Enterprise Linux&#160;9 on the upgraded orcharhino&#160;Server.
For more information, see <a href="#upgrading_EL_on_orcharhino_or_proxy_upgrading-connected">Upgrading Enterprise Linux on orcharhino or orcharhino&#160;Proxy</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="performing-post-upgrade-tasks_upgrading-connected"><a class="anchor" href="#performing-post-upgrade-tasks_upgrading-connected"></a>2.4. Performing post-upgrade tasks</h3>
<div class="ulist">
<ul>
<li>
<p>Optional: If the default provisioning templates have been changed during the upgrade, recreate any templates cloned from the default templates.
If the custom code is executed before and/or after the provisioning process, use custom provisioning snippets to avoid recreating cloned templates.
For more information about configuring custom provisioning snippets, see <a href="https://docs.theforeman.org/3.12/Provisioning_Hosts/index-orcharhino.html#Creating_Custom_Provisioning_Snippets_provisioning">Creating Custom Provisioning Snippets</a> in <em>Provisioning hosts</em>.</p>
</li>
<li>
<p>Delete the <code>/var/lib/pgsql/data-old/</code> directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># rm -r /var/lib/pgsql/data-old/</pre>
</div>
</div>
<div class="paragraph">
<p>PostgreSQL creates this directory for backup purposes during the upgrade.
If the upgrade finishes successfully, the data in this directory can no longer be used.</p>
</div>
</li>
<li>
<p>Pulp is introducing more data about container manifests to the API.
This information allows Katello to display manifest labels, annotations, and information about the manifest type, such as if it is bootable or represents flatpak content.
As a result, migrations must be performed to pull this content from manifests into the database.</p>
<div class="paragraph">
<p>This migration takes time, so a pre-migration runs automatically after the upgrade to 6.10 to reduce future upgrade downtime.
While the pre-migration is running, orcharhino&#160;Server is fully functional but uses more hardware resources.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="upgrading_orcharhino-proxy_server_upgrading-connected"><a class="anchor" href="#upgrading_orcharhino-proxy_server_upgrading-connected"></a>2.5. Upgrading orcharhino&#160;Proxy&#160;Servers</h3>
<div class="paragraph">
<p>This section describes how to upgrade orcharhino&#160;Proxy&#160;Servers from 6.9 to 6.10.</p>
</div>
<div class="ulist">
<div class="title">Before you begin</div>
<ul>
<li>
<p>Review <a href="#upgrading_prerequisites_upgrading-connected">Prerequisites</a>.</p>
</li>
<li>
<p>You must upgrade orcharhino&#160;Server before you can upgrade any orcharhino&#160;Proxy&#160;Servers.
Note that you can upgrade orcharhino&#160;Proxies separately from orcharhino.
For more information, see <a href="#Upgrading_Proxies_Separately_from_Server_upgrading-connected">Upgrading orcharhino&#160;Proxies separately from orcharhino</a>.</p>
</li>
<li>
<p>If you use content views to control updates to the base operating system of orcharhino&#160;Proxy&#160;Server, update those content views with new repositories, publish, and promote their updated versions.
For more information, see <a href="https://docs.theforeman.org/3.12/Managing_Content/index-orcharhino.html#Managing_Content_Views_content-management">Managing content views</a> in <em>Managing content</em>.</p>
</li>
<li>
<p>Ensure the orcharhino&#160;Proxy&#8217;s base system is registered to the newly upgraded orcharhino&#160;Server.</p>
</li>
<li>
<p>Ensure the orcharhino&#160;Proxy has the correct organization and location settings in the newly upgraded orcharhino&#160;Server.</p>
</li>
<li>
<p>Review and update your firewall configuration prior to upgrading your orcharhino&#160;Proxy&#160;Server.
For more information, see <a href="https://docs.theforeman.org/3.12/Installing_Proxy/index-orcharhino.html#preparing-environment-for-capsule-installation">Preparing Your Environment for orcharhino&#160;Proxy Installation</a> in <em>Installing orcharhino&#160;Proxy&#160;Server</em>.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you implemented custom certificates, you must retain the content of both the <code>/root/ssl-build</code> directory and the directory in which you created any source files associated with your custom certificates.</p>
</div>
<div class="paragraph">
<p>Failure to retain these files during an upgrade causes the upgrade to fail.
If these files have been deleted, they must be restored from a backup in order for the upgrade to proceed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Upgrading orcharhino&#160;Proxy&#160;Servers</div>
<ol class="arabic">
<li>
<p>Create a backup.</p>
<div class="ulist">
<ul>
<li>
<p>On a virtual machine, take a snapshot.</p>
</li>
<li>
<p>On a physical machine, create a backup.</p>
<div class="paragraph">
<p>For information on backups, see <a href="https://docs.theforeman.org/3.12/Administering_Project/index-orcharhino.html#backing-up-orcharhino-server-and-orcharhino-proxy_admin">Backing Up orcharhino&#160;Server and orcharhino&#160;Proxy&#160;Server</a> in <em>Administering orcharhino</em>.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Determine if the system needs a reboot:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf needs-restarting --reboothint</pre>
</div>
</div>
</li>
<li>
<p>If the previous command told you to reboot, then reboot the system:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># reboot</pre>
</div>
</div>
</li>
<li>
<p>Optional: If you made manual edits to DNS or DHCP configuration files, check and restore any changes required to the DNS and DHCP configuration files using the backups made earlier.</p>
</li>
<li>
<p>Optional: If you use custom repositories, ensure that you enable these custom repositories after the upgrade completes.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Upgrading orcharhino&#160;Proxy&#160;Servers using remote execution</div>
<ol class="arabic">
<li>
<p>Create a backup or take a snapshot.</p>
<div class="paragraph">
<p>For more information on backups, see <a href="https://docs.theforeman.org/3.12/Administering_Project/index-orcharhino.html#backing-up-satellite-server-and-capsule-server">Backing Up orcharhino&#160;Server and orcharhino&#160;Proxy&#160;Server</a> in <em>Administering orcharhino</em>.</p>
</div>
</li>
<li>
<p>In the orcharhino management UI, navigate to <strong>Monitor</strong> &gt; <strong>Jobs</strong>.</p>
</li>
<li>
<p>Click <strong>Run Job</strong>.</p>
</li>
<li>
<p>From the <strong>Job category</strong> list, select <strong>Maintenance Operations</strong>.</p>
</li>
<li>
<p>From the <strong>Job template</strong> list, select <strong>orcharhino&#160;Proxy Upgrade Playbook</strong>.</p>
</li>
<li>
<p>In the <strong>Search Query</strong> field, enter the host name of the orcharhino&#160;Proxy.</p>
</li>
<li>
<p>Ensure that <strong>Apply to 1 host</strong> is displayed in the <strong>Resolves to</strong> field.</p>
</li>
<li>
<p>In the <strong>target_version</strong> field, enter the target version of the orcharhino&#160;Proxy.</p>
</li>
<li>
<p>In the <strong>whitelist_options</strong> field, enter the options.</p>
</li>
<li>
<p>Select the schedule for the job execution in <strong>Schedule</strong>.</p>
</li>
<li>
<p>In the <strong>Type of query</strong> section, click <strong>Static Query</strong>.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>Optional: Upgrade the operating system to Enterprise Linux&#160;9 on the upgraded orcharhino&#160;Server.
For more information, see <a href="#upgrading_EL_on_orcharhino_or_proxy_upgrading-connected">Upgrading Enterprise Linux on orcharhino or orcharhino&#160;Proxy</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrading_EL_on_orcharhino_or_proxy_upgrading-connected"><a class="anchor" href="#upgrading_EL_on_orcharhino_or_proxy_upgrading-connected"></a>3. Upgrading Enterprise Linux on orcharhino or orcharhino&#160;Proxy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>orcharhino and orcharhino&#160;Proxy are supported on both Enterprise Linux 8 and Enterprise Linux 9.
You can use the following methods to upgrade your orcharhino or orcharhino&#160;Proxy operating system from Enterprise Linux 8 to Enterprise Linux 9:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Leapp in-place upgrade</dt>
<dd>
<p>With Leapp, you can upgrade your orcharhino or orcharhino&#160;Proxy in-place therefore it is faster but imposes a downtime on the services.</p>
</dd>
<dt class="hdlist1">Migration by using backup and restore</dt>
<dd>
<p>The Enterprise Linux 8 system remains operational during the migration using cloning, which reduces the downtime.
You can use backup and restore for migrating both orcharhino and orcharhino&#160;Proxy operating system from Enterprise Linux 8 to Enterprise Linux 9.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="upgrading-orcharhino-or-orcharhino-proxy-in-place-using-leapp_upgrading-connected"><a class="anchor" href="#upgrading-orcharhino-or-orcharhino-proxy-in-place-using-leapp_upgrading-connected"></a>3.1. Upgrading orcharhino or orcharhino&#160;Proxy to EL 9 in-place by using Leapp</h3>
<div class="paragraph">
<p>You can use the Leapp tool to upgrade as well as to help detect and resolve issues that could prevent you from upgrading successfully.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>orcharhino 6.10 or orcharhino&#160;Proxy 6.10 running on Enterprise Linux 8.</p>
</li>
<li>
<p>Access to available repositories or a local mirror of repositories.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Enable the <a href="https://copr.fedorainfracloud.org/coprs/g/theforeman/leapp/">@theforeman/leapp COPR Repository</a>, which contains Leapp packages with patches to support orcharhino or orcharhino&#160;Proxy upgrades:</p>
<div class="listingblock">
<div class="content">
<pre># dnf copr enable @theforeman/leapp</pre>
</div>
</div>
</li>
<li>
<p>Install required packages:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf install leapp leapp-upgrade-el8toel9</pre>
</div>
</div>
</li>
<li>
<p>Install additional packages specific to the operating system (<code>leapp-data-almalinux</code> for AlmaLinux, <code>leapp-data-centos</code> for CentOS Stream, or <code>leapp-data-rocky</code> for Rocky Linux).
See <code>ID</code> in <code>/etc/os-release</code> for your operating system code.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf install leapp-data-$ID</pre>
</div>
</div>
<div class="paragraph">
<p>Note that this is not required for Red&#160;Hat Enterprise Linux installations.</p>
</div>
</li>
<li>
<p>Add orcharhino specific repositories to <code>/etc/leapp/files/leapp_upgrade_repositories.repo</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[leapp-foreman]
name=Foreman 6.10
baseurl=https://yum.theforeman.org/releases/6.10/el9/$basearch
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-foreman
enabled=1
gpgcheck=1

[leapp-foreman-plugins]
name=Foreman plugins 6.10
baseurl=https://yum.theforeman.org/plugins/6.10/el9/$basearch
enabled=1
gpgcheck=0</pre>
</div>
</div>
</li>
<li>
<p>Append Yum repositories for Puppet to <code>/etc/leapp/files/leapp_upgrade_repositories.repo</code>.</p>
<div class="ulist">
<ul>
<li>
<p>For Puppet 8:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[leapp-puppet8]
name=Puppet 8 Repository el 9 - $basearch
baseurl=http://yum.puppetlabs.com/puppet8/el/9/$basearch
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-2025-04-06-puppet8-release
enabled=1
gpgcheck=1</pre>
</div>
</div>
</li>
<li>
<p>For Puppet 7:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[leapp-puppet7]
name=Puppet 7 Repository el 9 - $basearch
baseurl=http://yum.puppetlabs.com/puppet7/el/9/$basearch
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-2025-04-06-puppet7-release
enabled=1
gpgcheck=1</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Let Leapp analyze your system:</p>
<div class="listingblock">
<div class="content">
<pre># leapp preupgrade</pre>
</div>
</div>
<div class="paragraph">
<p>The first run will most likely report issues and inhibit the upgrade.
Examine the report in the <code>/var/log/leapp/leapp-report.txt</code> file, answer all questions by using <code>leapp answer</code>, and manually resolve other reported problems.</p>
</div>
</li>
<li>
<p>Run <code>leapp preupgrade</code> again and make sure that it does not report any more issues.</p>
</li>
<li>
<p>Let Leapp create the upgrade environment:</p>
<div class="listingblock">
<div class="content">
<pre># leapp upgrade</pre>
</div>
</div>
</li>
<li>
<p>Reboot the system to start the upgrade.</p>
<div class="paragraph">
<p>After the system reboots, a live system conducts the upgrade, reboots to fix SELinux labels and then reboots into the final Enterprise Linux 9 system.</p>
</div>
</li>
<li>
<p>Wait for Leapp to finish the upgrade.
You can monitor the process with <code>journalctl</code>:</p>
<div class="listingblock">
<div class="content">
<pre># journalctl -u leapp_resume -f</pre>
</div>
</div>
</li>
<li>
<p>Verify the post-upgrade state.
For more information, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/upgrading_from_rhel_8_to_rhel_9/verifying-the-post-upgrade-state_upgrading-from-rhel-8-to-rhel-9">Verifying the post-upgrade state</a> in <em>Upgrading from RHEL&#160;8 to RHEL&#160;9</em>.</p>
</li>
<li>
<p>Perform post-upgrade tasks on the RHEL&#160;9 system.
For more information, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/upgrading_from_rhel_8_to_rhel_9/performing-post-upgrade-tasks-on-the-rhel-9-system_upgrading-from-rhel-8-to-rhel-9">Performing post-upgrade tasks on the RHEL&#160;9 system</a> in <em>Upgrading from RHEL&#160;8 to RHEL&#160;9</em>.</p>
</li>
<li>
<p>Change SELinux to enforcing mode.
For more information, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/upgrading_from_rhel_8_to_rhel_9/applying-security-policies_upgrading-from-rhel-8-to-rhel-9#changing-selinux-mode-to-enforcing_applying-security-policies">Changing SELinux mode to enforcing</a> in <em>Upgrading from RHEL&#160;8 to RHEL&#160;9</em>.</p>
</li>
<li>
<p>For Enterprise Linux installations, unset the <code>subscription-manager</code> release:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager release --unset</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="migrating-orcharhino-or-proxy-using-backup-restore_upgrading-connected"><a class="anchor" href="#migrating-orcharhino-or-proxy-using-backup-restore_upgrading-connected"></a>3.2. Migrating orcharhino or orcharhino&#160;Proxy to EL&#160;9 using backup and restore</h3>
<div class="paragraph">
<p>You can migrate your existing orcharhino&#160;Server and orcharhino&#160;Proxy&#160;Server from Enterprise Linux&#160;8 to a freshly installed Enterprise Linux&#160;9 system.
The migration involves creating a backup of the existing orcharhino&#160;Server and orcharhino&#160;Proxy&#160;Server, which you then restore on the new Enterprise Linux&#160;9 system.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Perform a full backup of your orcharhino&#160;Server or orcharhino&#160;Proxy.
This is the source Enterprise Linux&#160;8 server that you are migrating.
For more information, see <a href="https://docs.theforeman.org/3.12/Administering_Project/index-orcharhino.html#backing-up-orcharhino-server-and-orcharhino-proxy_admin#Performing_a_Full_Backup_admin">Performing a full backup of orcharhino&#160;Server or orcharhino&#160;Proxy&#160;Server</a> in <em>Administering orcharhino</em>.</p>
</li>
<li>
<p>Deploy a system with Enterprise Linux&#160;9 and the same hostname and configuration as the source server.
This is the target server.</p>
</li>
<li>
<p>Restore the orcharhino&#160;Server or orcharhino&#160;Proxy&#160;Server backups.
For more information, see <a href="https://docs.theforeman.org/3.12/Administering_Project/index-orcharhino.html#restoring-orcharhino-server-or-orcharhino-proxy-from-a-backup_admin">Restoring orcharhino&#160;Server or orcharhino&#160;Proxy&#160;Server from a backup</a> in <em>Administering orcharhino</em>.</p>
</li>
<li>
<p>Shut down the old Enterprise Linux&#160;8 orcharhino&#160;Server or orcharhino&#160;Proxy&#160;Server and reassign its IP address to the new Enterprise Linux&#160;9 system.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting-permission-issues"><a class="anchor" href="#troubleshooting-permission-issues"></a>Appendix A: Troubleshooting permission issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>orcharhino upgrades perform pre-upgrade checks.
If the pre-upgrade check discovers permission issues, it fails with an error similar to the following one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">2024-01-29T20:50:09 [W|app|] Could not create role 'Ansible Roles Manager': ERF73-0602 [Foreman::PermissionMissingException]: some permissions were not found:</pre>
</div>
</div>
<div class="paragraph">
<p>If you see an error like this on your orcharhino&#160;Server, identify and remedy the permission issues.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On your orcharhino&#160;Server, identify permission issues:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-maintain health check --label duplicate_permissions</pre>
</div>
</div>
</li>
<li>
<p>Fix permission issues:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-rake db:seed</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Rerun the check to ensure no permission issues remain:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-maintain health check --label duplicate_permissions</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 6.10 (unsupported)<br>
Last updated Oct 2025
</div>
</div>
</body>
</html>